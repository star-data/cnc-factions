<Catalog>
    <CBehaviorBuff id="ScrinProdigyTeleportUnitsTargeting"/>
    <CRequirement id="NBU_ScrinProdigyTeleportUnitsTargeting">
        <NodeArray index="Show" Link="NBU_ScrinProdigyTeleportUnitsTargeting"/>
    </CRequirement>
    <CRequirement id="CBU_ScrinProdigyTeleportUnitsTargeting">
        <NodeArray index="Show" Link="CBU_ScrinProdigyTeleportUnitsTargeting"/>
    </CRequirement>
    <CRequirementCountBehavior parent="CBU" id="CBU_ScrinProdigyTeleportUnitsTargeting" behavior="ScrinProdigyTeleportUnitsTargeting"/>
    <CRequirementNot parent="NBU" id="NBU_ScrinProdigyTeleportUnitsTargeting" behavior="ScrinProdigyTeleportUnitsTargeting"/>

    <CAbilEffectTarget id="ScrinProdigyTeleportUnits">
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="ScrinProdigyTeleportUnitsDummy"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="ScrinProdigyTeleportUnits" Requirements="NBU_ScrinProdigyTeleportUnitsTargeting"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel3"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="ScrinProdigyTeleportUnitsTargeting">
        <Range value="9"/>
        <Arc value="360"/>
        <Marker Link="Abil/NovaNuclearStrike"/>
        <AlertArray index="Cast" value="CalldownLaunch"/>
        <CursorEffect value="ScrinProdigyTeleportUnitsExecuteEA"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="ScrinProdigyTeleportUnitsTargeting" Requirements="CBU_ScrinProdigyTeleportUnitsTargeting"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel3"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="ScrinProdigyTeleportUnitsExecute">
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="ScrinProdigyTeleportUnitsExecute" />
    </CAbilEffectTarget>


    <CEffectDamage id="ScrinProdigyTeleportUnitsDummy">
        <ImpactLocation Value="TargetPoint"/>
        <Amount value="0"/>
        <AreaArray Radius="2" Fraction="1"/>
        <SearchFilters value="Ground;Structure,Missile,Item,Stasis,Dead,Hidden"/>
    </CEffectDamage>
    <CEffectCreatePersistent id="ScrinProdigyTeleportUnitsExecute">
        <InitialEffect value="ScrinProdigyTeleportUnitsExecuteSet"/>
        <PeriodCount value="1"/>
        <PeriodicPeriodArray value="0.1"/>
        <RevealRadius value="6"/>
        <RevealFlags index="Unfog" value="1"/>
    </CEffectCreatePersistent>
    <CEffectSet id="ScrinProdigyTeleportUnitsExecuteSet">
        <EffectArray value="ScrinProdigyTeleportUnitsCoverUnitCU"/>
        <EffectArray value="ScrinProdigyTeleportUnitsExecuteEA"/>
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectCreateUnit id="ScrinProdigyTeleportUnitsCoverUnitCU">
        <WhichLocation Value="TargetPoint"/>
        <SpawnUnit value="ScrinProdigyTeleportUnitsCoverUnit"/>
    </CEffectCreateUnit>

    <CEffectEnumArea id="ScrinProdigyTeleportUnitsExecuteEA">
        <LaunchLocation Value="TargetPoint"/>
        <ImpactLocation Value="CasterPoint"/>
        <SearchFilters value="Ground;Structure,Missile,Item,Stasis,Dead,Hidden"/>
        <AreaArray Radius="2" Effect="ScrinProdigyTeleportUnitsExecuteTP"/>
    </CEffectEnumArea>
    <CEffectTeleport id="ScrinProdigyTeleportUnitsExecuteTP">
        <PlacementAround Effect="ScrinProdigyTeleportUnitsExecuteEA"/>
        <TargetLocation Effect="ScrinProdigyTeleportUnitsExecuteEA" Value="TargetPoint"/>
        <PlacementRange value="2"/>
        <SourceLocation Effect="ScrinProdigyTeleportUnitsExecuteEA" Value="CasterPoint"/>
        <TeleportFlags index="TestFog" value="0"/>
    </CEffectTeleport>

    <CUnit id="ScrinProdigyTeleportUnitsCoverUnit">
        <Race value="Allied"/>
        <FlagArray index="Undetectable" value="1"/>
        <FlagArray index="Invulnerable" value="1"/>
        <FlagArray index="ClearRallyOnTargetLost" value="0"/>
        <Sight value="4"/>
        <AbilArray Link="ScrinProdigyTeleportUnitsExecute"/>
        <BehaviorArray Link="ScrinProdigyTeleportUnitsCoverUnitTimedLife"/>
        <CardLayouts>
            <LayoutButtons Face="ScrinProdigyTeleportUnitsExecute" Type="AbilCmd" AbilCmd="ScrinProdigyTeleportUnitsExecute,Execute" Row="0" Column="0"/>
            <LayoutButtons Face="Cancel" Type="AbilCmd" AbilCmd="ScrinProdigyTeleportUnitsExecute,Cancel" Row="2" Column="4"/>
        </CardLayouts>
        <EditorCategories value="ObjectType:Other,ObjectFamily:Melee"/>
    </CUnit>
    <CActorUnit id="ScrinProdigyTeleportUnitsCoverUnit" parent="GenericUnitStandard" unitName="ScrinProdigyTeleportUnitsCoverUnit">
        <Scale value="0.35"/>
        <HighlightTooltip value="Unit/Name/Bogus"/>
        <On Terms="ActorCreation" Send="AnimBracketStart Brith Stand"/>
    </CActorUnit>
    <CModel id="ScrinProdigyTeleportUnitsCoverUnit" Race="Neutral">
        <Model value="Assets\Effects\Protoss\TimeBomb\TimeBomb.m3"/>
        <EditorCategories value="Race:Neutral"/>
        <Flags index="TeenSafe" value="1"/>
        <SelectionRadius value="1.000000"/>
        <ShadowRadius value="0.000000"/>
    </CModel>
    <CBehaviorBuff id="ScrinProdigyTeleportUnitsCoverUnitTimedLife" parent="TimedLife">
        <InfoIcon value="Assets\Textures\btn-ability-zerg-explode.dds"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Duration value="0.4"/>
        <DisplayDuration index="Self" value="0"/>
        <DisplayDuration index="Ally" value="0"/>
        <DisplayDuration index="Neutral" value="0"/>
        <DisplayDuration index="Enemy" value="0"/>
    </CBehaviorBuff>

    <CEffectSet id="ScrinProdigyTeleportUnits">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CEffectSet id="ScrinProdigyTeleportUnitsTargeting">
        <TargetLocationType value="Point"/>
    </CEffectSet>
    <CActorSplat id="ScrinProdigyTeleportSplat" parent="ProtossCursorSplat" abil="ScrinProdigyTeleportUnits">
        <Model value="NodAOECursorSplat"/>
        <Scale value="3.000000"/>
    </CActorSplat>
    <CActorSplat id="ScrinProdigyTeleportUnitsTargetingSplat" parent="ProtossCursorSplat" abil="ScrinProdigyTeleportUnitsTargeting">
        <Model value="NodAOECursorSplat"/>
        <Scale value="3.000000"/>
    </CActorSplat>
    <CActorRange id="ScrinProdigyTeleportUnitsTargetingRange" parent="RangeAbil" abil="ScrinProdigyTeleportUnitsTargeting"/>

</Catalog>