<Catalog>
    <!-- Mechapede Segment Tracking Behaviors -->
    
    <!-- This behavior tracks segments attached to the head (max 8) -->
    <CBehaviorBuff id="ScrinMechapedeSegmentTracker">
        <EditorCategories value="Race:Scrin"/>
        <MaxStackCount value="8"/>
        <InfoFlags index="Hidden" value="1"/>
        <Duration value="-1"/>
    </CBehaviorBuff>

    <!-- This behavior is applied to segments to link them to the head -->
    <CBehaviorBuff id="ScrinMechapedeSegmentLinked">
        <EditorCategories value="Race:Scrin"/>
        <InfoFlags index="Hidden" value="1"/>
        <Duration value="-1"/>
    </CBehaviorBuff>


    <!-- Periodic behavior that makes segments follow the head unit -->
    <CBehaviorBuff id="ScrinMechapedeSegmentFollow">
        <EditorCategories value="Race:Scrin"/>
        <InfoFlags index="Hidden" value="1"/>
        <Period value="0.5"/>
        <PeriodicEffect value="ScrinMechapedeSegmentFollowSearch"/>
        <Duration value="-1"/>
        <Alignment value="Positive"/>
    </CBehaviorBuff>


    <!-- Timed life for orphaned segments (when previous segment dies) -->
    <CBehaviorBuff id="ScrinMechapedeSegmentOrphaned">
        <EditorCategories value="Race:Scrin"/>
        <Duration value="10"/>
        <ExpireEffect value="ScrinMechapedeSegmentOrphanedDeath"/>
        <Modification>
            <StateFlags index="Uncommandable" value="0"/>
        </Modification>
    </CBehaviorBuff>

</Catalog>
