<Catalog>
    <CUnit id="NodAvatarWreckage">
        <GlossaryAlias value="NodAvatar"/>
        <Sight value="3"/>
        <Race value="Nod"/>
        <LifeArmorName value="Unit/LifeArmorName/TerranVehiclePlating"/>
        <Collide index="Ground" value="1"/>
        <PlaneArray index="Ground" value="1"/>
        <EditorCategories value="ObjectType:Unit,ObjectFamily:CNC"/>
        <Attributes index="Armored" value="1"/>
        <Attributes index="Mechanical" value="1"/>
        <Attributes index="Structure" value="1"/>
        <LifeStart value="300"/>
        <StationaryTurningRate value="0"/>
        <TurningRate value="0"/>
        <LifeMax value="300"/>
        <LifeArmor value="1"/>
        <LateralAcceleration value="64"/>
        <CostResource index="Minerals" value="200"/>
        <CostResource index="Vespene" value="150"/>
        <MinimapRadius value="1"/>
        <AIEvalFactor value="1.5"/>
        <AbilArray Link="NodAvatarReborn"/>
        <AbilArray Link="NodAvatarWreckageTransport"/>
        <Radius value="1"/>
        <SeparationRadius value="1"/>
        <InnerRadius value="2"/>
        <CardLayouts>
            <LayoutButtons Face="NodAvatarCommandeerTechnology" Type="AbilCmd" AbilCmd="NodAvatarPilot,Execute" Row="2" Column="0"/>
        </CardLayouts>
        <BehaviorArray Link="WreckageLoseHP"/>
        <BehaviorArray Link="NodAvatarPilotSearch"/>
        <BehaviorArray Link="CNCPilotTracker"/>
    </CUnit>
    <CValidatorCombine id="IsPilot">
        <CombineArray value="Is1CargoSize"/>
    </CValidatorCombine>
    <CEffectSet id="NodPurifierWreckageCaptureSet">
        <EffectArray value="NodSabotage"/>
        <EffectArray value="NodPurifierRebornIO"/>
    </CEffectSet>
    <CEffectIssueOrder id="NodPurifierRebornIO">
        <EditorCategories value="Race:Nod"/>
        <Abil value="NodPurifierReborn"/>
        <CmdFlags index="Preempt" value="1"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="NodPurifierWreckageIO">
        <EditorCategories value="Race:Nod"/>
        <WhichUnit Value="Source"/>
        <Abil value="NodPurifierWreckage"/>
        <CmdFlags index="Preempt" value="1"/>
    </CEffectIssueOrder>
    <CEffectIssueOrder id="NodAvatarRebornIO">
        <EditorCategories value="Race:Nod"/>
        <Abil value="NodAvatarReborn"/>
        <CmdFlags index="Preempt" value="1"/>
    </CEffectIssueOrder>
    <CEffectSet id="NodAvatarWreckageSet">
        <EffectArray value="WreckageChangeOwner"/>
        <EffectArray value="NodAvatarWreckageIO"/>
        <EffectArray value="NodAvatarWreckageHeal"/>
    </CEffectSet>
    <CEffectSet id="NodPurifierWreckageSet">
        <EffectArray value="WreckageChangeOwner"/>
        <EffectArray value="NodPurifierWreckageIO"/>
        <EffectArray value="NodPurifierWreckageHeal"/>
    </CEffectSet>
    <CEffectModifyUnit id="NodPurifierWreckageHeal">
        <ImpactUnit Value="Source"/>
        <VitalArray index="Life">
            <Change value="150"/>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="NodAvatarWreckageHeal">
        <ImpactUnit Value="Source"/>
        <VitalArray index="Life">
            <Change value="150"/>
        </VitalArray>
    </CEffectModifyUnit>

    <CValidatorUnitCompareOrderCount id="NodAvatarNotReborning">
        <AbilLink value="NodAvatarReborn"/>
        <WhichUnit Value="Caster"/>
    </CValidatorUnitCompareOrderCount>

    <CUnit id="NodPurifierWreckage" parent="NodAvatarWreckage">
        <GlossaryAlias value="NodPurifier"/>
        <AbilArray Link="NodPurifierReborn"/>
    </CUnit>
    <CBehaviorBuff id="WreckageLoseHP">
<!--        <InfoFlags index="Hidden" value="1"/>-->
        <Period value="1"/>
        <PeriodicEffect value="WreckageLoseHP"/>
        <DisableValidatorArray value="CasterLifeNotFull"/>
    </CBehaviorBuff>
    <CEffectDamage id="WreckageLoseHP">
        <ImpactLocation Value="CasterUnit"/>
        <Amount value="1"/>
        <Death value="Blast"/>
    </CEffectDamage>


    <CAbilMorph id="NodPurifierWreckage">
        <EditorCategories value="Race:Nod,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="NodPurifierWreckage"/>
    </CAbilMorph>
    <CAbilMorph id="NodPurifierReborn">
        <EditorCategories value="Race:Nod,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <RefundFraction>
            <Resource index="Minerals" value="0"/>
            <Resource index="Vespene" value="0"/>
            <Resource index="Terrazine" value="0"/>
            <Resource index="Custom" value="0"/>
        </RefundFraction>
        <InfoArray Score="1" Unit="NodPurifier">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
                <EffectArray index="Finish" value="PostMorphHeal"/>
            </SectionArray>
        </InfoArray>
        <Alert value="RebornCompleteWidow"/>
    </CAbilMorph>
    <CAbilMorph id="NodAvatarWreckage">
        <EditorCategories value="Race:Nod,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="NodAvatarWreckage"/>
    </CAbilMorph>
    <CAbilMorph id="NodAvatarReborn">
        <EditorCategories value="Race:Nod,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <RefundFraction>
            <Resource index="Minerals" value="0"/>
            <Resource index="Vespene" value="0"/>
            <Resource index="Terrazine" value="0"/>
            <Resource index="Custom" value="0"/>
        </RefundFraction>
        <InfoArray Score="1" Unit="NodAvatar">
            <SectionArray index="Abils">
                <!--                <EffectArray index="Start" value="NodAvatarWreckageRemoveCargo"/>-->
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <!--                <DurationArray index="Delay" value="5"/>-->
                <DurationArray index="Duration" value="5"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
        </InfoArray>
        <Alert value="RebornCompleteWidow"/>
    </CAbilMorph>
</Catalog>