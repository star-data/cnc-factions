<Catalog>


    <CValidatorUnitCompareVital id="EnergyLT025">
        <Compare value="LT"/>
        <Value value="25"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="EnergyLT050">
        <Compare value="LT"/>
        <Value value="50"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="EnergyLT100">
        <Compare value="LT"/>
        <Value value="100"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="EnergyLT150">
        <Compare value="LT"/>
        <Value value="150"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>

    <CValidatorUnitCompareVital id="EnergyGTE005">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GE"/>
        <Value value="5"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="EnergyGTE015">
        <Compare value="GE"/>
        <Value value="15"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="EnergyGTE020">
        <Compare value="GE"/>
        <Value value="20"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="EnergyGTE025">
        <Compare value="GE"/>
        <Value value="25"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="EnergyGTE050">
        <Compare value="GE"/>
        <Value value="50"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="EnergyGTE075">
        <Compare value="GE"/>
        <Value value="75"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="EnergyGTE100">
        <Compare value="GE"/>
        <Value value="100"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="EnergyGTE150">
        <Compare value="GE"/>
        <Value value="150"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>

    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyGE001">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="hasEnergy"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyGE005">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="EnergyGTE005"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyGE020">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="EnergyGTE020"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyGE025">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="EnergyGTE025"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyGE075">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="EnergyGTE075"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyGE100">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="EnergyGTE100"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyGE015">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="EnergyGTE015"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyGE050">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="EnergyGTE050"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyGE150">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="EnergyGTE150"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>

    <CBehaviorBuff id="GenetronPowerBalance015On">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <RemoveValidatorArray value="EnergyGTE015"/>
        <FinalEffect value="GenetronPowerBalance015OnDelay"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="GenetronPowerBalance020On">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <RemoveValidatorArray value="EnergyGTE020"/>
        <FinalEffect value="GenetronPowerBalance020OnDelay"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="GenetronPowerBalance025On">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <RemoveValidatorArray value="EnergyGTE025"/>
        <FinalEffect value="GenetronPowerBalance025OnDelay"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="GenetronPowerBalance050On">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <RemoveValidatorArray value="EnergyGTE050"/>
        <FinalEffect value="GenetronPowerBalance050OnDelay"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="GenetronPowerBalance075On">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <RemoveValidatorArray value="EnergyGTE075"/>
        <FinalEffect value="GenetronPowerBalance075OnDelay"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="GenetronPowerBalance100On">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <RemoveValidatorArray value="EnergyGTE100"/>
        <FinalEffect value="GenetronPowerBalance100OnDelay"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="GenetronPowerBalance150On">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <RemoveValidatorArray value="EnergyGTE150"/>
        <FinalEffect value="GenetronPowerBalance150OnDelay"/>
    </CBehaviorBuff>

    <CEffectApplyBehavior id="GenetronPowerBalance015On">
        <ValidatorArray index="0" value="EnergyGTE015"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="GenetronPowerBalance020On">
        <ValidatorArray index="0" value="EnergyGTE020"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="GenetronPowerBalance025On">
        <ValidatorArray index="0" value="EnergyGTE025"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="GenetronPowerBalance050On">
        <ValidatorArray index="0" value="EnergyGTE050"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="GenetronPowerBalance075On">
        <ValidatorArray index="0" value="EnergyGTE075"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="GenetronPowerBalance100On">
        <ValidatorArray index="0" value="EnergyGTE100"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="GenetronPowerBalance150On">
        <ValidatorArray index="0" value="EnergyGTE150"/>
    </CEffectApplyBehavior>

    <CEffectCreatePersistent id="GenetronPowerBalance015OnDelay">
        <Flags index="EffectSuccess" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <PeriodicValidator value="SourceNotDead"/>
        <PeriodicEffectArray value="GenetronPowerBalance015On"/>
        <WhichLocation Value="TargetUnit"/>
        <PeriodicPeriodArray value="0.0625"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="GenetronPowerBalance020OnDelay">
        <WhichLocation Value="TargetUnit"/>
        <Flags index="EffectSuccess" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <PeriodicValidator value="SourceNotDead"/>
        <PeriodicEffectArray value="GenetronPowerBalance020On"/>
        <PeriodicPeriodArray value="0.0625"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="GenetronPowerBalance025OnDelay">
        <Flags index="EffectSuccess" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <PeriodicEffectArray value="GenetronPowerBalance025On"/>
        <PeriodicValidator value="SourceNotDead"/>
        <WhichLocation Value="TargetUnit"/>
        <PeriodicPeriodArray value="0.0625"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="GenetronPowerBalance050OnDelay">
        <Flags index="EffectSuccess" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <PeriodicEffectArray value="GenetronPowerBalance050On"/>
        <PeriodicValidator value="SourceNotDead"/>
        <WhichLocation Value="TargetUnit"/>
        <PeriodicPeriodArray value="0.0625"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="GenetronPowerBalance075OnDelay">
        <Flags index="EffectSuccess" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <PeriodicEffectArray value="GenetronPowerBalance075On"/>
        <PeriodicValidator value="SourceNotDead"/>
        <WhichLocation Value="TargetUnit"/>
        <PeriodicPeriodArray value="0.0625"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="GenetronPowerBalance100OnDelay">
        <Flags index="EffectSuccess" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <PeriodicEffectArray value="GenetronPowerBalance100On"/>
        <PeriodicValidator value="SourceNotDead"/>
        <WhichLocation Value="TargetUnit"/>
        <PeriodicPeriodArray value="0.0625"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="GenetronPowerBalance150OnDelay">
        <Flags index="EffectSuccess" value="1"/>
        <Flags index="PersistUntilDestroyed" value="1"/>
        <PeriodicEffectArray value="GenetronPowerBalance150On"/>
        <PeriodicValidator value="SourceNotDead"/>
        <WhichLocation Value="TargetUnit"/>
        <PeriodicPeriodArray value="0.0625"/>
    </CEffectCreatePersistent>

    <CRequirement id="GenetronPowerBalance0015">
        <EditorCategories value="Race:Genetron,TechType:Unit"/>
        <NodeArray index="Use" Link="CountBehaviorGenetronPowerBalance015OnCompleteOnly"/>
    </CRequirement>
    <CRequirement id="GenetronPowerBalance0020">
        <EditorCategories value="Race:Genetron,TechType:Unit"/>
        <NodeArray index="Use" Link="CountBehaviorGenetronPowerBalance020OnCompleteOnly"/>
    </CRequirement>
    <CRequirement id="GenetronPowerBalance0025">
        <EditorCategories value="Race:Genetron,TechType:Unit"/>
        <NodeArray index="Use" Link="CountBehaviorGenetronPowerBalance025OnCompleteOnly"/>
    </CRequirement>
    <CRequirement id="GenetronPowerBalance0050">
        <EditorCategories value="Race:Genetron,TechType:Unit"/>
        <NodeArray index="Use" Link="CountBehaviorGenetronPowerBalance050OnCompleteOnly"/>
    </CRequirement>
    <CRequirement id="GenetronPowerBalance0075">
        <EditorCategories value="Race:Genetron,TechType:Unit"/>
        <NodeArray index="Use" Link="CountBehaviorGenetronPowerBalance075OnCompleteOnly"/>
    </CRequirement>
    <CRequirement id="GenetronPowerBalance0100">
        <EditorCategories value="Race:Genetron,TechType:Unit"/>
        <NodeArray index="Use" Link="CountBehaviorGenetronPowerBalance100OnCompleteOnly"/>
    </CRequirement>
    <CRequirement id="GenetronPowerBalance0150">
        <EditorCategories value="Race:Genetron,TechType:Unit"/>
        <NodeArray index="Use" Link="CountBehaviorGenetronPowerBalance150OnCompleteOnly"/>
    </CRequirement>

    <CRequirementCountBehavior id="CountBehaviorGenetronPowerBalance015OnCompleteOnly">
        <Flags index="TechTreeCheat" value="0"/>
        <Count Link="GenetronPowerBalance015On" State="CompleteOnly"/>
    </CRequirementCountBehavior>
    <CRequirementCountBehavior id="CountBehaviorGenetronPowerBalance020OnCompleteOnly">
        <Flags index="TechTreeCheat" value="0"/>
        <Count Link="GenetronPowerBalance020On" State="CompleteOnly"/>
    </CRequirementCountBehavior>
    <CRequirementCountBehavior id="CountBehaviorGenetronPowerBalance025OnCompleteOnly">
        <Flags index="TechTreeCheat" value="0"/>
        <Count Link="GenetronPowerBalance025On" State="CompleteOnly"/>
    </CRequirementCountBehavior>
    <CRequirementCountBehavior id="CountBehaviorGenetronPowerBalance050OnCompleteOnly">
        <Flags index="TechTreeCheat" value="0"/>
        <Count Link="GenetronPowerBalance050On" State="CompleteOnly"/>
    </CRequirementCountBehavior>
    <CRequirementCountBehavior id="CountBehaviorGenetronPowerBalance075OnCompleteOnly">
        <Flags index="TechTreeCheat" value="0"/>
        <Count Link="GenetronPowerBalance075On" State="CompleteOnly"/>
    </CRequirementCountBehavior>
    <CRequirementCountBehavior id="CountBehaviorGenetronPowerBalance100OnCompleteOnly">
        <Flags index="TechTreeCheat" value="0"/>
        <Count Link="GenetronPowerBalance100On" State="CompleteOnly"/>
    </CRequirementCountBehavior>
    <CRequirementCountBehavior id="CountBehaviorGenetronPowerBalance150OnCompleteOnly">
        <Flags index="TechTreeCheat" value="0"/>
        <Count Link="GenetronPowerBalance150On" State="CompleteOnly"/>
    </CRequirementCountBehavior>

    <CUnit id="GenetronPowerSupplyDummy">
        <FlagArray index="Turnable" value="0"/>
        <FlagArray index="Movable" value="0"/>
        <FlagArray index="NoDraw" value="1"/>
        <FlagArray index="KillCredit" value="0"/>
        <FlagArray index="Invulnerable" value="1"/>
        <FlagArray index="NoScore" value="1"/>
        <FlagArray index="Unstoppable" value="1"/>
        <FlagArray index="CameraFollow" value="0"/>
        <EditorFlags index="BlockStructures" value="0"/>
        <Mover value="Fly"/>
        <BehaviorArray Link="DummyUnit"/>
        <BehaviorArray Link="GenetronPowerBalance015On"/>
        <BehaviorArray Link="GenetronPowerBalance020On"/>
        <BehaviorArray Link="GenetronPowerBalance025On"/>
        <BehaviorArray Link="GenetronPowerBalance050On"/>
        <BehaviorArray Link="GenetronPowerBalance075On"/>
        <BehaviorArray Link="GenetronPowerBalance100On"/>
        <BehaviorArray Link="GenetronPowerBalance150On"/>
        <EditorCategories value="ObjectType:Other,ObjectFamily:Melee"/>
        <LeaderAlias value=""/>
        <HotkeyAlias value=""/>
    </CUnit>
    <CActorUnit id="GenetronPowerSupplyDummy" parent="GenericUnitStandard" unitName="GenetronPowerSupplyDummy">
        <Aliases index="1" removed="1"/>
        <AcceptedHostedPropTransfers index="CastShadows" value="0"/>
        <Model value="Sphere"/>
        <UnitFlags index="ShowBlobShadow" value="0"/>
    </CActorUnit>

    <CAccumulatorConstant id="MultiplyByNeg1">
        <ApplicationRule value="Multiply"/>
        <Amount value="-1"/>
    </CAccumulatorConstant>
    <CAccumulatorVitals id="EnergyCurrentCaster">
        <Ratio value="1"/>
        <VitalType value="Energy"/>
        <ModificationType value="PerUnit"/>
    </CAccumulatorVitals>
    <CAccumulatorVitals id="EnergyCurrentTarget">
        <Ratio value="1"/>
        <VitalType value="Energy"/>
        <UnitSource Value="Target"/>
        <ModificationType value="PerUnit"/>
    </CAccumulatorVitals>
    <CAccumulatorUserData id="DefaultDataAdd"/>
    <CAccumulatorUserData id="EnergyDataAdd">
        <Key value="Energy"/>
    </CAccumulatorUserData>
    <CAccumulatorArithmetic id="EnergyDamage">
        <Parameters value="0">
            <AccumulatorArray value="EnergyCurrentCaster"/>
        </Parameters>
        <Parameters value="0">
            <AccumulatorArray value="EnergyDataAdd"/>
        </Parameters>
        <Operation value="Subtract"/>
    </CAccumulatorArithmetic>

    <CBehaviorBuff id="DummyUnit">
        <InfoFlags index="Hidden" value="1"/>
        <Modification>
            <StateFlags index="Invulnerable" value="1"/>
        </Modification>
    </CBehaviorBuff>
    <CBehaviorBuff id="TrackAndMirrorGenetronPowerSupply">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <Period value="0.0625"/>
        <InitialEffect value="TrackGenetronPowerSupplySwitch"/>
        <PeriodicEffect value="MirrorGenetronPowerSupplySwitch"/>
        <RemoveValidatorArray value="GenetronUnitOwnerNotChanged"/>
        <FinalEffect value="TrackGenetronPowerSupplyEndMirrorOrphan"/>
        <InfoFlags index="Hidden" value="1"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="GenetronProductionInternalEnergy">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <InfoFlags index="Hidden" value="1"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="TrackGenetronPowerSupply">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <Period value="0.0625"/>
        <InitialEffect value="TrackGenetronPowerSupplySwitch"/>
        <RemoveValidatorArray value="GenetronUnitOwnerNotChanged"/>
        <FinalEffect value="TrackGenetronPowerSupplyEndOrphan"/>
        <InfoFlags index="Hidden" value="1"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="TrackGenetronPowerSupplyUnit">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <RemoveValidatorArray value="GenetronUnitOwnerNotChanged"/>
        <Period value="0.0625"/>
        <InitialEffect value="TrackGenetronPowerSupplyUnitSwitch"/>
        <FinalEffect value="TrackGenetronPowerSupplyEndUnitOrphan"/>
        <InfoFlags index="Hidden" value="1"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="GenetronEnergyStateFull">
        <InfoFlags index="Hidden" value="1"/>
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <RemoveValidatorArray value="EnergyFullCaster"/>
        <FinalEffect value="GenetronEnergyStateSet"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="GenetronEnergyStateNotFull">
        <InfoFlags index="Hidden" value="1"/>
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <RemoveValidatorArray value="EnergyNotFullCaster"/>
        <FinalEffect value="GenetronEnergyStateFull"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="GenetronPowerOutage">
        <Alignment value="Negative"/>
        <InfoFlags index="Hidden" value="1"/>
        <InfoIcon value="Assets\Textures\btn-ability-stetmann-stetelliteoverloadenergy.dds"/>
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <TimeScaleSource Value="Global"/>
        <Duration value="0.25"/>
        <Modification>
            <RateMultiplierArray index="Queueable" value="0.001"/>
        </Modification>
    </CBehaviorBuff>
    <CBehaviorUnitTracker id="GenetronPowerSupplyTracker">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <InfoFlags index="Hidden" value="1"/>
    </CBehaviorUnitTracker>

    <CEffectApplyBehavior id="DummyUnit">
        <EditorCategories value="Race:Xayid"/>
    </CEffectApplyBehavior>
    <CEffectUserData id="GenetronTrainCheckInternalEnergyHaltData">
        <Amount value="0">
            <AccumulatorArray value="GenetronCheckInternalEnergy"/>
        </Amount>
        <Operation value="Set"/>
        <ValidateMax value="500000"/>
        <EffectFailure value="GenetronTrainABHalt"/>
    </CEffectUserData>
    <CEffectUserData id="GenetronTrainFullInternalEnergyData">
        <Key value="InternalEnergy"/>
        <Amount value="0">
            <AccumulatorArray value="GenetronTrainEnergyRemaining"/>
        </Amount>
        <SourceKey value="InternalEnergy"/>
        <BehaviorScope Behavior="GenetronProductionInternalEnergy"/>
    </CEffectUserData>
    <CEffectSet id="GenetronTrainFullSet">
        <EffectArray value="GenetronTrainFullMU"/>
        <EffectArray value="GenetronTrainFullInternalEnergyData"/>
    </CEffectSet>
    <CEffectUserData id="GenetronTrainPartialInternalEnergyData">
        <Key value="InternalEnergy"/>
        <Amount value="0">
            <AccumulatorArray value="EnergyCurrentTarget"/>
        </Amount>
        <SourceKey value="InternalEnergy"/>
        <BehaviorScope Behavior="GenetronProductionInternalEnergy"/>
    </CEffectUserData>
    <CEffectUserData id="GenetronTrainEnergyData">
        <Key value="Energy"/>
        <Amount value="0">
            <AccumulatorArray value="GenetronTrainEnergyRequested"/>
        </Amount>
        <SourceKey value="Energy"/>
        <Operation value="Set"/>
        <ValidateMax value="500000"/>
        <EffectSuccess value="GenetronTrainFullSet"/>
        <EffectFailure value="GenetronTrainPartialSet"/>
    </CEffectUserData>
    <CEffectModifyUnit id="GenetronTrainFullMU">
        <VitalArray index="Energy">
            <Change value="0">
                <AccumulatorArray value="GenetronTrainEnergyRemaining"/>
                <AccumulatorArray value="MultiplyByNeg1"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="GenetronTrainPartialMU">
        <VitalArray index="Energy">
            <Change value="0">
                <AccumulatorArray value="EnergyCurrentTarget"/>
                <AccumulatorArray value="MultiplyByNeg1"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectSet id="GenetronTrainPartialSet">
        <EffectArray value="GenetronTrainPartialInternalEnergyData"/>
        <EffectArray value="GenetronTrainPartialMU"/>
    </CEffectSet>
    <CEffectSwitch id="GenetronTrainSwitch">
        <CaseArray Validator="hasEnergy" Effect="GenetronTrainSet"/>
        <CaseDefault value="GenetronTrainABHalt"/>
    </CEffectSwitch>
    <CEffectEnumTrackedUnits id="MirrorGenetronPowerSupplyETU">
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <Effect value="MirrorGenetronPowerSupplySet"/>
    </CEffectEnumTrackedUnits>
    <CEffectModifyUnit id="MirrorGenetronPowerSupplyEnergyLossMU">
        <ValidatorArray value="CasterNotDead"/>
        <ValidatorArray value="CasterMaximumEnergy0"/>
        <ValidatorArray value="CasterIsNotHidden"/>
        <VitalArray index="Energy">
            <Change value="0">
                <AccumulatorArray value="EnergyDamage"/>
            </Change>
        </VitalArray>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="MirrorGenetronPowerSupplyMU">
        <ImpactUnit Value="Caster"/>
        <VitalArray index="Energy">
            <Change value="0.001">
                <AccumulatorArray value="EnergyCurrentTarget"/>
            </Change>
        </VitalArray>
        <ModifyFlags index="SetVitals" value="1"/>
        <ValidatorArray value="MaximumEnergy0"/>
    </CEffectModifyUnit>
    <CEffectUserData id="MirrorGenetronPowerSupplyStoreEnergyData">
        <Key value="Energy"/>
        <Amount value="0">
            <AccumulatorArray value="EnergyCurrentCaster"/>
        </Amount>
        <SourceKey value="Energy"/>
        <Operation value="Set"/>
        <ValidatorArray value="CasterMaximumEnergy0"/>
    </CEffectUserData>
    <CEffectUserData id="MirrorGenetronPowerSupplyStoreEnergyDataSet0">
        <Key value="Energy"/>
        <Amount value="0"/>
        <SourceKey value="Energy"/>
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectSwitch id="MirrorGenetronPowerSupplySwitch">
        <CaseArray Validator="MirrorGenetronPowerSupplyValidator" Effect="MirrorGenetronPowerSupplyETU"/>
        <CaseDefault value="MirrorGenetronPowerSupplyRBSet"/>
    </CEffectSwitch>
    <CEffectAddTrackedUnit id="TrackGenetronPowerSupplyATU">
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnit Value="Target"/>
    </CEffectAddTrackedUnit>
    <CEffectCreateUnit id="TrackGenetronPowerSupplyCU">
        <WhichLocation Value="CasterPoint"/>
        <CreateFlags index="Placement" value="0"/>
        <SpawnEffect value="TrackGenetronPowerSupplySet"/>
        <SpawnUnit value="GenetronPowerSupplyDummy"/>
    </CEffectCreateUnit>
    <CEffectApplyBehavior id="TrackGenetronPowerSupplyEndMirrorAB">
        <ValidatorArray index="0" value="CasterNotDead"/>
        <WhichUnit Value="Caster"/>
        <Behavior value="TrackAndMirrorGenetronPowerSupply"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="TrackGenetronPowerSupplyEndMirrorOrphan">
        <WhichLocation Value="CasterUnit"/>
        <Flags index="OrphanParams" value="1"/>
        <InitialEffect value="TrackGenetronPowerSupplyEndETU"/>
        <FinalEffect value="TrackGenetronPowerSupplyEndMirrorAB"/>
    </CEffectCreatePersistent>
    <CEffectApplyBehavior id="TrackGenetronPowerSupplyEndUnitAB">
        <ValidatorArray index="0" value="CasterNotDead"/>
        <WhichUnit Value="Caster"/>
        <Behavior value="TrackGenetronPowerSupplyUnit"/>
    </CEffectApplyBehavior>
    <CEffectEnumTrackedUnits id="TrackGenetronPowerSupplyEndETU">
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <Effect value="TrackGenetronPowerSupplyEndRTU"/>
    </CEffectEnumTrackedUnits>
    <CEffectRemoveTrackedUnit id="TrackGenetronPowerSupplyEndRTU">
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnit Value="Target"/>
    </CEffectRemoveTrackedUnit>
    <CEffectApplyBehavior id="TrackGenetronPowerSupplyEndAB">
        <ValidatorArray index="0" value="CasterNotDead"/>
        <WhichUnit Value="Caster"/>
        <Behavior value="TrackGenetronPowerSupply"/>
    </CEffectApplyBehavior>
    <CEffectCreatePersistent id="TrackGenetronPowerSupplyEndUnitOrphan">
        <WhichLocation Value="CasterUnit"/>
        <Flags index="OrphanParams" value="1"/>
        <InitialEffect value="TrackGenetronPowerSupplyEndETU"/>
        <FinalEffect value="TrackGenetronPowerSupplyEndUnitAB"/>
    </CEffectCreatePersistent>
    <CEffectCreatePersistent id="TrackGenetronPowerSupplyEndOrphan">
        <WhichLocation Value="CasterUnit"/>
        <Flags index="OrphanParams" value="1"/>
        <InitialEffect value="TrackGenetronPowerSupplyEndETU"/>
        <FinalEffect value="TrackGenetronPowerSupplyEndAB"/>
    </CEffectCreatePersistent>
    <CEffectSet id="TrackGenetronPowerSupplyUnitSet">
        <ValidatorArray value="IsGenetronPowerSupplyDummy"/>
        <EffectArray value="TrackGenetronPowerSupplyATU"/>
    </CEffectSet>
    <CEffectCreateUnit id="TrackGenetronPowerSupplyUnitCU">
        <WhichLocation Value="CasterPoint"/>
        <CreateFlags index="Placement" value="0"/>
        <SpawnEffect value="TrackGenetronPowerSupplyUnitSet"/>
        <SpawnUnit value="GenetronPowerSupplyDummy"/>
    </CEffectCreateUnit>
    <CEffectEnumArea id="TrackGenetronPowerSupplySA">
        <SearchFilters value="Invulnerable;Ally,Neutral,Enemy,Missile,Stasis,Dead,Hidden"/>
        <AreaArray MaxCount="1" Radius="500" Effect="TrackGenetronPowerSupplySet"/>
    </CEffectEnumArea>
    <CEffectEnumArea id="TrackGenetronPowerSupplyUnitSA">
        <SearchFilters value="Invulnerable;Ally,Neutral,Enemy,Missile,Stasis,Dead,Hidden"/>
        <AreaArray MaxCount="1" Radius="500" Effect="TrackGenetronPowerSupplyUnitSet"/>
    </CEffectEnumArea>
    <CEffectSet id="TrackGenetronPowerSupplySet">
        <ValidatorArray value="IsGenetronPowerSupplyDummy"/>
        <EffectArray value="TrackGenetronPowerSupplyATU"/>
        <EffectArray value="TrackGenetronPowerSupplyEnergySwitch"/>
    </CEffectSet>
    <CEffectSwitch id="TrackGenetronPowerSupplySwitch">
        <CaseArray Validator="GenetronHasNoPowerSupply" Effect="TrackGenetronPowerSupplyCU"/>
        <CaseDefault value="TrackGenetronPowerSupplySA"/>
    </CEffectSwitch>
    <CEffectSwitch id="TrackGenetronPowerSupplyUnitSwitch">
        <CaseArray Validator="GenetronHasNoPowerSupply" Effect="TrackGenetronPowerSupplyUnitCU"/>
        <CaseDefault value="TrackGenetronPowerSupplyUnitSA"/>
    </CEffectSwitch>
    <CEffectSet id="GenetronTrainSet">
        <ValidatorArray value="EnergyGTE005"/>
        <EffectArray value="GenetronTrainEnergyData"/>
        <EffectArray value="GenetronTrainCheckInternalEnergyData"/>
    </CEffectSet>
    <CEffectEnumTrackedUnits id="GenetronTrainETU">
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <Effect value="GenetronTrainSwitch"/>
    </CEffectEnumTrackedUnits>
    <CEffectApplyBehavior id="GenetronTrainABHalt">
        <WhichUnit Value="Caster"/>
        <Behavior value="GenetronPowerOutage"/>
    </CEffectApplyBehavior>
    <CEffectUserData id="GenetronTrainCheckInternalEnergyData">
        <Amount value="0">
            <AccumulatorArray value="GenetronCheckInternalEnergy"/>
        </Amount>
        <Operation value="Set"/>
        <ValidateMax value="500000"/>
        <EffectFailure value="GenetronTrainETU"/>
    </CEffectUserData>
    <CEffectUserData id="DataDefaultSet1">
        <Operation value="Set"/>
    </CEffectUserData>
    <CEffectUserData id="DataDefaultSet0">
        <Amount value="0"/>
        <Operation value="Set"/>
    </CEffectUserData>

    <CValidatorPlayerRequirement id="GenetronHasNoPowerSupply">
        <Find value="1"/>
        <Value value="GenetronHasNoPowerSupply"/>
    </CValidatorPlayerRequirement>
    <CValidatorUnitCompareBehaviorCount id="GenetronPowerUser">
        <Compare value="GT"/>
        <Behavior value="GenetronPowerSupplyTracker"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorCombine id="GenetronUnitOwnerNotChanged">
        <Type value="And"/>
        <CombineArray value="GenetronUnitOwnerNotChanged1"/>
        <CombineArray value="GenetronUnitOwnerNotChanged2"/>
    </CValidatorCombine>
    <CValidatorPlayerCompareType id="GenetronUnitOwnerNotChanged1">
        <WhichPlayer Value="Creator"/>
        <OtherPlayer Value="Caster"/>
    </CValidatorPlayerCompareType>
    <CValidatorPlayerAlliance id="GenetronUnitOwnerNotChanged2">
        <WhichPlayer Value="Creator"/>
        <OtherPlayer Value="Caster"/>
    </CValidatorPlayerAlliance>
    <CValidatorUnitType id="IsGenetronPowerSupplyDummy">
        <Value value="GenetronPowerSupplyDummy"/>
    </CValidatorUnitType>
    <CValidatorUnitCompareVital id="CasterMaximumEnergy0">
        <ResultFailed value="NotEnoughEnergy"/>
        <WhichUnit Value="Caster"/>
        <Compare value="GT"/>
        <Type value="Maximum"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorUnitCompareVital id="MaximumEnergy0">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <Type value="Maximum"/>
        <Vital value="Energy"/>
    </CValidatorUnitCompareVital>
    <CValidatorCombine id="MirrorGenetronPowerSupplyValidator">
        <Type value="And"/>
        <!--Scion-->
        <!--<CombineArray value="StructureNotLockedDown"/>-->
        <CombineArray value="NotUnderConstruction"/>
        <CombineArray value="NotHidden"/>
    </CValidatorCombine>
    <CValidatorCombine id="GenetronEnergyGenValidators">
        <Type value="And"/>
        <CombineArray value="NotDead"/>
        <CombineArray value="CasterNotDead"/>
        <CombineArray value="CasterIsNotHidden"/>
        <!--Scion-->
        <!--<CombineArray value="CasterNotLockedDown"/>-->
        <CombineArray value="OwnedBySelf"/>
    </CValidatorCombine>

    <CRequirement id="GenetronHasNoPowerSupply">
        <EditorCategories value="Race:Genetron,TechType:Unit"/>
        <NodeArray index="Use" Link="NotCountUnitGenetronPowerSupplyDummyQueuedOrBetter"/>
    </CRequirement>
    <CRequirementCountUnit id="CountUnitGenetronPowerSupplyDummyQueuedOrBetter">
        <Flags index="TechTreeCheat" value="0"/>
        <Count Link="GenetronPowerSupplyDummy" State="QueuedOrBetter"/>
    </CRequirementCountUnit>
    <CRequirementNot id="NotCountUnitGenetronPowerSupplyDummyQueuedOrBetter">
        <OperandArray index="0" value="CountUnitGenetronPowerSupplyDummyQueuedOrBetter"/>
    </CRequirementNot>

    <CEffectSet id="CnCSet" default="1"/>
    <!-- Required Modifications if Used With Scion Races-->
    <CEffectSet id="MirrorGenetronPowerSupplyRBSet" parent="CnCSet">
        <!--Modified-->
        <EffectArray value="MirrorGenetronPowerSupplyRBSetUnits"/>
        <EffectArray value="MirrorGenetronPowerSupplyStoreEnergyDataSet0"/>
    </CEffectSet>
    <!-- Required Modifications if Used With Scion Races-->
    <CEffectSet id="MirrorGenetronPowerSupplySet" parent="CnCSet">
        <EffectArray value="MirrorGenetronPowerSupplyEnergyLossMU"/>
        <!--Modified-->
        <EffectArray value="MirrorGenetronPowerSupplySetUnits"/>
        <EffectArray value="MirrorGenetronPowerSupplyMU"/>
        <EffectArray value="MirrorGenetronPowerSupplyStoreEnergyData"/>
    </CEffectSet>
    <!-- Required Modifications if Used With Scion Races-->
    <CEffectSwitch id="TrackGenetronPowerSupplyEnergySwitch">
        <!-- Scion -->
        <!--        <CaseArray Validator="CasterIsProcessingCore" Effect="TrackGenetronPowerSupplyProcessingCoreAB"/>-->
        <!--        <CaseArray Validator="CasterIsRelayTower" Effect="TrackGenetronPowerSupplyRelayTowerAB"/>-->
        <!--        <CaseArray Validator="CasterIsGenerator" Effect="TrackGenetronPowerSupplyGeneratorAB"/>-->
        <!-- Scion End-->
        <!-- NOD -->
        <CaseArray Validator="HasCnCPowerSupply100" Effect="TrackGenetronPowerSupplyCnC100AB"/>
        <CaseArray Validator="HasCnCPowerSupply25" Effect="TrackGenetronPowerSupplyCnC25AB"/>
        <!-- NOD End -->
    </CEffectSwitch>
    <!-- Required Modifications if Used With Scion Races-->
    <CEffectSet id="MirrorGenetronPowerSupplyRBSetUnits">
        <!--Scion-->
        <!-- <EffectArray value="MirrorGenetronPowerSupplyProcessingCoreRB"/>-->
        <!-- <EffectArray value="MirrorGenetronPowerSupplyRelayTowerRB"/>-->
        <!-- <EffectArray value="MirrorGenetronPowerSupplyGeneratorRB"/>-->
        <!--Scion End-->
        <!--Nod-->
        <EffectArray value="MirrorGenetronPowerSupplyCnC100RB"/>
        <EffectArray value="MirrorGenetronPowerSupplyCnC25RB"/>
        <!--Nod End-->
    </CEffectSet>
    <!-- Required Modifications if Used With Scion Races-->
    <CEffectSet id="MirrorGenetronPowerSupplySetUnits">
        <!-- Scion -->
        <!-- <EffectArray value="MirrorGenetronPowerSupplyProcessingCoreData"/>-->
        <!-- <EffectArray value="MirrorGenetronPowerSupplyRelayTowerData"/>-->
        <!-- Scion end -->
        <!-- Nod -->
        <EffectArray value="MirrorGenetronPowerSupplyCnC100Data"/>
        <EffectArray value="MirrorGenetronPowerSupplyCnC25Data"/>
        <!-- Nod end -->
    </CEffectSet>


</Catalog>