<Catalog>
    <CAbilEffectInstant id="CNCStructureSalvageRefund" parent="Refund">
        <Cost>
            <Resource index="Minerals" value="0"/>
        </Cost>
    </CAbilEffectInstant>

    <CEffectIssueOrder id="CNCSalvage">
        <EditorCategories value="Race:Terran"/>
        <Abil value="CNCStructureSalvageRefund"/>
        <WhichUnit Value="Caster"/>
        <CmdFlags index="Preempt" value="1"/>
    </CEffectIssueOrder>
    <CButton id="CNCSalvage">
        <Icon value="Assets\Textures\btn-ability-terran-salvage.dds"/>
        <AlertIcon value="Assets\Textures\btn-ability-terran-salvage.dds"/>
        <EditorCategories value="Race:Terran"/>
        <TintRacially value="1"/>
    </CButton>
    <CBehaviorBuff id="CNCSalvage">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Duration value="5"/>
        <ExpireEffect value="CNCSalvage"/>
        <InfoFlags index="Hidden" value="1"/>
        <DisplayDuration index="Self" value="1"/>
        <DisplayDuration index="Ally" value="1"/>
        <Modification>
            <ModifyFlags index="DisableAbils" value="1"/>
            <ModifyFlags index="SuppressMoving" value="1"/>
            <ModifyFlags index="SuppressTurning" value="1"/>
            <StateFlags index="SuppressAttack" value="1"/>
            <StateFlags index="SuppressCloak" value="1"/>
            <StateFlags index="SuppressDetection" value="1"/>
            <StateFlags index="SuppressRadar" value="1"/>
            <AbilLinkEnableArray value="##id##"/>
            <AbilLinkEnableArray value="CNCStructureSalvageRefund"/>
<!--            <BehaviorLinkDisableArray value="SensorTowerRadar"/>-->
        </Modification>
        <Name value="Behavior/Name/Salvage"/>
    </CBehaviorBuff>
    <CAbilBehavior id="CNCSalvage">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="On" DefaultButtonFace="CNCSalvage">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="CNCSalvage"/>
        <ValidatorArray value="HasNoCargo"/>
        <Name value="Abil/Name/CNCSalvage"/>
    </CAbilBehavior>

    <!--    <LayoutButtons Face="Salvage" Type="AbilCmd" AbilCmd="SalvageShared,On" Row="2" Column="3"/>-->

<!--    <CAbilEffectInstant id="NodSellPowerPlant" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellPowerPlant"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-113"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellHandsofNod" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellHandsofNod"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-150"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellHelipad" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellHelipad"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-188"/>-->
<!--            <Resource index="Vespene" value="-188"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellChemicalPlant" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellChemicalPlant"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-113"/>-->
<!--            <Resource index="Vespene" value="-113"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellResearchStation" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellResearchStation"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-150"/>-->
<!--            <Resource index="Vespene" value="-263"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellColumnofFire" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellColumnofFire"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-150"/>-->
<!--            <Resource index="Vespene" value="-113"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellHealingObelisk" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellHealingObelisk"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-75"/>-->
<!--            <Resource index="Vespene" value="-38"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellIncinerator" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellIncinerator"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-225"/>-->
<!--            <Resource index="Vespene" value="-225"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellObeliskofLight" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellObeliskofLight"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-113"/>-->
<!--            <Resource index="Vespene" value="-75"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellMissilePod" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellMissilePod"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-94"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellLiquefiedTiberiumSilo" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellLiquefiedTiberiumSilo"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-56"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellMCV" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellMCV"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-525"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellDefenseMCV" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellDefenseMCV"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-675"/>-->
<!--            <Resource index="Vespene" value="-450"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellCraneandOutpost" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellCraneandOutpost"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-225"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellWarFactory" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellWarFactory"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-150"/>-->
<!--            <Resource index="Vespene" value="-113"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellViperTurret" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellViperTurret"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-75"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellShieldGenerator" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellShieldGenerator"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-113"/>-->
<!--            <Resource index="Vespene" value="-113"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellPowerPlantUpgraded" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellPowerPlantUpgraded"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-150"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
<!--    <CAbilEffectInstant id="NodSellTiberiumRefinery" parent="Refund">-->
<!--        <Name value="Abil/Name/NodSellTiberiumRefinery"/>-->
<!--        <Cost>-->
<!--            <Resource index="Minerals" value="-375"/>-->
<!--            <Display index="Minerals" value="1"/>-->
<!--            <Display index="Vespene" value="1"/>-->
<!--        </Cost>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="NodSellStructureButton">-->
<!--            <Flags index="ToSelection" value="1"/>-->
<!--        </CmdButtonArray>-->
<!--    </CAbilEffectInstant>-->
</Catalog>