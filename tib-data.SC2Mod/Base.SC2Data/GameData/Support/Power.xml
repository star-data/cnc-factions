<Catalog>



    <!-- <CBehaviorBuff id="CNCPowerSupply100"/>
    <CBehaviorBuff id="CNCPowerSupply25"/> -->
    <!-- <CValidatorUnitCompareBehaviorCount id="HasCNCPowerSupply100">
        <WhichUnit Value="Caster"/>
        <Value value="1"/>
        <Behavior value="CNCPowerSupply100"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="HasCNCPowerSupply25">
        <WhichUnit Value="Caster"/>
        <Value value="1"/>
        <Behavior value="CNCPowerSupply25"/>
    </CValidatorUnitCompareBehaviorCount> -->

    
    <CValidatorUnitType id="CasterIsNodPowerPlant">
        <WhichUnit Value="Caster"/>
        <Value value="NodPowerPlant"/>
    </CValidatorUnitType>
    <CValidatorUnitType id="CasterIsNodPowerPlantUpgraded">
        <WhichUnit Value="Caster"/>
        <Value value="NodPowerPlantUpgraded"/>
    </CValidatorUnitType>
    <!-- <CValidatorUnitType id="CasterIsNodConstructionYard">
        <WhichUnit Value="Caster"/>
        <Value value="NodConstructionYard"/>
    </CValidatorUnitType> -->



    
    <CValidatorUnitCompareOrderCount id="HasNodConstructionYardTrain"><AbilLink value="NodConstructionYardTrain"/></CValidatorUnitCompareOrderCount>
    <CValidatorUnitCompareOrderCount id="HasNodRefineryTrain"><AbilLink value="NodRefineryTrain"/></CValidatorUnitCompareOrderCount>
    <CValidatorUnitCompareOrderCount id="HasNodHandTrain"><AbilLink value="NodHandTrain"/></CValidatorUnitCompareOrderCount>
    <CValidatorUnitCompareOrderCount id="HasNodWarFactoryTrain"><AbilLink value="NodWarFactoryTrain"/></CValidatorUnitCompareOrderCount>
    <CValidatorUnitCompareOrderCount id="HasNodAirTowerTrain"><AbilLink value="NodAirTowerTrain"/></CValidatorUnitCompareOrderCount>
    <CValidatorUnitCompareOrderCount id="HasNodUpgradePowerPlant"><AbilLink value="NodUpgradePowerPlant"/></CValidatorUnitCompareOrderCount>

    <CBehaviorBuff id="PowerShortage">
        <Alignment value="Negative"/>
        <InfoIcon value="Assets\Textures\btn-ability-protoss-chronoboost.dds"/>
    </CBehaviorBuff>

    <CBehaviorBuff id="NodEnergyProduction">
        <Alignment value="Negative"/>
        <InfoIcon value="Assets\Textures\btn-ability-protoss-chronoboost.dds"/>
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Modification TimeScale="0.5"/>
        <BuffFlags index="DisableWhileUnderConstruction" value="1"/>
        <TimeScaleSource Value="Global"/>
        <BehaviorCategories index="Fast" value="1"/>
        <InfoFlags index="Hidden" value="0"/>
<!--        <DisableValidatorArray value="GenetronPowerSupplyGE05"/>-->
        <DisableValidatorArray value="PlayerHasNoPowerPlant"/>
        <DisableValidatorArray value="GenetronPowerSupplyHasPowerShortage"/>
        <Modification>
            <ModifyFlags index="DisableWeapons" value="1"/>
            <AbilClassDisableArray index="CAbilAttack" value="1"/>
        </Modification>
    </CBehaviorBuff>

    <CBehaviorBuff id="NodEnergyProductionDefense">
        <Alignment value="Negative"/>
        <InfoIcon value="Assets\Textures\btn-ability-protoss-chronoboost.dds"/>
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Modification TimeScale="0.5"/>
        <BuffFlags index="DisableWhileUnderConstruction" value="1"/>
        <TimeScaleSource Value="Global"/>
        <BehaviorCategories index="Fast" value="1"/>
        <InfoFlags index="Hidden" value="0"/>
        <!--        <DisableValidatorArray value="GenetronPowerSupplyGE05"/>-->
<!--        <DisableValidatorArray value="GenetronPowerSupplyLT25"/>-->
        <DisableValidatorArray value="PlayerHasNoPowerPlant"/>
        <DisableValidatorArray value="GenetronPowerSupplyHasPowerShortage"/>
        <Modification>
            <ModifyFlags index="DisableWeapons" value="1"/>
            <AbilClassDisableArray index="CAbilAttack" value="1"/>
            <BehaviorLinkDisableArray value="NodVoiceOfKaneAura"/>
            <BehaviorLinkDisableArray value="NodDisruptionTowerCloakField"/>
        </Modification>
    </CBehaviorBuff>



<!--    <CValidatorUnitCompareVital id="EnergyLT005">-->
<!--        <ResultFailed value="NotEnoughEnergy"/>-->
<!--        <Compare value="LT"/>-->
<!--        <Value value="5"/>-->
<!--        <Vital value="Energy"/>-->
<!--    </CValidatorUnitCompareVital>-->
<!--    <CValidatorUnitCompareVital id="EnergyLT025">-->
<!--        <ResultFailed value="NotEnoughEnergy"/>-->
<!--        <Compare value="LT"/>-->
<!--        <Value value="25"/>-->
<!--        <Vital value="Energy"/>-->
<!--    </CValidatorUnitCompareVital>-->

<!--    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyLT05">-->
<!--        <ResultFailed value="NotEnoughEnergy"/>-->
<!--        <Compare value="GT"/>-->
<!--        <BehaviorLink value="GenetronPowerSupplyTracker"/>-->
<!--        <TrackedUnitValidatorArray value="EnergyLT005"/>-->
<!--        <TrackedUnitFilters value="-;Dead"/>-->
<!--    </CValidatorCompareTrackedUnitsCount>-->


    <CValidatorUnitCompareBehaviorCount id="HasNoPowerShortage">
        <Behavior value="PowerShortage"/>
    </CValidatorUnitCompareBehaviorCount>
    <CValidatorUnitCompareBehaviorCount id="HasPowerShortage">
<!--        <WhichUnit Value="Caster"/>-->
        <Value value="1"/>
        <Behavior value="PowerShortage"/>
    </CValidatorUnitCompareBehaviorCount>

    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyHasNoPowerShortage">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="HasNoPowerShortage"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>
    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyHasPowerShortage">
        <ResultFailed value="NotEnoughEnergy"/>
        <Compare value="GT"/>
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <TrackedUnitValidatorArray value="HasPowerShortage"/>
        <TrackedUnitFilters value="-;Dead"/>
    </CValidatorCompareTrackedUnitsCount>




</Catalog>