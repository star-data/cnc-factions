<Catalog>
<!--SUPPORT-->
<!--    <CValidatorPlayerRequirement id="HasPowerBalance0015">-->
<!--        <Find value="1"/>-->
<!--        <Value value="GenetronPowerBalance0015"/>-->
<!--    </CValidatorPlayerRequirement>-->
<!--    <CValidatorPlayerRequirement id="DontHavePowerBalance0015">-->
<!--        <Find value="0"/>-->
<!--        <Value value="GenetronPowerBalance0015"/>-->
<!--    </CValidatorPlayerRequirement>-->


    <CValidatorUnitCompareResourceContents id="AutoHarvesterFinish">
        <Compare value="GT"/>
        <WhichUnit Value="Caster"/>
        <Behavior value="AutomaticHarvestableVespene"/>
    </CValidatorUnitCompareResourceContents>
    <CBehaviorResource id="AutomaticHarvestableVespene">
        <InfoIcon value="Assets\Textures\icon-gas.dds"/>
        <Capacity value="32000"/>
        <InfoFlags index="Hidden" value="1"/>
        <Contents value="10000"/>
    </CBehaviorResource>
    <CValidatorPlayerRequirement id="DontHaveNodTiberiumRefinery">
        <Value value="DontHaveNodTiberiumRefinery"/>
        <WhichPlayer Value="Caster"/>
    </CValidatorPlayerRequirement>






<!--    <CBehaviorBuff id="NodEnergyCheck">-->
<!--        <Period value="2.1"/>-->
<!--    </CBehaviorBuff>-->
<!--    <CValidatorCompareTrackedUnitsCount id="GenetronPowerSupplyLT05">-->
<!--        <ResultFailed value="NotEnoughEnergy"/>-->
<!--        <Compare value="GT"/>-->
<!--        <BehaviorLink value="GenetronPowerSupplyTracker"/>-->
<!--        <TrackedUnitValidatorArray value="EnergyLT05"/>-->
<!--        <TrackedUnitFilters value="-;Dead"/>-->
<!--    </CValidatorCompareTrackedUnitsCount>-->
<!--    <CValidatorUnitCompareVital id="EnergyLT05">-->
<!--        <Compare value="LT"/>-->
<!--        <Value value="5"/>-->
<!--        <Vital value="Energy"/>-->
<!--    </CValidatorUnitCompareVital>-->
<!--    <CBehaviorBuff id="NodEnergyProductionCheck">-->
<!--        <Period value="2.1"/>-->
<!--        <PeriodicEffect value="NodEnergyProductionCheck"/>-->
<!--        <BuffFlags index="DisableWhileUnderConstruction" value="1"/>-->
<!--    </CBehaviorBuff>-->
<!--    <CEffectSwitch id="NodEnergyProductionCheck">-->
<!--        <CaseArray Validator="GenetronPowerSupplyGE05" Effect="NodEnergyProductionAB"/>-->
<!--        <CaseArray Validator="GenetronPowerSupplyLT05" Effect="NodEnergyProductionRB"/>-->
<!--    </CEffectSwitch>-->
<!--    <CEffectApplyBehavior id="NodEnergyProductionAB">-->
<!--        <EditorCategories value="Race:Nod"/>-->
<!--        <Behavior value="NodEnergyProduction"/>-->
<!--    </CEffectApplyBehavior>-->
<!--    <CEffectRemoveBehavior id="NodEnergyProductionRB">-->
<!--        <WhichUnit Value="Caster"/>-->
<!--        <BehaviorLink value="NodEnergyProduction"/>-->
<!--    </CEffectRemoveBehavior>-->





    <CBehaviorBuff id="AutoHarvestVespeneNod">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Period value="2.1"/>
        <PeriodicEffect value="AutoHarvestVespeneNod"/>
        <RemoveValidatorArray value="AutoHarvesterFinish"/>
        <InfoFlags index="Hidden" value="1"/>
        <BuffFlags index="DisableWhileUnderConstruction" value="1"/>
        <DisableValidatorArray value="DontHaveNodTiberiumRefinery"/>
        <DisableValidatorArray value="GenetronPowerSupplyGE05"/>
    </CBehaviorBuff>
    <CEffectModifyUnit id="AutoHarvestVespeneNod">
        <EditorCategories value=""/>
        <Resources value="-4"/>
        <ResourcesHarvestedFraction value="1"/>
    </CEffectModifyUnit>
    <CActorText id="AutomatedRefineryTextKickerNod4">
        <Host Subject="_Unit"/>
        <FixedSize value="28"/>
        <HeightOffset value="3.5"/>
        <AlignV value="Bottom"/>
        <Text value="Button/Tooltip/AutomatedRefineryTextKickerNod4"/>
        <On Terms="ActorCreation" Send="TimerSet 0.100000 StartMover"/>
        <On Terms="ActorCreation" Send="TimerSet 2.000000 Die"/>
        <On Terms="ActorCreation" Send="SetOpacity 0.000000 2.000000"/>
        <On Terms="TimerExpired; TimerName StartMover" Send="Create AutomatedExtractorTextMover"/>
        <On Terms="TimerExpired; TimerName Die" Send="Destroy"/>
    </CActorText>

    <CActorSiteMover id="AutomatedExtractorTextMover">
        <Terms value="Cap 1"/>
        <Acceleration value="5"/>
        <Deceleration value="1"/>
        <Speed value="0.8"/>
        <SpeedMax value="0.8"/>
        <On Terms="ActorCreation" Target="::Creator" Send="RefSetFromMsg ::Host ::Sender"/>
        <On Terms="ActorCreation" Send="MoverSetDestinationH 3.000000"/>
        <On Terms="ActorCreation" Send="MoverMove"/>
        <On Terms="ActorCreation" Send="TimerSet 2.000000 Die"/>
        <On Terms="TimerExpired; TimerName Die" Send="Destroy"/>
    </CActorSiteMover>








    <CAbilBehavior id="NodScannersOn">
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="NodScannersOn" Requirements="NodScannersOn">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="NodScannersOff">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Charge Link="Abil/BansheeCloak"/>
            <Cooldown Link="Abil/BansheeCloak"/>
        </Cost>
        <BehaviorArray value="Detector11PowerUser"/>
    </CAbilBehavior>
    <CBehaviorBuff id="Detector11PowerUser">
        <Alignment value="Positive"/>
        <InfoFlags index="Hidden" value="1"/>
        <InfoIcon value="Assets\Textures\btn-status-detector.dds"/>
        <Modification Detect="11"/>
        <RemoveValidatorArray value="GenetronPowerSupplyGE001"/>
        <InitialEffect value="PowerUserDrainETU025"/>
        <Period value="0.5"/>
        <PeriodicEffect value="Detector11PowerUserDrainETU"/>
    </CBehaviorBuff>

    <CEffectEnumTrackedUnits id="PowerUserDrainETU025">
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <Effect value="PowerUserDrainPowerMU025"/>
    </CEffectEnumTrackedUnits>
    <CEffectModifyUnit id="PowerUserDrainPowerMU025">
        <VitalArray index="Energy">
            <Change value="-25"/>
        </VitalArray>
    </CEffectModifyUnit>


    <CEffectEnumTrackedUnits id="PowerUserDrainETU075">
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <Effect value="PowerUserDrainPowerMU075"/>
    </CEffectEnumTrackedUnits>
    <CEffectModifyUnit id="PowerUserDrainPowerMU075">
        <VitalArray index="Energy">
            <Change value="-75"/>
        </VitalArray>
    </CEffectModifyUnit>

    <CEffectEnumTrackedUnits id="Detector11PowerUserDrainETU">
        <BehaviorLink value="GenetronPowerSupplyTracker"/>
        <Effect value="Detector11PowerUserDrainPowerMU"/>
    </CEffectEnumTrackedUnits>
    <CEffectModifyUnit id="Detector11PowerUserDrainPowerMU">
        <VitalArray index="Energy">
            <Change value="-0.45"/>
        </VitalArray>
    </CEffectModifyUnit>



    <CModel id="Detector11PowerUser">
        <Model value="Assets\Effects\LensFlares\LensFlare_MaterialSet_AiurCityNight\LensFlare_MaterialSet_AiurCityNight_08.m3"/>
<!--        <ScaleMax value="0.250000,0.250000,0.250000"/>-->
<!--        <ScaleMin value="0.250000,0.250000,0.250000"/>-->
    </CModel>
    <CActorModel id="Detector11PowerUser" parent="ModelAnimationStyleContinuousUNIT">
        <On Terms="Behavior.Detector11PowerUser.On" Send="Create"/>
        <On Terms="Behavior.Detector11PowerUser.Off" Send="Destroy"/>
        <HostSiteOps Ops="SOpAttachHead SOpMoveByDot15"/>
        <Scale value="0.750000"/>
    </CActorModel>



    <CButton id="NodEnergyCloakOff" parent="CButtonGenetron" HotkeySet="Cloak" Icon="Assets\Textures\btn-ability-genetron-courierdecloak.dds"/>
    <CButton id="NodEnergyCloakOn" parent="CButtonGenetron" HotkeyAlias="CloakOnBanshee" HotkeySet="Cloak" Icon="Assets\Textures\btn-ability-hornerhan-wraith-permanentcloak.dds"/>

    <CButton id="NodScannersOff" parent="CButtonGenetron" HotkeySet="Cloak" Icon="Assets\Icons\Gdi\btn-gdi-ability-radarscan.dds"/>
    <CButton id="NodScannersOn" parent="CButtonGenetron" HotkeyAlias="CloakOnBanshee" HotkeySet="Cloak" Icon="Assets\Icons\Gdi\btn-gdi-ability-radarscan.dds"/>



    <CBehaviorBuff id="NodEnergyCloak">
        <Alignment value="Positive"/>
        <InfoIcon value="Assets\Textures\btn-ability-terran-cloak.dds"/>
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
<!--        <RemoveValidatorArray value="CanSpendEnergy"/>-->
        <RemoveValidatorArray value="GenetronPowerSupplyGE001"/>
        <Modification>
            <StateFlags index="Cloak" value="1"/>
        </Modification>
        <InitialEffect value="PowerUserDrainETU025"/>
        <Period value="0.5"/>
        <PeriodicEffect value="Detector11PowerUserDrainETU"/>
    </CBehaviorBuff>
    <CAbilBehavior id="NodEnergyCloak">
        <AbilSetId value="Clok"/>
        <EditorCategories value="Race:Genetron,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="NodEnergyCloakOn" Requirements="NodEnergyCloak">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="NodEnergyCloakOff">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Charge Link="Abil/BansheeCloak"/>
            <Cooldown Link="Abil/BansheeCloak"/>
        </Cost>
        <BehaviorArray value="CourierCloak"/>
    </CAbilBehavior>



    <CBehaviorBuff id="CNCConstructionRadiusDisable">
        <Modification>
            <BehaviorClassDisableArray index="CBehaviorPowerSource" value="1"/>
        </Modification>
    </CBehaviorBuff>

    <CEffectRemoveBehavior id="CNCConstructionRadiusDisableRB">
        <BehaviorLink value="CNCConstructionRadiusDisable"/>
        <WhichUnit Value="Caster"/>
    </CEffectRemoveBehavior>
    <CEffectApplyBehavior id="CNCConstructionRadiusDisable">
        <WhichUnit Value="Caster"/>
    </CEffectApplyBehavior>
</Catalog>