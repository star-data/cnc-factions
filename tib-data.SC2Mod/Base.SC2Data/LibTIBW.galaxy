include "TriggerLibs/NativeLib"

include "LibTIBW_h"

//--------------------------------------------------------------------------------------------------
// Library: Tiberium Wars
//--------------------------------------------------------------------------------------------------
// External Library Initialization
void libTIBW_InitLibraries () {
    libNtve_InitVariables();
}

// Variable Initialization
bool libTIBW_InitVariables_completed = false;

void libTIBW_InitVariables () {
    int init_i;
    int init_j;

    if (libTIBW_InitVariables_completed) {
        return;
    }

    libTIBW_InitVariables_completed = true;

    for (init_i = 0; init_i <= libTIBW_gv_beaconGroups; init_i += 1) {
        libTIBW_gv_watchTypes[init_i] = "";
    }
    for (init_i = 0; init_i <= 15; init_i += 1) {
        for (init_j = 0; init_j <= libTIBW_gv_beaconGroups; init_j += 1) {
            libTIBW_gv_productionUnits[init_i][init_j] = UnitGroupEmpty();
        }
    }
    for (init_i = 0; init_i <= libTIBW_gv_beaconGroups; init_i += 1) {
        libTIBW_gv_labels[init_i] = c_invalidDialogControlId;
    }
    for (init_i = 0; init_i <= libTIBW_gv_beaconGroups; init_i += 1) {
        libTIBW_gv_buttons[init_i] = c_invalidDialogControlId;
    }
    libTIBW_gv_aF_SlimUI_PlayerGroup = PlayerGroupEmpty();
    libTIBW_gv_alliancepanel = c_invalidDialogControlId;
    libTIBW_gv_chaowuPanel = c_invalidDialogId;
    libTIBW_gv_maintenancePanel = c_invalidDialogId;
    libTIBW_gv_chaowucommandpanel = c_invalidDialogId;
    libTIBW_gv_maintenancecommandpanel = c_invalidDialogId;
    libTIBW_gv_teleportationmarktarget = UnitGroupEmpty();
    for (init_i = 0; init_i <= 16; init_i += 1) {
        for (init_j = 0; init_j <= 200; init_j += 1) {
            libTIBW_gv_announcerTimers[init_i][init_j] = TimerCreate();
        }
    }
    libTIBW_gv_pASSIVE_ENERGY_CONSUMPTION_ENABLED = true;
    for (init_i = 0; init_i <= 15; init_i += 1) {
        libTIBW_gv_powerUsers[init_i] = UnitGroupEmpty();
    }
    for (init_i = 0; init_i <= 15; init_i += 1) {
        libTIBW_gv_markTarget[init_i] = UnitGroupEmpty();
    }
    for (init_i = 0; init_i <= 15; init_i += 1) {
        libTIBW_gv_decoyCaster[init_i] = UnitGroupEmpty();
    }
    for (init_i = 0; init_i <= 15; init_i += 1) {
        libTIBW_gv_masterMindTeleportMarkTarget[init_i] = UnitGroupEmpty();
    }
    for (init_i = 0; init_i <= 15; init_i += 1) {
        libTIBW_gv_masterMindTeleportCaster[init_i] = UnitGroupEmpty();
    }
    for (init_i = 0; init_i <= libTIBW_gv_platformMaxCountRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel; init_i += 1) {
        libTIBW_gv_bomberPFUnitsGroupRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel[init_i] = UnitGroupEmpty();
    }
    libTIBW_gv_bomberPlatformTempGroup = UnitGroupEmpty();
    libTIBW_gv_bomberFighterDebugGroup = UnitGroupEmpty();
    libTIBW_gv_bomberFighterTempGroup = UnitGroupEmpty();
    libTIBW_gv_nODCommandPanl = c_invalidDialogControlId;
    libTIBW_gv_nODCommandPanelDialog = c_invalidDialogId;
    libTIBW_gv_mCVDeploymentPanelRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = c_invalidDialogControlId;
    libTIBW_gv_mCVDeploymentTip = c_invalidDialogControlId;
    libTIBW_gv_decoration = c_invalidDialogControlId;
    libTIBW_gv_mCVPanel = c_invalidDialogId;
    libTIBW_gv_cNC_TP_DropPod_Units = UnitGroupEmpty();
}

// Presets
// Functions
void libTIBW_gf_RegisterUnit (unit lp_unit, int lp_player) {
    // Automatic Variable Declarations
    // Implementation
    if ((UnitHasBehavior2(lp_unit, "CNCTabConstruction") == true)) {
        libTIBW_gf_AddproductionUnit(lp_unit, lp_player, 1);
    }

    if ((UnitHasBehavior2(lp_unit, "CNCTabEconomy") == true)) {
        libTIBW_gf_AddproductionUnit(lp_unit, lp_player, 2);
    }

    if ((UnitHasBehavior2(lp_unit, "CNCTabInfantry") == true)) {
        libTIBW_gf_AddproductionUnit(lp_unit, lp_player, 3);
    }

    if ((UnitHasBehavior2(lp_unit, "CNCTabVehicles") == true)) {
        libTIBW_gf_AddproductionUnit(lp_unit, lp_player, 4);
    }

    if ((UnitHasBehavior2(lp_unit, "CNCTabAirforce") == true)) {
        libTIBW_gf_AddproductionUnit(lp_unit, lp_player, 5);
    }

}

void libTIBW_gf_UnRegisterUnit (unit lp_unit, int lp_player) {
    // Automatic Variable Declarations
    // Implementation
    if ((UnitHasBehavior2(lp_unit, "CNCTabConstruction") == true)) {
        libTIBW_gf_DeleteProductionUnit(lp_unit, lp_player, 1);
    }

    if ((UnitHasBehavior2(lp_unit, "CNCTabEconomy") == true)) {
        libTIBW_gf_DeleteProductionUnit(lp_unit, lp_player, 2);
    }

    if ((UnitHasBehavior2(lp_unit, "CNCTabInfantry") == true)) {
        libTIBW_gf_DeleteProductionUnit(lp_unit, lp_player, 3);
    }

    if ((UnitHasBehavior2(lp_unit, "CNCTabVehicles") == true)) {
        libTIBW_gf_DeleteProductionUnit(lp_unit, lp_player, 4);
    }

    if ((UnitHasBehavior2(lp_unit, "CNCTabAirforce") == true)) {
        libTIBW_gf_DeleteProductionUnit(lp_unit, lp_player, 5);
    }

}

void libTIBW_gf_AddproductionUnit (unit lp_unit, int lp_player, int lp_productionTabIndex) {
    // Variable Declarations
    int lv_living;

    // Automatic Variable Declarations
    // Variable Initialization

    // Implementation
    UnitGroupAdd(libTIBW_gv_productionUnits[lp_player][lp_productionTabIndex], lp_unit);
    lv_living = UnitGroupCount(libTIBW_gv_productionUnits[lp_player][lp_productionTabIndex], c_unitCountAlive);
    libNtve_gf_SetDialogItemText(libTIBW_gv_labels[lp_productionTabIndex], IntToText(lv_living), PlayerGroupSingle(lp_player));
    if ((lv_living == 1)) {
        DialogControlSetEnabled(libTIBW_gv_buttons[lp_productionTabIndex], PlayerGroupSingle(lp_player), true);
    }

}

void libTIBW_gf_DeleteProductionUnit (unit lp_unit, int lp_player, int lp_productionTabIndex) {
    // Variable Declarations
    int lv_living;

    // Automatic Variable Declarations
    // Variable Initialization

    // Implementation
    UnitGroupRemove(libTIBW_gv_productionUnits[lp_player][lp_productionTabIndex], lp_unit);
    lv_living = UnitGroupCount(libTIBW_gv_productionUnits[lp_player][lp_productionTabIndex], c_unitCountAlive);
    libNtve_gf_SetDialogItemText(libTIBW_gv_labels[lp_productionTabIndex], IntToText(lv_living), PlayerGroupSingle(lp_player));
    if ((lv_living == 0)) {
        DialogControlSetEnabled(libTIBW_gv_buttons[lp_productionTabIndex], PlayerGroupSingle(lp_player), false);
    }

}

string libTIBW_gf__UnitDataName (int lp_type, unit lp_unit, int lp_index) {
    // Variable Declarations
    string lv_name;

    // Automatic Variable Declarations
    int autoCD8CFFFE_val;

    // Variable Initialization
    lv_name = "";

    // Implementation
    autoCD8CFFFE_val = lp_type;
    if (autoCD8CFFFE_val == libTIBW_ge__UnitDataType_Actor) {
        lv_name = "UDACTOR_";
    }
    else if (autoCD8CFFFE_val == libTIBW_ge__UnitDataType_Integer) {
        lv_name = "UDINTEGER_";
    }
    else if (autoCD8CFFFE_val == libTIBW_ge__UnitDataType_Ping) {
        lv_name = "UDPING_";
    }
    else if (autoCD8CFFFE_val == libTIBW_ge__UnitDataType_Point) {
        lv_name = "UDPOINT_";
    }
    else if (autoCD8CFFFE_val == libTIBW_ge__UnitDataType_Region) {
        lv_name = "UDREGION_";
    }
    else if (autoCD8CFFFE_val == libTIBW_ge__UnitDataType_TextTag) {
        lv_name = "UDTEXTTAG_";
    }
    else if (autoCD8CFFFE_val == libTIBW_ge__UnitDataType_Unit) {
        lv_name = "UDUNIT_";
    }
    else if (autoCD8CFFFE_val == libTIBW_ge__UnitDataType_UnitGroup) {
        lv_name = "UDUNITGROUP_";
    }
    else if (autoCD8CFFFE_val == libTIBW_ge__UnitDataType_String) {
        lv_name = "UDSTRING_";
    }
    else {
    }
    lv_name = (lv_name + IntToString(UnitGetTag(lp_unit)) + "_" + IntToString(lp_index));
    return lv_name;
}

void libTIBW_gf_StoreStringForUnit (unit lp_unit, int lp_index, string lp_string) {
    // Automatic Variable Declarations
    // Implementation
    DataTableSetString(true, libTIBW_gf__UnitDataName(libTIBW_ge__UnitDataType_String, lp_unit, lp_index), lp_string);
}

void libTIBW_gf_StorePingForUnit (unit lp_unit, int lp_index, int lp_ping) {
    // Automatic Variable Declarations
    // Implementation
    DataTableSetPing(true, libTIBW_gf__UnitDataName(libTIBW_ge__UnitDataType_Ping, lp_unit, lp_index), lp_ping);
}

int libTIBW_gf_PingStoredForUnit (unit lp_unit, int lp_index) {
    // Automatic Variable Declarations
    // Implementation
    return DataTableGetPing(true, libTIBW_gf__UnitDataName(libTIBW_ge__UnitDataType_Ping, lp_unit, lp_index));
}

string libTIBW_gf_StringStoredForUnit (unit lp_unit, int lp_index) {
    // Automatic Variable Declarations
    // Implementation
    return DataTableGetString(true, libTIBW_gf__UnitDataName(libTIBW_ge__UnitDataType_String, lp_unit, lp_index));
}

void libTIBW_gf_ApplyPlayerVoicePack (int lp_player, string lp_voiceID) {
    // Variable Declarations
    string lv_voicePackReward;

    // Automatic Variable Declarations
    int auto7577C56C_catalog;
    string auto7577C56C_entry;
    string auto7577C56C_fieldPath;
    int auto7577C56C_player;
    int auto7577C56C_i;
    int auto1B59D74B_ae;
    int auto1B59D74B_var;

    // Variable Initialization
    lv_voicePackReward = "";

    // Implementation
    auto7577C56C_catalog = c_gameCatalogVoicePack;
    auto7577C56C_entry = lp_voiceID;
    auto7577C56C_fieldPath = "UnlockedRewardArray";
    auto7577C56C_player = lp_player;
    auto7577C56C_i = 0;
    for ( ; auto7577C56C_i <= CatalogFieldValueCount(c_gameCatalogVoicePack,auto7577C56C_entry,auto7577C56C_fieldPath,auto7577C56C_player)-1 ; auto7577C56C_i += 1 ) {
        lv_voicePackReward = CatalogFieldValueGet(c_gameCatalogVoicePack,auto7577C56C_entry,auto7577C56C_fieldPath+"["+IntToString(auto7577C56C_i)+"]",auto7577C56C_player);
        auto1B59D74B_ae = (CatalogFieldValueCount(c_gameCatalogReward, lv_voicePackReward, "ReplacementArray", lp_player) - 1);
        auto1B59D74B_var = 0;
        for ( ; auto1B59D74B_var <= auto1B59D74B_ae; auto1B59D74B_var += 1 ) {
            CatalogLinkReplace(lp_player, c_gameCatalogSound, CatalogFieldValueGet(c_gameCatalogReward, lv_voicePackReward, "ReplacementArray[" + IntToString(auto1B59D74B_var) + "].From", lp_player), CatalogFieldValueGet(c_gameCatalogReward, lv_voicePackReward, "ReplacementArray[" + IntToString(auto1B59D74B_var) + "].To", lp_player));
        }
    }
}

bool libTIBW_gf_UnitUnlocksTech (unit lp_unit) {
    // Variable Declarations
    string lv_abil;

    // Automatic Variable Declarations
    string auto6DA1B36A_val;
    unit auto52A93C2A_unit;
    int auto52A93C2A_i;

    // Variable Initialization

    // Implementation
    auto6DA1B36A_val = UnitGetType(lp_unit);
    if (auto6DA1B36A_val == "NodPowerPlant") {
        if ((UnitCount("NodPowerPlantUpgraded", c_playerAny, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0) == 1)) {
            return false;
        }
        else {
            return true;
        }
    }
    else if (auto6DA1B36A_val == "NodCrane") {
        if ((UnitCount("NodConstructionYard", c_playerAny, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0) == 1)) {
            return false;
        }
        else {
            return true;
        }
    }
    else {
        auto52A93C2A_unit = lp_unit;
        auto52A93C2A_i = 1;
        for ( ; auto52A93C2A_i <= UnitAbilityCount(auto52A93C2A_unit) ; auto52A93C2A_i += 1 ) {
            lv_abil = UnitAbilityGet(auto52A93C2A_unit, auto52A93C2A_i);
            if ((AbilityClass(lv_abil) == c_classIdCAbilTrain) && (AbilityClass(lv_abil) == c_classIdCAbilBuild) && (AbilityClass(lv_abil) == c_classIdCAbilResearch)) {
                return true;
            }

        }
        return false;
    }
}

void libTIBW_gf_PlayAnnounceSound (int lp_type, int lp_player) {
    // Variable Declarations
    int lv_player;
    playergroup lv_players;

    // Automatic Variable Declarations
    int autoF4226EF4_val;

    // Variable Initialization
    lv_player = lp_player;
    lv_players = PlayerGroupEmpty();

    // Implementation
    PlayerGroupAdd(lv_players, lv_player);
    autoF4226EF4_val = lp_type;
    if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_AllyUnderAttack) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 14), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_BaseUnderAttack) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 23), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_HarvesterUnderAttack) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 162), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_UnitUnderAttack) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 9), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_BuildingOffline) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 44), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_BuildingOnline) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 45), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_UnitReady) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 42), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_UnitLost) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 24), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_Building) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 62), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_Training) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 63), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_NewConstructionOptions) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 19), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_ConComplete) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 66), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_NewRallyPointEstablished) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 27), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_Cancelled) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 0), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_Repairing) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 25), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_StructureSold) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 13), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_LowPower) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 35), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else if (autoF4226EF4_val == libTIBW_ge_NEVA_NEVA_PowerRestored) {
        SoundPlayForPlayer(SoundLink("NodAdvisor", 21), c_maxPlayers, lv_players, 100.0, 0.0);
    }
    else {
    }
}

int libTIBW_gf_GetunitHarvestingStage (unit lp_unit) {
    // Variable Declarations
    int lv_stage;

    // Automatic Variable Declarations
    // Variable Initialization

    // Implementation
    if (((UnitHasBehavior2(lp_unit, "CarryHighYieldMinerals1") == true) || (UnitHasBehavior2(lp_unit, "CarryMinerals1") == true) || (UnitHasBehavior2(lp_unit, "CarryTiberium1") == true) || (UnitHasBehavior2(lp_unit, "CarryVespene1") == true) || (UnitHasBehavior2(lp_unit, "CarryTerrazine1") == true))) {
        lv_stage = (lv_stage + 1);
    }

    if (((UnitHasBehavior2(lp_unit, "CarryHighYieldMinerals2") == true) || (UnitHasBehavior2(lp_unit, "CarryMinerals2") == true) || (UnitHasBehavior2(lp_unit, "CarryTiberium2") == true) || (UnitHasBehavior2(lp_unit, "CarryVespene2") == true) || (UnitHasBehavior2(lp_unit, "CarryTerrazine2") == true))) {
        lv_stage = (lv_stage + 1);
    }

    if (((UnitHasBehavior2(lp_unit, "CarryHighYieldMinerals3") == true) || (UnitHasBehavior2(lp_unit, "CarryMinerals3") == true) || (UnitHasBehavior2(lp_unit, "CarryTiberium3") == true) || (UnitHasBehavior2(lp_unit, "CarryVespene3") == true) || (UnitHasBehavior2(lp_unit, "CarryTerrazine3") == true))) {
        lv_stage = (lv_stage + 1);
    }

    if (((UnitHasBehavior2(lp_unit, "CarryHighYieldMinerals4") == true) || (UnitHasBehavior2(lp_unit, "CarryMinerals4") == true) || (UnitHasBehavior2(lp_unit, "CarryTiberium4") == true) || (UnitHasBehavior2(lp_unit, "CarryVespene4") == true) || (UnitHasBehavior2(lp_unit, "CarryTerrazine4") == true))) {
        lv_stage = (lv_stage + 1);
    }

    return lv_stage;
}

void libTIBW_gf_ResetUnitHarvestingState (unit lp_unit) {
    // Variable Declarations
    unit lv_unit;

    // Automatic Variable Declarations
    const int auto6B299F46_ae = 30;
    int auto6B299F46_var;

    // Variable Initialization
    lv_unit = lp_unit;

    // Implementation
    auto6B299F46_var = 3;
    for ( ; auto6B299F46_var <= auto6B299F46_ae; auto6B299F46_var += 1 ) {
        UnitAbilityChangeLink(lv_unit, "CNCHarvest", (("CNCHarvest" + IntToString(UnitGetPropertyInt(lv_unit, c_unitPropCarriedMinerals, c_unitPropCurrent)))));
        if ((UnitAbilityExists(lv_unit, (("CNCHarvest" + IntToString(auto6B299F46_var)))) == true)) {
            UnitAbilityChangeLink(lv_unit, (("CNCHarvest" + IntToString(auto6B299F46_var))), "CNCHarvest");
        }

    }
}

void libTIBW_gf_ResetUnitCarriedVespene (unit lp_unit) {
    // Variable Declarations
    unit lv_unit;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = lp_unit;

    // Implementation
    UnitBehaviorRemove(lv_unit, "CarryVespene1", 1);
    UnitBehaviorRemove(lv_unit, "CarryVespene2", 1);
    UnitBehaviorRemove(lv_unit, "CarryVespene3", 1);
    UnitBehaviorRemove(lv_unit, "CarryVespene4", 1);
    UnitBehaviorRemove(lv_unit, "CarryTerrazine1", 1);
    UnitBehaviorRemove(lv_unit, "CarryTerrazine2", 1);
    UnitBehaviorRemove(lv_unit, "CarryTerrazine3", 1);
    UnitBehaviorRemove(lv_unit, "CarryTerrazine4", 1);
}

void libTIBW_gf_ResetUnitCarriedMinerals (unit lp_unit) {
    // Variable Declarations
    unit lv_unit;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = lp_unit;

    // Implementation
    UnitBehaviorRemove(lv_unit, "CarryHighYieldMinerals1", 1);
    UnitBehaviorRemove(lv_unit, "CarryHighYieldMinerals2", 1);
    UnitBehaviorRemove(lv_unit, "CarryHighYieldMinerals3", 1);
    UnitBehaviorRemove(lv_unit, "CarryHighYieldMinerals4", 1);
    UnitBehaviorRemove(lv_unit, "CarryMinerals1", 1);
    UnitBehaviorRemove(lv_unit, "CarryMinerals2", 1);
    UnitBehaviorRemove(lv_unit, "CarryMinerals3", 1);
    UnitBehaviorRemove(lv_unit, "CarryMinerals4", 1);
    UnitBehaviorRemove(lv_unit, "CarryTiberium1", 1);
    UnitBehaviorRemove(lv_unit, "CarryTiberium2", 1);
    UnitBehaviorRemove(lv_unit, "CarryTiberium3", 1);
    UnitBehaviorRemove(lv_unit, "CarryTiberium4", 1);
}

void libTIBW_gf_TiberiumSpawn (point lp_point, int lp_amount) {
    // Variable Declarations
    int lv_x;
    int lv_y;
    point lv_p;
    unit lv_mineralUnit;

    // Automatic Variable Declarations
    unitgroup auto9421BC66_g;
    int auto9421BC66_u;
    unit auto9421BC66_var;

    // Variable Initialization
    lv_p = lp_point;

    // Implementation
    lv_mineralUnit = null;
    if ((PointPathingPassable(lv_p) == false)) {

    }

    auto9421BC66_g = UnitGroup(null, c_playerAny, RegionCircle(lv_p, 0.45), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    auto9421BC66_u = UnitGroupCount(auto9421BC66_g, c_unitCountAll);
    for (;; auto9421BC66_u -= 1) {
        auto9421BC66_var = UnitGroupUnitFromEnd(auto9421BC66_g, auto9421BC66_u);
        if (auto9421BC66_var == null) { break; }
        if ((UnitGetType(auto9421BC66_var) == "TibMineralField")) {
            lv_mineralUnit = auto9421BC66_var;
        }

    }
    if ((lv_mineralUnit != null)) {
        UnitSetPropertyFixed(lv_mineralUnit, c_unitPropResources, (UnitGetPropertyFixed(lv_mineralUnit, c_unitPropResources, c_unitPropCurrent) + lp_amount));
    }
    else {
        libNtve_gf_CreateUnitsWithDefaultFacing(1, "TibMineralField", c_unitCreateIgnoreBirth, 1, lv_p);
        lv_mineralUnit = UnitLastCreated();
        UnitSetPropertyFixed(lv_mineralUnit, c_unitPropResources, lp_amount);
    }
}

void libTIBW_gf_AttachUnitModelToUnit (unit lp_attachmentUnit, unit lp_targetUnit, string lp_attachPont2, fixed lp_xOffset, fixed lp_yOffset, fixed lp_zOffset, string lp_facingAdjustment) {
    // Automatic Variable Declarations
    // Implementation
    libNtve_gf_SendActorMessageToUnit(lp_attachmentUnit, "RefSet ::global.XanthosNewPart ::Self");
    libNtve_gf_SendActorMessageToUnit(lp_targetUnit, "RefSet ::global.XanthosBody ::Self");
    libNtve_gf_SendActorMessageToUnit(lp_attachmentUnit, "RefSet ::actor.MainBody ::global.XanthosBody");
    libNtve_gf_SendActorMessageToUnit(lp_attachmentUnit, "Signal BaselineHook");
    libNtve_gf_SendActorMessageToUnit(lp_targetUnit, (("AttachOffset ::global.XanthosNewPart {" + lp_attachPont2 + "} " + FixedToString(lp_xOffset, c_fixedPrecisionAny) + "," + FixedToString(lp_yOffset, c_fixedPrecisionAny) + "," + FixedToString(lp_zOffset, c_fixedPrecisionAny) + " {} {" + (lp_facingAdjustment) + "}")));
    ActorSend(ActorFromActor(libNtve_gf_MainActorofUnit(lp_targetUnit), "XanthosPartList"), "ListAdd ::global.XanthosNewPart");
}

void libTIBW_gf_Theplanetakesoff (unit lp_airplane) {
    // Automatic Variable Declarations
    // Implementation
    UnitBehaviorRemove(lp_airplane, "Airportlanded", 1);
    UnitBehaviorRemove(lp_airplane, "Notifyairportaftertakeofforexplosion", 1);
    UnitBehaviorRemove(lp_airplane, "Airportcirclingprohibitedforaperiodoftime", 1);
    UnitCreateEffectUnit(lp_airplane, "AircraftTraverseTrackingAirport", lp_airplane);
    UnitBehaviorRemove(lp_airplane, "Aircraftreversesurveillanceoftheairport", 1);
    UnitBehaviorAdd(lp_airplane, "Airporttakingoff", lp_airplane, 1);
    if ((UnitGetType(lp_airplane) == "AlliedCenturyBomber")) {
        UnitSetHeight(lp_airplane, 3.75, 1.6);
        UnitBehaviorSetDuration(lp_airplane, "Airporttakingoff", 1.6);
    }
    else {
        UnitSetHeight(lp_airplane, 3.75, 0.75);
        UnitBehaviorSetDuration(lp_airplane, "Airporttakingoff", 0.75);
    }
}

void libTIBW_gf_SearchForAirportandLockit (unit lp_airplane, unit lp_searchTarget, int lp_radius, bool lp_skipOccupied) {
    // Variable Declarations
    unit lv_searchTarget;
    unit lv_airport;
    unit lv_airplane;
    int lv_useslot;
    int lv_radius;
    unitgroup lv_priority1;
    unitgroup lv_priority2;
    unitgroup lv_priority3;
    string lv_uD;
    point lv_landingpoint;

    // Automatic Variable Declarations
    unitgroup autoD0065C45_g;
    int autoD0065C45_u;
    unit autoD0065C45_var;

    // Variable Initialization
    lv_searchTarget = lp_searchTarget;
    lv_airplane = lp_airplane;
    lv_radius = lp_radius;
    lv_priority1 = UnitGroupEmpty();
    lv_priority2 = UnitGroupEmpty();
    lv_priority3 = UnitGroupEmpty();

    // Implementation
    if ((lv_radius == 0)) {
        lv_radius = 999;
    }

    if ((lv_searchTarget == null)) {
        lv_searchTarget = lv_airplane;
    }

    autoD0065C45_g = UnitGroup(null, UnitGetOwner(lv_airplane), RegionCircle(UnitGetPosition(lv_searchTarget), lv_radius), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterUnderConstruction - 32)) | (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    autoD0065C45_u = UnitGroupCount(autoD0065C45_g, c_unitCountAll);
    for (;; autoD0065C45_u -= 1) {
        autoD0065C45_var = UnitGroupUnitFromEnd(autoD0065C45_g, autoD0065C45_u);
        if (autoD0065C45_var == null) { break; }
        if ((UnitHasBehavior2(autoD0065C45_var, "AircraftAirportParkingAircraftTracking") == true)) {
            if ((UnitHasBehavior2(autoD0065C45_var, "Docked") == false)) {
                if ((UnitHasBehavior2(autoD0065C45_var, "LockedLandingPad") == false)) {
                    UnitGroupAdd(lv_priority1, autoD0065C45_var);
                }
                else {
                    UnitGroupAdd(lv_priority2, autoD0065C45_var);
                }
            }
            else {
                if ((lp_skipOccupied == false)) {
                    UnitGroupAdd(lv_priority3, autoD0065C45_var);
                }

            }
        }

    }
    if ((UnitGroupCount(lv_priority1, c_unitCountAlive) > 0)) {
        lv_airport = UnitGroupClosestToPoint(lv_priority1, UnitGetPosition(lv_searchTarget));
    }
    else {
        if ((UnitGroupCount(lv_priority2, c_unitCountAlive) > 0)) {
            lv_airport = UnitGroupClosestToPoint(lv_priority2, UnitGetPosition(lv_searchTarget));
        }
        else {
            if ((UnitGroupCount(lv_priority3, c_unitCountAlive) > 0)) {
                lv_airport = UnitGroupClosestToPoint(lv_priority3, UnitGetPosition(lv_searchTarget));
            }

        }
    }
    if ((lv_airport != null)) {
        libTIBW_gf_TargetAirportForLanding(lv_airplane, lv_airport);
    }

}

void libTIBW_gf_TargetAirportForLanding (unit lp_airplane, unit lp_airport) {
    // Variable Declarations
    unit lv_airport;
    unit lv_airplane;
    int lv_useslot;
    point lv_landingpoint;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airport = lp_airport;
    lv_airplane = lp_airplane;

    // Implementation
    lv_landingpoint = PointWithOffsetPolar(PointWithOffsetPolar(UnitGetPosition(lp_airport), UnitGetCustomValue(lv_airport, 1), (-45.0 + UnitGetFacing(lv_airport))), UnitGetCustomValue(lv_airport, 2), (UnitGetFacing(lv_airport) + 45.0));
    UnitIssueOrder(lp_airplane, OrderTargetingPoint(AbilityCommand("VS_ReturnToAirport", 0), lv_landingpoint), c_orderQueueReplace);
    DataTableSetUnit(true, ("TARGETAIRPORT" + IntToString(UnitGetTag(lv_airplane))), lv_airport);
    UnitBehaviorAdd(lv_airport, "LockedLandingPad", lv_airplane, 1);
}

point libTIBW_gf_Circledunitsturntoacquisitionpoint (unit lp_attackingunit, point lp_locationoftheattackedunit, bool lp_whetherthetargetpointistotheleftoftheunit) {
    // Variable Declarations
    point[37] lv_circlepoint;
    int lv_a;
    int lv_b;
    fixed lv_distance;
    point lv_closestpoint;
    fixed lv_anglefromcentertonearestpoint;
    fixed lv_theproperangle;
    point lv_finalpoint;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_distance = 200.0;

    // Implementation
    lv_anglefromcentertonearestpoint = AngleBetweenPoints(lp_locationoftheattackedunit, UnitGetPosition(lp_attackingunit));
    if (((TechTreeUnitCount(1, "Nexus", c_techCountCompleteOnly) == 1) && (lv_anglefromcentertonearestpoint < -150.0) && (lv_anglefromcentertonearestpoint > -180.0))) {
        lv_theproperangle = (180.0 - (lv_anglefromcentertonearestpoint - -180.0));
    }
    else {
        if ((lp_whetherthetargetpointistotheleftoftheunit == false)) {
            lv_theproperangle = (lv_anglefromcentertonearestpoint - 30.0);
        }
        else {
            lv_theproperangle = (lv_anglefromcentertonearestpoint + 30.0);
        }
    }
    lv_finalpoint = PointWithOffsetPolar(lp_locationoftheattackedunit, 7.0, lv_theproperangle);
    return lv_finalpoint;
}

void libTIBW_gf_Accuraterotation (fixed lp_angleX, fixed lp_angleY, fixed lp_angleZ, actor lp_actor) {
    // Automatic Variable Declarations
    // Implementation
    ActorSend(lp_actor, libTIBW_gf_ZhunQueXuanZhuanFunc(lp_angleX, lp_angleY, lp_angleZ));
}

string libTIBW_gf_ZhunQueXuanZhuanFunc (fixed lp_angleX, fixed lp_angleY, fixed lp_angleZ) {
    // Variable Declarations
    fixed lv_forwardX;
    fixed lv_forwardY;
    fixed lv_forwardZ;
    fixed lv_upX;
    fixed lv_upY;
    fixed lv_upZ;
    fixed lv_oB;
    fixed lv_angleBOX;
    fixed lv_x;
    fixed lv_y;
    string lv_message;

    // Automatic Variable Declarations
    // Variable Initialization

    // Implementation
    lv_forwardX = (Cos(lp_angleY) * Cos(lp_angleZ));
    lv_forwardY = (Cos(lp_angleY) * Sin(lp_angleZ));
    lv_forwardZ = Sin(lp_angleY);
    lv_x = (Cos(lp_angleX) * Cos((lp_angleY + 90.0)));
    lv_y = Cos((lp_angleX + 90.0));
    lv_oB = SquareRoot(((lv_x * lv_x) + (lv_y * lv_y)));
    lv_angleBOX = (ATan2(lv_y, lv_x) + lp_angleZ);
    lv_upX = (lv_oB * Cos(lv_angleBOX));
    lv_upY = (lv_oB * Sin(lv_angleBOX));
    lv_upZ = (Cos(lp_angleX) * Sin((lp_angleY + 90.0)));
    lv_message = libTIBW_gf_Combinedaccuraterotation(lv_forwardX, lv_forwardY, lv_forwardZ, lv_upX, lv_upY, lv_upZ);
    return lv_message;
}

string libTIBW_gf_Combinedaccuraterotation (fixed lp_forward_X, fixed lp_forward_Y, fixed lp_forward_Z, fixed lp_up_X, fixed lp_up_Y, fixed lp_up_Z) {
    // Variable Declarations
    string lv_temp;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_temp = "";

    // Implementation
    lv_temp = ("SetRotation {" + (libNtve_gf_Convert3DVectorToString(lp_forward_X, lp_forward_Y, lp_forward_Z) + " " + libNtve_gf_Convert3DVectorToString(lp_up_X, lp_up_Y, lp_up_Z)) + "}");
    return (lv_temp);
}

bool libTIBW_gf_Theanglebetweentheunitandthetargetpointisabout (unit lp_unit, point lp_point) {
    // Variable Declarations
    fixed lv_anglebetween;
    fixed lv_unitorientation;
    bool lv_oneispositiveandtheotherisnegative;
    unit lv_attackingunit;
    fixed lv_angle;
    point lv_centerpoint;
    point lv_movingtargetpoint;
    fixed lv_angledifference;
    fixed lv_preliminarydifference;
    bool lv_whetherthetargetpointistotheleftoftheunit;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_oneispositiveandtheotherisnegative = true;

    // Implementation
    lv_anglebetween = AngleBetweenPoints(UnitGetPosition(lp_unit), lp_point);
    lv_unitorientation = UnitGetFacing(lp_unit);
    if (((lv_unitorientation >= 0.0) && (lv_anglebetween >= 0.0))) {
        lv_oneispositiveandtheotherisnegative = false;
        if (((lv_unitorientation >= lv_anglebetween))) {
            lv_whetherthetargetpointistotheleftoftheunit = false;
        }
        else {
            lv_whetherthetargetpointistotheleftoftheunit = true;
        }
    }

    if (((lv_unitorientation < 0.0) && (lv_anglebetween < 0.0))) {
        lv_oneispositiveandtheotherisnegative = false;
        if (((lv_unitorientation >= lv_anglebetween))) {
            lv_whetherthetargetpointistotheleftoftheunit = false;
        }
        else {
            lv_whetherthetargetpointistotheleftoftheunit = true;
        }
    }

    if ((lv_oneispositiveandtheotherisnegative == true)) {
        if ((lv_anglebetween < 0.0)) {
            lv_preliminarydifference = (lv_anglebetween-(lv_unitorientation - 360.0));
            if ((lv_preliminarydifference <= 180.0)) {
                lv_whetherthetargetpointistotheleftoftheunit = true;
            }
            else {
                lv_whetherthetargetpointistotheleftoftheunit = false;
            }
        }
        else {
            if ((lv_unitorientation < 0.0)) {
                lv_preliminarydifference = (lv_unitorientation-(lv_anglebetween - 360.0));
                if ((lv_preliminarydifference <= 180.0)) {
                    lv_whetherthetargetpointistotheleftoftheunit = false;
                }
                else {
                    lv_whetherthetargetpointistotheleftoftheunit = true;
                }
            }

        }
    }

    return lv_whetherthetargetpointistotheleftoftheunit;
}

trigger auto_libTIBW_gf_Actormessagerotation_Trigger = null;
unit auto_libTIBW_gf_Actormessagerotation_lp_attackingunit;
fixed auto_libTIBW_gf_Actormessagerotation_lp_headtiltangle;
fixed auto_libTIBW_gf_Actormessagerotation_lp_sidewaistangle;

void libTIBW_gf_Actormessagerotation (unit lp_attackingunit, fixed lp_headtiltangle, fixed lp_sidewaistangle) {
    auto_libTIBW_gf_Actormessagerotation_lp_attackingunit = lp_attackingunit;
    auto_libTIBW_gf_Actormessagerotation_lp_headtiltangle = lp_headtiltangle;
    auto_libTIBW_gf_Actormessagerotation_lp_sidewaistangle = lp_sidewaistangle;

    if (auto_libTIBW_gf_Actormessagerotation_Trigger == null) {
        auto_libTIBW_gf_Actormessagerotation_Trigger = TriggerCreate("auto_libTIBW_gf_Actormessagerotation_TriggerFunc");
    }

    TriggerExecute(auto_libTIBW_gf_Actormessagerotation_Trigger, false, false);
}

bool auto_libTIBW_gf_Actormessagerotation_TriggerFunc (bool testConds, bool runActions) {
    unit lp_attackingunit = auto_libTIBW_gf_Actormessagerotation_lp_attackingunit;
    fixed lp_headtiltangle = auto_libTIBW_gf_Actormessagerotation_lp_headtiltangle;
    fixed lp_sidewaistangle = auto_libTIBW_gf_Actormessagerotation_lp_sidewaistangle;

    // Automatic Variable Declarations
    // Implementation
    libNtve_gf_SendActorMessageToUnit(lp_attackingunit, libTIBW_gf_ZhunQueXuanZhuanFunc(lp_sidewaistangle, lp_headtiltangle, UnitGetFacing(lp_attackingunit)));
    return true;
}

fixed libTIBW_gf_Angledifferencebetweenunitandtargetpoint (unit lp_unit, point lp_point) {
    // Variable Declarations
    fixed lv_anglebetween;
    fixed lv_unitorientation;
    bool lv_oneispositiveandtheotherisnegative;
    unit lv_attackingunit;
    fixed lv_angle;
    point lv_centerpoint;
    point lv_movetargetpoint;
    fixed lv_angledifference;
    fixed lv_preliminarydifference;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_oneispositiveandtheotherisnegative = true;

    // Implementation
    lv_anglebetween = AngleBetweenPoints(UnitGetPosition(lp_unit), lp_point);
    lv_unitorientation = UnitGetFacing(lp_unit);
    if (((lv_unitorientation >= 0.0) && (lv_anglebetween >= 0.0))) {
        lv_oneispositiveandtheotherisnegative = false;
        if (((lv_unitorientation >= lv_anglebetween))) {
            lv_angledifference = (lv_unitorientation - lv_anglebetween);
        }
        else {
            lv_angledifference = (lv_anglebetween - lv_unitorientation);
        }
    }

    if (((lv_unitorientation < 0.0) && (lv_anglebetween < 0.0))) {
        lv_oneispositiveandtheotherisnegative = false;
        lv_anglebetween = AbsF(lv_anglebetween);
        lv_unitorientation = AbsF(lv_unitorientation);
        if (((lv_unitorientation >= lv_anglebetween))) {
            lv_angledifference = (lv_unitorientation - lv_anglebetween);
        }
        else {
            lv_angledifference = (lv_anglebetween - lv_unitorientation);
        }
    }

    if ((lv_oneispositiveandtheotherisnegative == true)) {
        if ((lv_anglebetween < 0.0)) {
            lv_preliminarydifference = (lv_anglebetween-(lv_unitorientation - 360.0));
            if ((lv_preliminarydifference <= 180.0)) {
                lv_angledifference = lv_preliminarydifference;
            }
            else {
                lv_angledifference = (360.0 - lv_preliminarydifference);
            }
        }
        else {
            if ((lv_unitorientation < 0.0)) {
                lv_preliminarydifference = (lv_unitorientation-(lv_anglebetween - 360.0));
                if ((lv_preliminarydifference <= 180.0)) {
                    lv_angledifference = lv_preliminarydifference;
                }
                else {
                    lv_angledifference = (360.0 - lv_preliminarydifference);
                }
            }

        }
    }

    return lv_angledifference;
}

trigger auto_libTIBW_gf_Continuemovingtotargetpoint_Trigger = null;
unit auto_libTIBW_gf_Continuemovingtotargetpoint_lp_attackingunit;
point auto_libTIBW_gf_Continuemovingtotargetpoint_lp_point;
fixed auto_libTIBW_gf_Continuemovingtotargetpoint_lp_movingdistance;

void libTIBW_gf_Continuemovingtotargetpoint (unit lp_attackingunit, point lp_point, fixed lp_movingdistance) {
    auto_libTIBW_gf_Continuemovingtotargetpoint_lp_attackingunit = lp_attackingunit;
    auto_libTIBW_gf_Continuemovingtotargetpoint_lp_point = lp_point;
    auto_libTIBW_gf_Continuemovingtotargetpoint_lp_movingdistance = lp_movingdistance;

    if (auto_libTIBW_gf_Continuemovingtotargetpoint_Trigger == null) {
        auto_libTIBW_gf_Continuemovingtotargetpoint_Trigger = TriggerCreate("auto_libTIBW_gf_Continuemovingtotargetpoint_TriggerFunc");
    }

    TriggerExecute(auto_libTIBW_gf_Continuemovingtotargetpoint_Trigger, false, false);
}

bool auto_libTIBW_gf_Continuemovingtotargetpoint_TriggerFunc (bool testConds, bool runActions) {
    unit lp_attackingunit = auto_libTIBW_gf_Continuemovingtotargetpoint_lp_attackingunit;
    point lp_point = auto_libTIBW_gf_Continuemovingtotargetpoint_lp_point;
    fixed lp_movingdistance = auto_libTIBW_gf_Continuemovingtotargetpoint_lp_movingdistance;

    // Variable Declarations
    fixed lv_distance;
    point lv_predeterminedtargetpoint;

    // Automatic Variable Declarations
    const int autoC5EE311E_n = 1;
    int autoC5EE311E_i;

    // Variable Initialization

    // Implementation
    lv_distance = DistanceBetweenPoints(UnitGetPosition(lp_attackingunit), lp_point);
    for (autoC5EE311E_i = 1; autoC5EE311E_i <= autoC5EE311E_n; autoC5EE311E_i += 1) {
        lv_predeterminedtargetpoint = PointWithOffsetPolar(UnitGetPosition(lp_attackingunit), lp_movingdistance, AngleBetweenPoints(UnitGetPosition(lp_attackingunit), lp_point));
        if ((RegionContainsPoint(RegionPlayableMap(), lv_predeterminedtargetpoint) == true)) {
            libTIBW_gf_ContinuousOrientationAlgorithm(lp_attackingunit, lv_predeterminedtargetpoint);
            UnitCreateEffectPoint(lp_attackingunit, "PioneerApplicationForceTarget", lv_predeterminedtargetpoint);
            Wait(0.0625, c_timeGame);
        }
        else {
            break;
        }
    }
    return true;
}

trigger auto_libTIBW_gf_ContinuousOrientationAlgorithm_Trigger = null;
unit auto_libTIBW_gf_ContinuousOrientationAlgorithm_lp_attackingunit;
point auto_libTIBW_gf_ContinuousOrientationAlgorithm_lp_point;

void libTIBW_gf_ContinuousOrientationAlgorithm (unit lp_attackingunit, point lp_point) {
    auto_libTIBW_gf_ContinuousOrientationAlgorithm_lp_attackingunit = lp_attackingunit;
    auto_libTIBW_gf_ContinuousOrientationAlgorithm_lp_point = lp_point;

    if (auto_libTIBW_gf_ContinuousOrientationAlgorithm_Trigger == null) {
        auto_libTIBW_gf_ContinuousOrientationAlgorithm_Trigger = TriggerCreate("auto_libTIBW_gf_ContinuousOrientationAlgorithm_TriggerFunc");
    }

    TriggerExecute(auto_libTIBW_gf_ContinuousOrientationAlgorithm_Trigger, false, false);
}

bool auto_libTIBW_gf_ContinuousOrientationAlgorithm_TriggerFunc (bool testConds, bool runActions) {
    unit lp_attackingunit = auto_libTIBW_gf_ContinuousOrientationAlgorithm_lp_attackingunit;
    point lp_point = auto_libTIBW_gf_ContinuousOrientationAlgorithm_lp_point;

    // Variable Declarations
    fixed lv_anglebetween;
    fixed lv_anglebetween2;
    fixed lv_unitorientation;
    fixed lv_unitOrientation2;
    bool lv_oneispositiveandtheotherisnegative;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_oneispositiveandtheotherisnegative = true;

    // Implementation
    lv_anglebetween = AngleBetweenPoints(UnitGetPosition(lp_attackingunit), lp_point);
    lv_unitorientation = UnitGetFacing(lp_attackingunit);
    if (((lv_unitorientation >= 0.0) && (lv_anglebetween >= 0.0))) {
        if ((lv_unitorientation < (lv_anglebetween - 10.0))) {
            UnitSetFacing(lp_attackingunit, (lv_unitorientation + 10.0), 0.0625);
        }
        else {
            if ((lv_unitorientation > (lv_anglebetween + 10.0))) {
                UnitSetFacing(lp_attackingunit, (lv_unitorientation - 10.0), 0.0625);
            }
            else {
                UnitSetFacing(lp_attackingunit, lv_anglebetween, 0.0625);
            }
        }
        lv_oneispositiveandtheotherisnegative = false;
    }

    if (((lv_unitorientation < 0.0) && (lv_anglebetween < 0.0))) {
        if ((lv_unitorientation < (lv_anglebetween - 10.0))) {
            UnitSetFacing(lp_attackingunit, (lv_unitorientation + 10.0), 0.0625);
        }
        else {
            if ((lv_unitorientation > (lv_anglebetween + 10.0))) {
                UnitSetFacing(lp_attackingunit, (lv_unitorientation - 10.0), 0.0625);
            }
            else {
                UnitSetFacing(lp_attackingunit, lv_anglebetween, 0.0625);
            }
        }
        lv_oneispositiveandtheotherisnegative = false;
    }

    if ((lv_oneispositiveandtheotherisnegative == true)) {
        if ((lv_anglebetween < 0.0)) {
            if (((lv_unitorientation + (0.0 - lv_anglebetween)) <= 180.0)) {
                if (((lv_unitorientation + (0.0 - lv_anglebetween)) <= 10.0)) {
                    UnitSetFacing(lp_attackingunit, lv_anglebetween, 0.0625);
                }
                else {
                    UnitSetFacing(lp_attackingunit, (lv_unitorientation - 10.0), 0.0625);
                }
            }
            else {
                if (((lv_unitorientation + (0.0 - lv_anglebetween)) > 180.0)) {
                    if (((lv_unitorientation + (0.0 - lv_anglebetween)) >= 350.0)) {
                        UnitSetFacing(lp_attackingunit, lv_anglebetween, 0.0625);
                    }
                    else {
                        UnitSetFacing(lp_attackingunit, (lv_unitorientation + 10.0), 0.0625);
                    }
                }

            }
        }
        else {
            if ((lv_unitorientation < 0.0)) {
                if (((lv_anglebetween + (0.0 - lv_unitorientation)) <= 180.0)) {
                    if (((lv_anglebetween + (0.0 - lv_unitorientation)) <= 10.0)) {
                        UnitSetFacing(lp_attackingunit, lv_anglebetween, 0.0625);
                    }
                    else {
                        UnitSetFacing(lp_attackingunit, (lv_unitorientation + 10.0), 0.0625);
                    }
                }
                else {
                    if (((lv_anglebetween + (0.0 - lv_unitorientation)) > 180.0)) {
                        if (((lv_anglebetween + (0.0 - lv_unitorientation)) >= 350.0)) {
                            UnitSetFacing(lp_attackingunit, lv_anglebetween, 0.0625);
                        }
                        else {
                            UnitSetFacing(lp_attackingunit, (lv_unitorientation - 10.0), 0.0625);
                        }
                    }

                }
            }

        }
    }

    return true;
}

trigger auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_Trigger = null;
unit auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_lp_attackingunit;
point auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_lp_centerpoint;

void libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft (unit lp_attackingunit, point lp_centerpoint) {
    auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_lp_attackingunit = lp_attackingunit;
    auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_lp_centerpoint = lp_centerpoint;

    if (auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_Trigger == null) {
        auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_Trigger = TriggerCreate("auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_TriggerFunc");
    }

    TriggerExecute(auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_Trigger, false, false);
}

bool auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_TriggerFunc (bool testConds, bool runActions) {
    unit lp_attackingunit = auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_lp_attackingunit;
    point lp_centerpoint = auto_libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft_lp_centerpoint;

    // Variable Declarations
    point lv_movetargetpoint;

    // Automatic Variable Declarations
    // Variable Initialization

    // Implementation
    UnitBehaviorAdd(lp_attackingunit, "VanguardIsCircling", lp_attackingunit, 1);
    lv_movetargetpoint = libTIBW_gf_SurroundAttackAcquisitionPoint(lp_attackingunit, lp_centerpoint, 3.0);
    libTIBW_gf_Continuemovingtotargetpoint(lp_attackingunit, lv_movetargetpoint, 0.2);
    return true;
}

trigger auto_libTIBW_gf_Cruiseoncewhilestopped_Trigger = null;
unit auto_libTIBW_gf_Cruiseoncewhilestopped_lp_attackingunit;
point auto_libTIBW_gf_Cruiseoncewhilestopped_lp_centerpoint;

void libTIBW_gf_Cruiseoncewhilestopped (unit lp_attackingunit, point lp_centerpoint) {
    auto_libTIBW_gf_Cruiseoncewhilestopped_lp_attackingunit = lp_attackingunit;
    auto_libTIBW_gf_Cruiseoncewhilestopped_lp_centerpoint = lp_centerpoint;

    if (auto_libTIBW_gf_Cruiseoncewhilestopped_Trigger == null) {
        auto_libTIBW_gf_Cruiseoncewhilestopped_Trigger = TriggerCreate("auto_libTIBW_gf_Cruiseoncewhilestopped_TriggerFunc");
    }

    TriggerExecute(auto_libTIBW_gf_Cruiseoncewhilestopped_Trigger, false, false);
}

bool auto_libTIBW_gf_Cruiseoncewhilestopped_TriggerFunc (bool testConds, bool runActions) {
    unit lp_attackingunit = auto_libTIBW_gf_Cruiseoncewhilestopped_lp_attackingunit;
    point lp_centerpoint = auto_libTIBW_gf_Cruiseoncewhilestopped_lp_centerpoint;

    // Variable Declarations
    point lv_movetargetpoint;

    // Automatic Variable Declarations
    // Variable Initialization

    // Implementation
    UnitBehaviorAdd(lp_attackingunit, "VanguardIsCircling", lp_attackingunit, 1);
    lv_movetargetpoint = libTIBW_gf_SurroundAttackAcquisitionPoint(lp_attackingunit, lp_centerpoint, 10.0);
    libTIBW_gf_Continuemovingtotargetpoint(lp_attackingunit, lv_movetargetpoint, 0.2);
    return true;
}

trigger auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_Trigger = null;
unit auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_lp_attackingunit;
point auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_lp_centerpoint;

void libTIBW_gf_Cruiseoncewhendestroyingatarget (unit lp_attackingunit, point lp_centerpoint) {
    auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_lp_attackingunit = lp_attackingunit;
    auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_lp_centerpoint = lp_centerpoint;

    if (auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_Trigger == null) {
        auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_Trigger = TriggerCreate("auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_TriggerFunc");
    }

    TriggerExecute(auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_Trigger, false, false);
}

bool auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_TriggerFunc (bool testConds, bool runActions) {
    unit lp_attackingunit = auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_lp_attackingunit;
    point lp_centerpoint = auto_libTIBW_gf_Cruiseoncewhendestroyingatarget_lp_centerpoint;

    // Variable Declarations
    point lv_movetargetpoint;

    // Automatic Variable Declarations
    // Variable Initialization

    // Implementation
    UnitBehaviorAdd(lp_attackingunit, "VanguardIsCircling", lp_attackingunit, 1);
    lv_movetargetpoint = libTIBW_gf_SurroundAttackAcquisitionPoint(lp_attackingunit, lp_centerpoint, 10.0);
    libTIBW_gf_Continuemovingtotargetpoint(lp_attackingunit, lv_movetargetpoint, 0.2);
    return true;
}

point libTIBW_gf_SurroundAttackAcquisitionPoint (unit lp_attackingunit, point lp_locationoftheattackedunit, fixed lp_radius) {
    // Variable Declarations
    point[37] lv_circlePoint;
    int lv_a;
    int lv_b;
    fixed lv_distance;
    point lv_closestpoint;
    fixed lv_anglefromcentertonearestpoint;
    fixed lv_theproperangle;
    point lv_finalpoint;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_distance = 200.0;

    // Implementation
    lv_anglefromcentertonearestpoint = AngleBetweenPoints(lp_locationoftheattackedunit, UnitGetPosition(lp_attackingunit));
    if (((TechTreeUnitCount(1, "Nexus", c_techCountCompleteOnly) == 1) && (lv_anglefromcentertonearestpoint < -150.0) && (lv_anglefromcentertonearestpoint > -180.0))) {
        lv_theproperangle = (180.0 - (lv_anglefromcentertonearestpoint - -180.0));
    }
    else {
        lv_theproperangle = (lv_anglefromcentertonearestpoint - 30.0);
    }
    lv_finalpoint = PointWithOffsetPolar(lp_locationoftheattackedunit, lp_radius, lv_theproperangle);
    return lv_finalpoint;
}

trigger auto_libTIBW_gf_NodAirRaid_Trigger = null;
unit auto_libTIBW_gf_NodAirRaid_lp_unit;
region auto_libTIBW_gf_NodAirRaid_lp_area;

void libTIBW_gf_NodAirRaid (unit lp_unit, region lp_area) {
    auto_libTIBW_gf_NodAirRaid_lp_unit = lp_unit;
    auto_libTIBW_gf_NodAirRaid_lp_area = lp_area;

    if (auto_libTIBW_gf_NodAirRaid_Trigger == null) {
        auto_libTIBW_gf_NodAirRaid_Trigger = TriggerCreate("auto_libTIBW_gf_NodAirRaid_TriggerFunc");
    }

    TriggerExecute(auto_libTIBW_gf_NodAirRaid_Trigger, false, false);
}

bool auto_libTIBW_gf_NodAirRaid_TriggerFunc (bool testConds, bool runActions) {
    unit lp_unit = auto_libTIBW_gf_NodAirRaid_lp_unit;
    region lp_area = auto_libTIBW_gf_NodAirRaid_lp_area;

    // Variable Declarations
    unit lv_jTargetUnit;

    // Automatic Variable Declarations
    // Variable Initialization

    // Implementation
    Wait(2.0, c_timeGame);
    UnitIssueOrder(lp_unit, OrderTargetingPoint(AbilityCommand("CABALVertigoBomb", 0), RegionRandomPoint(lp_area)), c_orderQueueAddToEnd);
    return true;
}

void libTIBW_gf_ShowhideNodtoppanel (bool lp_showHide, int lp_player) {
    // Automatic Variable Declarations
    bool auto18566EEF_val;

    // Implementation
    auto18566EEF_val = lp_showHide;
    if (auto18566EEF_val == true) {
        DialogSetVisible(libTIBW_gv_nODCommandPanelDialog, PlayerGroupSingle(lp_player), true);
    }
    else if (auto18566EEF_val == false) {
        DialogSetVisible(libTIBW_gv_nODCommandPanelDialog, PlayerGroupSingle(lp_player), false);
    }
    else {
    }
}

void libTIBW_gf_Showhidetoppanel (bool lp_showHide) {
    // Automatic Variable Declarations
    bool auto3C28B5E4_val;

    // Implementation
    auto3C28B5E4_val = lp_showHide;
    if (auto3C28B5E4_val == true) {
        DialogSetVisible(libTIBW_gv_mCVPanel, PlayerGroupAll(), true);
    }
    else if (auto3C28B5E4_val == false) {
        DialogSetVisible(libTIBW_gv_mCVPanel, PlayerGroupAll(), false);
    }
    else {
    }
}

void libTIBW_gf__NodDropPod (point lp_location, unitgroup lp_units, int lp_player) {
    // Variable Declarations
    unit lv_selectedUnit;
    unit lv_dropPod;
    point lv_dropPodLocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
    fixed lv_angleRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
    point lv_dropLocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
    unit lv_creep;

    // Automatic Variable Declarations
    unitgroup autoE3C154DA_g;
    int autoE3C154DA_u;
    unitgroup autoB2ED511A_g;
    int autoB2ED511A_u;

    // Variable Initialization

    // Implementation
    autoE3C154DA_g = lp_units;
    autoE3C154DA_u = UnitGroupCount(autoE3C154DA_g, c_unitCountAll);
    for (;; autoE3C154DA_u -= 1) {
        lv_selectedUnit = UnitGroupUnitFromEnd(autoE3C154DA_g, autoE3C154DA_u);
        if (lv_selectedUnit == null) { break; }
        libNtve_gf_ShowHideUnit(lv_selectedUnit, false);
        libNtve_gf_PauseUnit(lv_selectedUnit, true);
    }
    libNtve_gf_CreateUnitsAtPoint2(1, "DropPodNodDamage", 0, lp_player, lp_location);
    lv_dropPod = UnitLastCreated();
    lv_dropPodLocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = UnitGetPosition(lv_dropPod);
    lv_angleRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = 0.0;
    autoB2ED511A_g = lp_units;
    autoB2ED511A_u = UnitGroupCount(autoB2ED511A_g, c_unitCountAll);
    for (;; autoB2ED511A_u -= 1) {
        lv_selectedUnit = UnitGroupUnitFromEnd(autoB2ED511A_g, autoB2ED511A_u);
        if (lv_selectedUnit == null) { break; }
        UnitBehaviorAddPlayer(lv_selectedUnit, "NodGroundDrop", 1, 1);
        UnitSetPosition(lv_selectedUnit, lv_dropPodLocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel, false);
        libNtve_gf_ShowHideUnit(lv_selectedUnit, true);
        libNtve_gf_PauseUnit(lv_selectedUnit, false);
    }
    Wait(4.0, c_timeGame);
    UnitKill(lv_dropPod);
}

void libTIBW_gf__GDIDropPod (point lp_location, unitgroup lp_units, int lp_player) {
    // Variable Declarations
    unit lv_selectedUnit;
    unit lv_dropPod;
    point lv_dropPodLocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
    fixed lv_angle;
    fixed lv_angleStart;
    point lv_dropPoint;
    fixed lv_range;
    int lv_subgroupIndex;
    point lv_movePosition;
    int lv_countPerRow;

    // Automatic Variable Declarations
    unitgroup auto683F72BB_g;
    int auto683F72BB_u;
    unitgroup auto24E2264C_g;
    int auto24E2264C_u;

    // Variable Initialization

    // Implementation
    auto683F72BB_g = lp_units;
    auto683F72BB_u = UnitGroupCount(auto683F72BB_g, c_unitCountAll);
    for (;; auto683F72BB_u -= 1) {
        lv_selectedUnit = UnitGroupUnitFromEnd(auto683F72BB_g, auto683F72BB_u);
        if (lv_selectedUnit == null) { break; }
        libNtve_gf_ShowHideUnit(lv_selectedUnit, false);
        libNtve_gf_PauseUnit(lv_selectedUnit, true);
    }
    libNtve_gf_CreateUnitsAtPoint2(1, "DropPodGDI", 0, lp_player, lp_location);
    lv_dropPod = UnitLastCreated();
    libNtve_gf_PlayAnimation(libNtve_gf_MainActorofUnit(lv_dropPod), c_animNameDefault, "Birth", c_animFlagNonLooping, c_animTimeDefault);
    Wait(3.5, c_timeGame);
    SoundPlayAtPoint(SoundLink("GDIDropPodImpact", -1), PlayerGroupAll(), lv_dropPoint, 0.0, 200.0, 0.0);
    lv_countPerRow = 4;
    if ((UnitGroupCount(lp_units, c_unitCountAlive) > 16)) {
        lv_countPerRow = ((UnitGroupCount(lp_units, c_unitCountAlive) + 3) / 4);
    }

    lv_dropPodLocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = UnitGetPosition(lv_dropPod);
    lv_range = (0.8 + ((IntToFixed((UnitGroupCount(lp_units, c_unitCountAlive) + 3)) / IntToFixed(lv_countPerRow)) * 0.8));
    lv_subgroupIndex = 1;
    lv_angleStart = 225.0;
    lv_angle = lv_angleStart;
    auto24E2264C_g = lp_units;
    auto24E2264C_u = UnitGroupCount(auto24E2264C_g, c_unitCountAll);
    for (;; auto24E2264C_u -= 1) {
        lv_selectedUnit = UnitGroupUnitFromEnd(auto24E2264C_g, auto24E2264C_u);
        if (lv_selectedUnit == null) { break; }
        lv_dropPoint = PointWithOffsetPolar(lv_dropPodLocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel, 1.0, lv_angle);
        SoundPlayAtPoint(SoundLink("Medivac_Unload", 0), PlayerGroupAll(), lv_dropPoint, 0.0, 100.0, 0.0);
        Wait(0.125, c_timeGame);
        UnitSetPosition(lv_selectedUnit, lv_dropPoint, false);
        libNtve_gf_ShowHideUnit(lv_selectedUnit, true);
        libNtve_gf_PauseUnit(lv_selectedUnit, false);
        lv_movePosition = PointWithOffsetPolar(lv_dropPodLocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel, lv_range, lv_angle);
        if ((lv_subgroupIndex == lv_countPerRow)) {
            lv_subgroupIndex = 1;
            lv_angle = lv_angleStart;
            lv_range -= 0.8;
        }
        else {
            lv_subgroupIndex += 1;
            lv_angle += 10.0;
        }
    }
    UnitKill(lv_dropPod);
}

void libTIBW_gf_CreateDropPod (int lp_race, point lp_location, unitgroup lp_units, bool lp_waitDontWait, int lp_playerinteger) {
    // Variable Declarations
    point lv_dropPoint;
    unitgroup lv_dropUnitsRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
    int lv_localPlayerIntegerRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;

    // Automatic Variable Declarations
    int auto10E1EA31_val;

    // Variable Initialization
    lv_dropUnitsRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = UnitGroupEmpty();

    // Implementation
    lv_dropPoint = Point(PointGetX(lp_location), PointGetY(lp_location));
    lv_dropUnitsRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = UnitGroupCopy(lp_units);
    lv_localPlayerIntegerRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = lp_playerinteger;
    auto10E1EA31_val = lp_race;
    if (auto10E1EA31_val == libTIBW_ge_DropPodRace_Terran) {
        if ((lp_waitDontWait == true)) {
            libTIBW_gf__GDIDropPod(lv_dropPoint, lv_dropUnitsRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel, lp_playerinteger);
        }
        else {
            libTIBW_gv_cNC_TP_DropPod_LocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = lv_dropPoint;
            libTIBW_gv_cNC_TP_DropPod_Units = lv_dropUnitsRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
            libTIBW_gv_playerIntegerRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = lv_localPlayerIntegerRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
            TriggerExecute(libTIBW_gt__GDIDropPod, true, false);
        }
    }
    else if (auto10E1EA31_val == libTIBW_ge_DropPodRace_Zerg) {
        if ((lp_waitDontWait == true)) {
            libTIBW_gf__NodDropPod(lv_dropPoint, lv_dropUnitsRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel, lp_playerinteger);
        }
        else {
            libTIBW_gv_cNC_TP_DropPod_LocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = lv_dropPoint;
            libTIBW_gv_cNC_TP_DropPod_Units = lv_dropUnitsRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
            libTIBW_gv_playerIntegerRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = lv_localPlayerIntegerRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
            TriggerExecute(libTIBW_gt__NodDropPodStarchainTest, true, false);
        }
    }
    else {
    }
}

// Triggers
//--------------------------------------------------------------------------------------------------
// Trigger: Watch Unit Creation
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_WatchUnitCreation_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_RegisterUnit(EventUnitCreatedUnit(), UnitGetOwner(EventUnitCreatedUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_WatchUnitCreation_Init () {
    libTIBW_gt_WatchUnitCreation = TriggerCreate("libTIBW_gt_WatchUnitCreation_Func");
    TriggerAddEventUnitCreated(libTIBW_gt_WatchUnitCreation, null, null, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Watch Unit Owner
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_WatchUnitOwner_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_UnRegisterUnit(EventUnit(), EventUnitOwnerOld());
    libTIBW_gf_RegisterUnit(EventUnit(), EventUnitOwnerNew());
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_WatchUnitOwner_Init () {
    libTIBW_gt_WatchUnitOwner = TriggerCreate("libTIBW_gt_WatchUnitOwner_Func");
    TriggerAddEventUnitChangeOwner(libTIBW_gt_WatchUnitOwner, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Watch Unit Death
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_WatchUnitDeath_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_UnRegisterUnit(EventUnit(), UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_WatchUnitDeath_Init () {
    libTIBW_gt_WatchUnitDeath = TriggerCreate("libTIBW_gt_WatchUnitDeath_Func");
    TriggerAddEventUnitDied(libTIBW_gt_WatchUnitDeath, null);
    TriggerAddEventUnitRemoved(libTIBW_gt_WatchUnitDeath, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Watch Unit Behaviors
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_WatchUnitBehaviors_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_techType;

    // Automatic Variable Declarations
    string auto670D596A_val;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    auto670D596A_val = EventUnitBehavior();
    if (auto670D596A_val == "CNCTabConstruction") {
        lv_techType = 1;
    }
    else if (auto670D596A_val == "CNCTabEconomy") {
        lv_techType = 2;
    }
    else if (auto670D596A_val == "CNCTabInfantry") {
        lv_techType = 3;
    }
    else if (auto670D596A_val == "CNCTabVehicles") {
        lv_techType = 4;
    }
    else if (auto670D596A_val == "CNCTabAirforce") {
        lv_techType = 5;
    }
    else {
    }
    if ((EventUnitBehaviorChange() == c_unitBehaviorChangeDecrease)) {
        libTIBW_gf_DeleteProductionUnit(EventUnit(), UnitGetOwner(EventUnit()), lv_techType);
    }
    else if ((EventUnitBehaviorChange() == c_unitBehaviorChangeIncrease)) {
        libTIBW_gf_AddproductionUnit(EventUnit(), UnitGetOwner(EventUnit()), lv_techType);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_WatchUnitBehaviors_Init () {
    libTIBW_gt_WatchUnitBehaviors = TriggerCreate("libTIBW_gt_WatchUnitBehaviors_Func");
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_WatchUnitBehaviors, null, "CNCTabConstruction", c_unitBehaviorChangeAny);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_WatchUnitBehaviors, null, "CNCTabAirforce", c_unitBehaviorChangeAny);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_WatchUnitBehaviors, null, "CNCTabEconomy", c_unitBehaviorChangeAny);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_WatchUnitBehaviors, null, "CNCTabInfantry", c_unitBehaviorChangeAny);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_WatchUnitBehaviors, null, "CNCTabVehicles", c_unitBehaviorChangeAny);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Recalculate Beacons
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_RecalculateBeacons_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_untitledVariable001;
    unitgroup lv_units;
    int lv_techType;
    string lv_unitType;
    int lv_player;
    int lv_living;
    string lv_instance;

    // Automatic Variable Declarations
    playergroup autoE4F45B31_g;
    const int auto4755D9ED_ae = libTIBW_gv_beaconGroups;
    const int auto4755D9ED_ai = 1;
    string autoE36C1FA8_userType;
    int autoE36C1FA8_i;
    const int auto78102DB8_ae = libTIBW_gv_beaconGroups;
    const int auto78102DB8_ai = 1;

    // Variable Initialization
    lv_units = UnitGroupEmpty();

    // Actions
    if (!runActions) {
        return true;
    }

    autoE4F45B31_g = PlayerGroupActive();
    lv_player = -1;
    while (true) {
        lv_player = PlayerGroupNextPlayer(autoE4F45B31_g, lv_player);
        if (lv_player < 0) { break; }
        lv_techType = 1;
        for ( ; ( (auto4755D9ED_ai >= 0 && lv_techType <= auto4755D9ED_ae) || (auto4755D9ED_ai < 0 && lv_techType >= auto4755D9ED_ae) ) ; lv_techType += auto4755D9ED_ai ) {
            libTIBW_gv_productionUnits[lv_player][lv_techType] = UnitGroupEmpty();
        }
        autoE36C1FA8_userType = "cncTech";
        autoE36C1FA8_i = 1;
        for ( ; autoE36C1FA8_i <= UserDataInstanceCount(autoE36C1FA8_userType) ; autoE36C1FA8_i += 1 ) {
            lv_instance = UserDataInstance(autoE36C1FA8_userType, autoE36C1FA8_i);
            lv_unitType = UserDataGetUnit("cncTech", lv_instance, "Unit", 1);
            lv_units = UnitGroup(lv_unitType, lv_player, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterUnderConstruction - 32)) | (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
            lv_techType = UserDataGetInt("cncTech", lv_instance, "Tech", 1);
            UnitGroupAddUnitGroup(libTIBW_gv_productionUnits[lv_player][lv_techType], lv_units);
        }
        lv_techType = 1;
        for ( ; ( (auto78102DB8_ai >= 0 && lv_techType <= auto78102DB8_ae) || (auto78102DB8_ai < 0 && lv_techType >= auto78102DB8_ae) ) ; lv_techType += auto78102DB8_ai ) {
            lv_living = UnitGroupCount(libTIBW_gv_productionUnits[lv_player][lv_techType], c_unitCountAlive);
            libNtve_gf_SetDialogItemText(libTIBW_gv_labels[lv_techType], IntToText(lv_living), PlayerGroupSingle(lv_player));
            if ((lv_living == 0)) {
                DialogControlSetEnabled(libTIBW_gv_buttons[lv_techType], PlayerGroupSingle(lv_player), false);
            }
            else {
                DialogControlSetEnabled(libTIBW_gv_buttons[lv_techType], PlayerGroupSingle(lv_player), true);
            }
        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_RecalculateBeacons_Init () {
    libTIBW_gt_RecalculateBeacons = TriggerCreate("libTIBW_gt_RecalculateBeacons_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Init Beacons Button
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_InitBeaconsButton_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unitgroup lv_units;
    int lv_techType;
    string lv_unitType;
    int lv_player;
    int lv_living;
    string lv_instance;

    // Automatic Variable Declarations
    const int autoE68250D4_ae = libTIBW_gv_beaconGroups;
    int autoE68250D4_var;
    string autoFB41D2BD_userType;
    int autoFB41D2BD_i;

    // Variable Initialization
    lv_units = UnitGroupEmpty();

    // Actions
    if (!runActions) {
        return true;
    }

    autoE68250D4_var = 1;
    for ( ; autoE68250D4_var <= autoE68250D4_ae; autoE68250D4_var += 1 ) {
        DialogControlHookupStandard(c_triggerControlTypeButton, ("UIContainer/ConsoleUIContainer/ArmyButton" + IntToString((autoE68250D4_var + 1))));
        libTIBW_gv_buttons[autoE68250D4_var] = DialogControlLastCreated();
        DialogControlHookupStandard(c_triggerControlTypeLabel, ("UIContainer/ConsoleUIContainer/ArmyButton" + IntToString((autoE68250D4_var + 1)) + "/CountLabel"));
        libTIBW_gv_labels[autoE68250D4_var] = DialogControlLastCreated();
        libTIBW_gv_watchTypes[lv_techType] = " ";
    }
    libNtve_gf_SetDialogItemTooltip(libTIBW_gv_buttons[1], StringExternal("Param/Value/lib_TIBW_AE7CF5A9"), PlayerGroupAll());
    libNtve_gf_SetDialogItemTooltip(libTIBW_gv_buttons[2], StringExternal("Param/Value/lib_TIBW_E37555CF"), PlayerGroupAll());
    libNtve_gf_SetDialogItemTooltip(libTIBW_gv_buttons[3], StringExternal("Param/Value/lib_TIBW_6AF3148A"), PlayerGroupAll());
    libNtve_gf_SetDialogItemTooltip(libTIBW_gv_buttons[4], StringExternal("Param/Value/lib_TIBW_5ECB997F"), PlayerGroupAll());
    libNtve_gf_SetDialogItemTooltip(libTIBW_gv_buttons[5], StringExternal("Param/Value/lib_TIBW_CCBC840A"), PlayerGroupAll());
    libNtve_gf_SetDialogItemHotkey(libTIBW_gv_buttons[1], c_hotkeyHeroSelect0, PlayerGroupAll());
    libNtve_gf_SetDialogItemHotkey(libTIBW_gv_buttons[2], c_hotkeyHeroSelect1, PlayerGroupAll());
    libNtve_gf_SetDialogItemHotkey(libTIBW_gv_buttons[3], c_hotkeyHeroSelect2, PlayerGroupAll());
    libNtve_gf_SetDialogItemHotkey(libTIBW_gv_buttons[4], c_hotkeyHeroSelect3, PlayerGroupAll());
    libNtve_gf_SetDialogItemHotkey(libTIBW_gv_buttons[5], c_hotkeyHeroSelect4, PlayerGroupAll());
    autoFB41D2BD_userType = "cncTech";
    autoFB41D2BD_i = 1;
    for ( ; autoFB41D2BD_i <= UserDataInstanceCount(autoFB41D2BD_userType) ; autoFB41D2BD_i += 1 ) {
        lv_instance = UserDataInstance(autoFB41D2BD_userType, autoFB41D2BD_i);
        lv_unitType = UserDataGetUnit("cncTech", lv_instance, "Unit", 1);
        libTIBW_gv_watchTypes[lv_techType] = (libTIBW_gv_watchTypes[lv_techType] + (lv_unitType) + " ");
    }
    TriggerExecute(libTIBW_gt_RecalculateBeacons, true, false);
    TriggerEnable(libTIBW_gt_WatchUnitCreation, true);
    TriggerEnable(libTIBW_gt_BeaconsButtonUsed, true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_InitBeaconsButton_Init () {
    libTIBW_gt_InitBeaconsButton = TriggerCreate("libTIBW_gt_InitBeaconsButton_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Beacons Button Used
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_BeaconsButtonUsed_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    const int autoE4D3B515_ae = libTIBW_gv_beaconGroups;
    int autoE4D3B515_var;

    // Actions
    if (!runActions) {
        return true;
    }

    autoE4D3B515_var = 1;
    for ( ; autoE4D3B515_var <= autoE4D3B515_ae; autoE4D3B515_var += 1 ) {
        if ((EventDialogControl() == libTIBW_gv_buttons[autoE4D3B515_var])) {
            UnitGroupSelect(UnitGroupSelected(EventPlayer()), EventPlayer(), false);
            UnitGroupSelect(libTIBW_gv_productionUnits[EventPlayer()][autoE4D3B515_var], EventPlayer(), true);
            break;
        }

    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_BeaconsButtonUsed_Init () {
    libTIBW_gt_BeaconsButtonUsed = TriggerCreate("libTIBW_gt_BeaconsButtonUsed_Func");
    TriggerAddEventDialogControl(libTIBW_gt_BeaconsButtonUsed, c_playerAny, c_invalidDialogControlId, c_triggerControlEventTypeHotkeyPressed);
    TriggerAddEventDialogControl(libTIBW_gt_BeaconsButtonUsed, c_playerAny, c_invalidDialogControlId, c_triggerControlEventTypeClick);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Production UI
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ProductionUI_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_player;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_player = EventPlayer();

    // Actions
    if (!runActions) {
        return true;
    }

    if ((GameIsMissionTimePaused() == true)) {
        if ((PlayerGroupHasPlayer(libTIBW_gv_aF_SlimUI_PlayerGroup, lv_player) == false)) {
            PlayerGroupAdd(libTIBW_gv_aF_SlimUI_PlayerGroup, lv_player);
            UIDisplayMessage(PlayerGroupSingle(lv_player), c_messageAreaSubtitle, StringExternal("Param/Value/lib_TIBW_BAE73F8E"));
        }
        else {
            PlayerGroupRemove(libTIBW_gv_aF_SlimUI_PlayerGroup, lv_player);
            UIDisplayMessage(PlayerGroupSingle(lv_player), c_messageAreaSubtitle, StringExternal("Param/Value/lib_TIBW_71C08CCB"));
        }
    }
    else {
        DialogControlHookupStandard(c_triggerControlTypePanel, "UIContainer/ConsoleUIContainer");
        if ((PlayerGroupHasPlayer(libTIBW_gv_aF_SlimUI_PlayerGroup, lv_player) == false)) {
            PlayerGroupAdd(libTIBW_gv_aF_SlimUI_PlayerGroup, lv_player);
            UISetFrameVisible(PlayerGroupSingle(lv_player), c_syncFrameTypeConsolePanel, false);
            DialogControlSendAnimationEvent(DialogControlLastCreated(), PlayerGroupSingle(lv_player), "SlimUI_On");
        }
        else {
            PlayerGroupRemove(libTIBW_gv_aF_SlimUI_PlayerGroup, lv_player);
            UISetFrameVisible(PlayerGroupSingle(lv_player), c_syncFrameTypeConsolePanel, true);
            DialogControlSendAnimationEvent(DialogControlLastCreated(), PlayerGroupSingle(lv_player), "SlimUI_Off");
        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ProductionUI_Init () {
    libTIBW_gt_ProductionUI = TriggerCreate("libTIBW_gt_ProductionUI_Func");
    TriggerAddEventChatMessage(libTIBW_gt_ProductionUI, c_playerAny, "-slim", false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Disguise Used
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_DisguiseUsed_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_caster;
    unit lv_target;
    int lv_casterOwner;
    int lv_targetOwner;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_caster = EventUnit();
    lv_target = EventUnitTargetUnit();
    lv_casterOwner = UnitGetOwner(lv_caster);
    lv_targetOwner = UnitGetOwner(lv_target);

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_StoreStringForUnit(lv_caster, 1, CatalogFieldValueGet(c_gameCatalogActor, (UnitGetType(lv_target)), "Model", c_playerAny));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_DisguiseUsed_Init () {
    libTIBW_gt_DisguiseUsed = TriggerCreate("libTIBW_gt_DisguiseUsed_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_DisguiseUsed, null, AbilityCommand("AlliedSpyDisguise", 255), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Camouflaged Unit created
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CamouflagedUnitcreated_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_caster;
    unit lv_created;
    string lv_model;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_caster = EventUnit();
    lv_created = EventUnitCreatedUnit();
    lv_model = libTIBW_gf_StringStoredForUnit(lv_caster, 1);

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_StoreStringForUnit(lv_created, 1, lv_model);
    libNtve_gf_SendActorMessageToUnit(lv_created, libNtve_gf_ModelSwap((lv_model), 0));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CamouflagedUnitcreated_Init () {
    libTIBW_gt_CamouflagedUnitcreated = TriggerCreate("libTIBW_gt_CamouflagedUnitcreated_Func");
    TriggerAddEventUnitCreated(libTIBW_gt_CamouflagedUnitcreated, null, "AlliedSpyDisguise", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: AlliedSpyDisguse
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_AlliedSpyDisguse_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_caster;
    string lv_model;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_caster = EventUnit();
    lv_model = libTIBW_gf_StringStoredForUnit(lv_caster, 1);

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_AlliedSpyDisguse_Init () {
    libTIBW_gt_AlliedSpyDisguse = TriggerCreate("libTIBW_gt_AlliedSpyDisguse_Func");
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_AlliedSpyDisguse, null, "AlliedSpyDisguiseCamouflage", c_unitBehaviorChangeAny);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Unit upgrade special effects
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Unitupgradespecialeffects_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_AttachActorToUnit(EventUnit(), "K5KerriganLevelUp2", "Ref_Origin");
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Unitupgradespecialeffects_Init () {
    libTIBW_gt_Unitupgradespecialeffects = TriggerCreate("libTIBW_gt_Unitupgradespecialeffects_Func");
    TriggerEnable(libTIBW_gt_Unitupgradespecialeffects, false);
    TriggerAddEventUnitGainLevel(libTIBW_gt_Unitupgradespecialeffects, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Units gain experience by rising stars.
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Unitsgainexperiencebyrisingstars_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    int autoCDB23B23_val;

    // Conditions
    if (testConds) {
        if (!((UnitGetOwner(EventUnit()) != 1))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    autoCDB23B23_val = TechTreeUpgradeCount(1, "AlliedTechlvP132", c_techCountCompleteOnly);
    if (autoCDB23B23_val == 1) {
        UnitXPAddXP(libNtve_gf_KillingUnit(), null, ((UnitTypeGetCost(UnitGetType(EventUnit()), c_unitCostSumMineralsVespene) / 16.0) + ((UnitGetPropertyFixed(EventUnit(), c_unitPropLifeMax, c_unitPropNormal) + UnitGetPropertyFixed(EventUnit(), c_unitPropShieldsMax, c_unitPropNormal)) / 32.0)));
    }
    else {
        UnitXPAddXP(libNtve_gf_KillingUnit(), null, ((UnitTypeGetCost(UnitGetType(EventUnit()), c_unitCostSumMineralsVespene) / 20.0) + ((UnitGetPropertyFixed(EventUnit(), c_unitPropLifeMax, c_unitPropNormal) + UnitGetPropertyFixed(EventUnit(), c_unitPropShieldsMax, c_unitPropNormal)) / 40.0)));
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Unitsgainexperiencebyrisingstars_Init () {
    libTIBW_gt_Unitsgainexperiencebyrisingstars = TriggerCreate("libTIBW_gt_Unitsgainexperiencebyrisingstars_Func");
    TriggerEnable(libTIBW_gt_Unitsgainexperiencebyrisingstars, false);
    TriggerAddEventUnitDied(libTIBW_gt_Unitsgainexperiencebyrisingstars, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Initial attribute settings for allied players
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Initialattributesettingsforalliedplayers_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    PlayerAddResponse(1, "AlliedUnitLost");
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Initialattributesettingsforalliedplayers_Init () {
    libTIBW_gt_Initialattributesettingsforalliedplayers = TriggerCreate("libTIBW_gt_Initialattributesettingsforalliedplayers_Func");
    TriggerEnable(libTIBW_gt_Initialattributesettingsforalliedplayers, false);
    TriggerAddEventTimeElapsed(libTIBW_gt_Initialattributesettingsforalliedplayers, 0.3, c_timeGame);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Charging
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Charging_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    int lv_player;
    unitgroup lv_prismProcessed;
    unitgroup lv_prismOptions;
    unitgroup lv_prismChargers;
    unit lv_prismIter;
    unit lv_chainTarget;
    unit lv_prismCharger;

    // Automatic Variable Declarations
    unitgroup auto347A11A8_g;
    int auto347A11A8_u;

    // Variable Initialization
    lv_unit = EventPlayerEffectUsedUnit(c_effectUnitCaster);
    lv_player = UnitGetOwner(lv_unit);
    lv_prismProcessed = UnitGroupEmpty();
    lv_prismOptions = UnitGroupEmpty();
    lv_prismChargers = UnitGroupEmpty();

    // Actions
    if (!runActions) {
        return true;
    }

    UnitGroupAdd(lv_prismProcessed, lv_unit);
    UnitGroupAdd(lv_prismChargers, lv_unit);
    lv_prismCharger = lv_unit;
    while ((lv_prismCharger != null)) {
        auto347A11A8_g = UnitGroup("AlliedSpectralTowerAdvanced3_Actor", lv_player, RegionCircle(UnitGetPosition(lv_prismCharger), 9.0), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
        auto347A11A8_u = UnitGroupCount(auto347A11A8_g, c_unitCountAll);
        for (;; auto347A11A8_u -= 1) {
            lv_prismIter = UnitGroupUnitFromEnd(auto347A11A8_g, auto347A11A8_u);
            if (lv_prismIter == null) { break; }
            if ((UnitGroupHasUnit(lv_prismProcessed, lv_prismIter) == false) && (UnitAbilityGetCooldown(lv_prismIter, "AlliedSpectralTowerAdvancedChargeReal", "Abil/##id##") == 0.0)) {
                UnitGroupAdd(lv_prismProcessed, lv_prismIter);
                UnitGroupAdd(lv_prismOptions, lv_prismIter);
            }

        }
        if ((UnitGroupCount(lv_prismOptions, c_unitCountAlive) == 0)) {
            return true;
        }

        lv_prismIter = UnitGroupClosestToPoint(lv_prismOptions, UnitGetPosition(lv_unit));
        lv_chainTarget = UnitGroupClosestToPoint(lv_prismChargers, UnitGetPosition(lv_prismIter));
        UnitGroupAdd(lv_prismChargers, lv_prismIter);
        UnitGroupRemove(lv_prismOptions, lv_prismIter);
        UnitIssueOrder(lv_prismIter, OrderTargetingUnit(AbilityCommand("AlliedSpectralTowerAdvancedChargeFake", 0), lv_chainTarget), c_orderQueueReplace);
        UnitIssueOrder(lv_prismIter, OrderTargetingUnit(AbilityCommand("AlliedSpectralTowerAdvancedChargeReal", 0), lv_unit), c_orderQueueAddToEnd);
        if ((UnitGroupCount(lv_prismChargers, c_unitCountAlive) > 5)) {
            return true;
        }

    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Charging_Init () {
    libTIBW_gt_Charging = TriggerCreate("libTIBW_gt_Charging_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_Charging, c_playerAny, "AlliedSpectralTowerAttackStartDelay");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Player commander repair panel settings
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Playercommanderrepairpanelsettings_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    playergroup autoC9F02877_g;
    int autoC9F02877_var;
    string autoB249AB64_val;

    // Actions
    if (!runActions) {
        return true;
    }

    autoC9F02877_g = GameAttributePlayersForTeam(1);
    autoC9F02877_var = -1;
    while (true) {
        autoC9F02877_var = PlayerGroupNextPlayer(autoC9F02877_g, autoC9F02877_var);
        if (autoC9F02877_var < 0) { break; }
        autoB249AB64_val = GameAttributePlayerValue("3", autoC9F02877_var);
        if (autoB249AB64_val == "0001") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0002") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0015") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0016") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0003") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0005") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0009") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0004") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0006") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0008") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0017") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0012") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0019") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0011") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0013") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0018") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0020") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0022") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0023") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0014") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0025") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0024") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0021") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else if (autoB249AB64_val == "0026") {
            DialogCreate(500, 550, c_anchorTop, 0, 0, true);
            libTIBW_gv_maintenancePanel = DialogLastCreated();
            DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
            libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
            DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), c_anchorTop, -250, -10);
            libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(autoC9F02877_var));
            DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(autoC9F02877_var), true);
            DialogSetImageVisible(DialogLastCreated(), false);
        }
        else {
        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Playercommanderrepairpanelsettings_Init () {
    libTIBW_gt_Playercommanderrepairpanelsettings = TriggerCreate("libTIBW_gt_Playercommanderrepairpanelsettings_Func");
    TriggerEnable(libTIBW_gt_Playercommanderrepairpanelsettings, false);
    TriggerAddEventTimeElapsed(libTIBW_gt_Playercommanderrepairpanelsettings, 0.3, c_timeGame);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Allied Repair Panel Settings
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_AlliedRepairPanelSettings_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    playergroup auto8B6E8186_g;
    int auto8B6E8186_var;

    // Actions
    if (!runActions) {
        return true;
    }

    auto8B6E8186_g = GameAttributePlayersForTeam(1);
    auto8B6E8186_var = -1;
    while (true) {
        auto8B6E8186_var = PlayerGroupNextPlayer(auto8B6E8186_g, auto8B6E8186_var);
        if (auto8B6E8186_var < 0) { break; }
        libNtve_gf_CreateUnitsAtPoint2(1, "Invisible212_Actor", 0, auto8B6E8186_var, RegionRandomPoint(RegionEntireMap()));
        DialogCreate(500, 550, c_anchorTop, 0, 0, true);
        libTIBW_gv_maintenancePanel = DialogLastCreated();
        DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(auto8B6E8186_var), true);
        DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
        libTIBW_gv_maintenancecommandpanel = DialogLastCreated();
        DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(auto8B6E8186_var), c_anchorTop, -250, -10);
        libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(UnitLastCreated()), PlayerGroupSingle(auto8B6E8186_var));
        DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(auto8B6E8186_var), true);
        DialogSetImageVisible(DialogLastCreated(), false);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_AlliedRepairPanelSettings_Init () {
    libTIBW_gt_AlliedRepairPanelSettings = TriggerCreate("libTIBW_gt_AlliedRepairPanelSettings_Func");
    TriggerEnable(libTIBW_gt_AlliedRepairPanelSettings, false);
    TriggerAddEventTimeElapsed(libTIBW_gt_AlliedRepairPanelSettings, 0.3, c_timeGame);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Chaowu panel UI production
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ChaowupanelUIproduction_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Conditions
    if (testConds) {
        if (!(((libNtve_gf_TriggeringProgressUnitType() == "SovietVacuumImploder") || (libNtve_gf_TriggeringProgressUnitType() == "KorhalCannon23_Actor") || (libNtve_gf_TriggeringProgressUnitType() == "EmpirePsionicDecimator") || (libNtve_gf_TriggeringProgressUnitType() == "KorhalCannon223") || (libNtve_gf_TriggeringProgressUnitType() == "SovietIronCurtain") || (libNtve_gf_TriggeringProgressUnitType() == "SovietNuclearBombSilo") || (libNtve_gf_TriggeringProgressUnitType() == "SovietIronCurtain23_Actor") || (libNtve_gf_TriggeringProgressUnitType() == "AlliedOldChronosphere") || (libNtve_gf_TriggeringProgressUnitType() == "SovietOldIronCurtain") || (libNtve_gf_TriggeringProgressUnitType() == "KorhalCannon22222_Actor") || (libNtve_gf_TriggeringProgressUnitType() == "EmpireNanoSwarm") || (libNtve_gf_TriggeringProgressUnitType() == "SovietIronCurtain43_Actor") || (libNtve_gf_TriggeringProgressUnitType() == "ChinaDongfeng41launchsilo")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    DialogCreate(87, 500, c_anchorTopLeft, 0, 0, true);
    libTIBW_gv_chaowuPanel = DialogLastCreated();
    DialogSetVisible(DialogLastCreated(), PlayerGroupSingle(UnitGetOwner(EventUnitProgressUnit())), true);
    DialogControlCreateFromTemplate(DialogLastCreated(), c_triggerControlTypeCommandPanel, "SuperWeaponUI/TerranGlobalCommandPanelTemplate");
    libTIBW_gv_chaowucommandpanel = DialogLastCreated();
    DialogControlSetPosition(DialogControlLastCreated(), PlayerGroupSingle(UnitGetOwner(EventUnitProgressUnit())), c_anchorTopLeft, -155, 100);
    libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(EventUnitProgressUnit()), PlayerGroupSingle(UnitGetOwner(EventUnitProgressUnit())));
    DialogControlSetVisible(DialogControlLastCreated(), PlayerGroupSingle(UnitGetOwner(EventUnitProgressUnit())), true);
    DialogSetImageVisible(DialogLastCreated(), false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ChaowupanelUIproduction_Init () {
    libTIBW_gt_ChaowupanelUIproduction = TriggerCreate("libTIBW_gt_ChaowupanelUIproduction_Func");
    TriggerEnable(libTIBW_gt_ChaowupanelUIproduction, false);
    TriggerAddEventUnitConstructProgress(libTIBW_gt_ChaowupanelUIproduction, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Time and Space Teleportation Sticky
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_TimeandSpaceTeleportationSticky_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_player;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_player = EventPlayer();

    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_CreateUnitsWithDefaultFacing(1, "AlliedChronoTeleportationCoverUnit", 0, UnitGetOwner(EventUnit()), EventUnitTargetPoint());
    UnitGroupAdd(libTIBW_gv_teleportationmarktarget, UnitLastCreated());
    UISetTargetingOrder(PlayerGroupSingle(lv_player), libTIBW_gv_teleportationmarktarget, OrderTargetingPoint(AbilityCommand("AlliedChronosphereExecute", 0), EventUnitTargetPoint()), true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_TimeandSpaceTeleportationSticky_Init () {
    libTIBW_gt_TimeandSpaceTeleportationSticky = TriggerCreate("libTIBW_gt_TimeandSpaceTeleportationSticky_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_TimeandSpaceTeleportationSticky, null, AbilityCommand("AlliedChronosphereTargeting", 0), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Clear the cover after teleportation
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Clearthecoverafterteleportation_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    UnitBehaviorAddPlayer(EventUnit(), "RAMovementSpeedAndArmor20Percent62", EventPlayer(), 1);
    Wait(1.0, c_timeGame);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Clearthecoverafterteleportation_Init () {
    libTIBW_gt_Clearthecoverafterteleportation = TriggerCreate("libTIBW_gt_Clearthecoverafterteleportation_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_Clearthecoverafterteleportation, null, AbilityCommand("AlliedChronosphereExecute", 0), c_unitAbilStageComplete, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Clear the cover after the teleportation is cancelled.
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Clearthecoveraftertheteleportationiscancelled_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    unitgroup autoA0CBEE93_g;
    int autoA0CBEE93_u;
    unit autoA0CBEE93_var;

    // Actions
    if (!runActions) {
        return true;
    }

    autoA0CBEE93_g = UnitGroup("AlliedChronoTeleportationCoverUnit", c_playerAny, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    autoA0CBEE93_u = UnitGroupCount(autoA0CBEE93_g, c_unitCountAll);
    for (;; autoA0CBEE93_u -= 1) {
        autoA0CBEE93_var = UnitGroupUnitFromEnd(autoA0CBEE93_g, autoA0CBEE93_u);
        if (autoA0CBEE93_var == null) { break; }
        UnitBehaviorAddPlayer(autoA0CBEE93_var, "RAMovementSpeedAndArmor20Percent62", EventPlayer(), 1);
    }
    Wait(1.0, c_timeGame);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Clearthecoveraftertheteleportationiscancelled_Init () {
    libTIBW_gt_Clearthecoveraftertheteleportationiscancelled = TriggerCreate("libTIBW_gt_Clearthecoveraftertheteleportationiscancelled_Func");
    TriggerAddEventTargetModeUpdate(libTIBW_gt_Clearthecoveraftertheteleportationiscancelled, c_playerAny, AbilityCommand("AlliedChronosphereExecute", 0), c_targetModeStateOff);
}

//--------------------------------------------------------------------------------------------------
// Trigger: GAME START
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_GAMESTART_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    playergroup auto11F53C51_g;
    int auto11F53C51_var;

    // Actions
    if (!runActions) {
        return true;
    }

    auto11F53C51_g = PlayerGroupAll();
    auto11F53C51_var = -1;
    while (true) {
        auto11F53C51_var = PlayerGroupNextPlayer(auto11F53C51_g, auto11F53C51_var);
        if (auto11F53C51_var < 0) { break; }
        if ((PlayerRace(auto11F53C51_var) == "Nod")) {
            TriggerExecute(libTIBW_gt_GAMESTARTNod, true, true);
            return true;
        }

    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_GAMESTART_Init () {
    libTIBW_gt_GAMESTART = TriggerCreate("libTIBW_gt_GAMESTART_Func");
    TriggerAddEventGeneric(libTIBW_gt_GAMESTART, "GAME START");
}

//--------------------------------------------------------------------------------------------------
// Trigger: GAME START Check Nod
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_GAMESTARTCheckNod_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    playergroup auto6179BB58_g;
    int auto6179BB58_var;

    // Actions
    if (!runActions) {
        return true;
    }

    auto6179BB58_g = PlayerGroupAll();
    auto6179BB58_var = -1;
    while (true) {
        auto6179BB58_var = PlayerGroupNextPlayer(auto6179BB58_g, auto6179BB58_var);
        if (auto6179BB58_var < 0) { break; }
        if ((PlayerRace(auto6179BB58_var) == "Nod")) {
            TriggerExecute(libTIBW_gt_GAMESTARTNod, true, false);
        }

    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_GAMESTARTCheckNod_Init () {
    libTIBW_gt_GAMESTARTCheckNod = TriggerCreate("libTIBW_gt_GAMESTARTCheckNod_Func");
    TriggerEnable(libTIBW_gt_GAMESTARTCheckNod, false);
    TriggerAddEventMapInit(libTIBW_gt_GAMESTARTCheckNod);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Nod unit Created
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NodunitCreated_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Conditions
    if (testConds) {
        if (!((CatalogFieldValueGet(c_gameCatalogUnit, UnitGetType(EventUnitCreatedUnit()), "Race", c_playerAny) == "Nod"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    TriggerEnable(TriggerGetCurrent(), false);
    TriggerEnable(libTIBW_gt_Borrowedbombercustomreturntrajectory, true);
    TriggerEnable(libTIBW_gt_BorrowedbombercreationbindingStarchainTest, true);
    TriggerEnable(libTIBW_gt_LaunchairstrikeStarchainTest, true);
    TriggerExecute(libTIBW_gt_EnergyCalculation, true, false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NodunitCreated_Init () {
    libTIBW_gt_NodunitCreated = TriggerCreate("libTIBW_gt_NodunitCreated_Func");
    TriggerEnable(libTIBW_gt_NodunitCreated, false);
    TriggerAddEventUnitCreated(libTIBW_gt_NodunitCreated, null, null, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: GAME START Nod
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_GAMESTARTNod_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    playergroup autoC0198CC5_g;
    int autoC0198CC5_var;
    playergroup autoB12AAF8F_g;
    int autoB12AAF8F_var;

    // Actions
    if (!runActions) {
        return true;
    }

    TriggerEnable(TriggerGetCurrent(), false);
    TriggerEnable(libTIBW_gt_GAMESTARTCheckNod, false);
    TriggerEnable(libTIBW_gt_NodunitCreated, false);
    TriggerExecute(libTIBW_gt_ProductionUI, true, false);
    TriggerExecute(libTIBW_gt_InitBeaconsButton, true, false);
    autoC0198CC5_g = PlayerGroupAll();
    autoC0198CC5_var = -1;
    while (true) {
        autoC0198CC5_var = PlayerGroupNextPlayer(autoC0198CC5_g, autoC0198CC5_var);
        if (autoC0198CC5_var < 0) { break; }
        if ((PlayerRace(autoC0198CC5_var) == "Nod")) {
            TechTreeUpgradeAddLevel(autoC0198CC5_var, "NodAdvisor", 1);
        }

    }
    TriggerEnable(libTIBW_gt_Borrowedbombercustomreturntrajectory, true);
    TriggerEnable(libTIBW_gt_BorrowedbombercreationbindingStarchainTest, true);
    TriggerEnable(libTIBW_gt_LaunchairstrikeStarchainTest, true);
    TriggerExecute(libTIBW_gt_EnergyCalculation, true, false);
    Wait(1.0, c_timeGame);
    DialogControlHookupStandard(c_triggerControlTypePanel, "UIContainer/ConsoleUIContainer");
    autoB12AAF8F_g = PlayerGroupAll();
    autoB12AAF8F_var = -1;
    while (true) {
        autoB12AAF8F_var = PlayerGroupNextPlayer(autoB12AAF8F_g, autoB12AAF8F_var);
        if (autoB12AAF8F_var < 0) { break; }
        if ((PlayerRace(autoB12AAF8F_var) == "Nod")) {
            PlayerOptionOverride(autoB12AAF8F_var, "simplecommandcard", "0");
        }

    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_GAMESTARTNod_Init () {
    libTIBW_gt_GAMESTARTNod = TriggerCreate("libTIBW_gt_GAMESTARTNod_Func");
    TriggerAddEventGeneric(libTIBW_gt_GAMESTARTNod, "GAME START Nod");
}

//--------------------------------------------------------------------------------------------------
// Trigger: CNCStructureSalvageRefund
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CNCStructureSalvageRefund_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_StructureSold, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CNCStructureSalvageRefund_Init () {
    libTIBW_gt_CNCStructureSalvageRefund = TriggerCreate("libTIBW_gt_CNCStructureSalvageRefund_Func");
    TriggerEnable(libTIBW_gt_CNCStructureSalvageRefund, false);
    TriggerAddEventUnitAbility(libTIBW_gt_CNCStructureSalvageRefund, null, AbilityCommand("CNCStructureSalvageRefund", 0), c_unitAbilStageComplete, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Construction Started
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ConstructionStarted_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Conditions
    if (testConds) {
        if (!(((UnitGetType(EventUnit()) == "NodConstructionYard") || (UnitGetType(EventUnit()) == "NodConstructionYardSupportModule") || (UnitGetType(EventUnit()) == "NodCrane") || (UnitGetType(EventUnit()) == "NodCraneSupportModule")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_Building, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ConstructionStarted_Init () {
    libTIBW_gt_ConstructionStarted = TriggerCreate("libTIBW_gt_ConstructionStarted_Func");
    TriggerEnable(libTIBW_gt_ConstructionStarted, false);
    TriggerAddEventUnitArmMagazineProgress(libTIBW_gt_ConstructionStarted, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Construction Completed
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ConstructionCompleted_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Conditions
    if (testConds) {
        if (!(((UnitGetType(EventUnit()) == "NodConstructionYard") || (UnitGetType(EventUnit()) == "NodCrane")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_ConComplete, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ConstructionCompleted_Init () {
    libTIBW_gt_ConstructionCompleted = TriggerCreate("libTIBW_gt_ConstructionCompleted_Func");
    TriggerEnable(libTIBW_gt_ConstructionCompleted, false);
    TriggerAddEventUnitArmMagazineProgress(libTIBW_gt_ConstructionCompleted, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Construction Canceled
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ConstructionCanceled_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_Cancelled, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ConstructionCanceled_Init () {
    libTIBW_gt_ConstructionCanceled = TriggerCreate("libTIBW_gt_ConstructionCanceled_Func");
    TriggerEnable(libTIBW_gt_ConstructionCanceled, false);
    TriggerAddEventUnitTrainProgress(libTIBW_gt_ConstructionCanceled, null, c_unitProgressStageCancel);
}

//--------------------------------------------------------------------------------------------------
// Trigger: New Construction Options
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NewConstructionOptions_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    string lv_abil;
    int lv_owner;
    string lv_type;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = EventUnitCreatedUnit();
    lv_owner = UnitGetOwner(lv_unit);
    lv_type = UnitGetType(lv_unit);

    // Conditions
    if (testConds) {
        if (!((UnitTypeTestAttribute(lv_type, c_unitAttributeStructure) == true))) {
            return false;
        }

        if (!((UnitGroupCount(UnitGroup(lv_type, lv_owner, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0), c_unitCountAlive) == 1))) {
            return false;
        }

        if (!(libTIBW_gf_UnitUnlocksTech(lv_unit))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_NewConstructionOptions, lv_owner);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NewConstructionOptions_Init () {
    libTIBW_gt_NewConstructionOptions = TriggerCreate("libTIBW_gt_NewConstructionOptions_Func");
    TriggerEnable(libTIBW_gt_NewConstructionOptions, false);
    TriggerAddEventUnitCreated(libTIBW_gt_NewConstructionOptions, null, null, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: New Construction Options - Unit Deployed
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NewConstructionOptionsUnitDeployed_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Conditions
    if (testConds) {
        if (!((UnitGroupCount(UnitGroup("NodConstructionYard", UnitGetOwner(EventUnit()), RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0), c_unitCountAlive) == 1))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_NewConstructionOptions, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NewConstructionOptionsUnitDeployed_Init () {
    libTIBW_gt_NewConstructionOptionsUnitDeployed = TriggerCreate("libTIBW_gt_NewConstructionOptionsUnitDeployed_Func");
    TriggerEnable(libTIBW_gt_NewConstructionOptionsUnitDeployed, false);
    TriggerAddEventUnitAbility(libTIBW_gt_NewConstructionOptionsUnitDeployed, null, AbilityCommand("NodMCVDeploy", 0), c_unitAbilStageComplete, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Repairing
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Repairing_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_Repairing, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Repairing_Init () {
    libTIBW_gt_Repairing = TriggerCreate("libTIBW_gt_Repairing_Func");
    TriggerEnable(libTIBW_gt_Repairing, false);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_Repairing, null, "NodRepair", c_unitBehaviorChangeCreate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Low Power
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_LowPower_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_LowPower, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_LowPower_Init () {
    libTIBW_gt_LowPower = TriggerCreate("libTIBW_gt_LowPower_Func");
    TriggerEnable(libTIBW_gt_LowPower, false);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_LowPower, null, "PowerShortage", c_unitBehaviorChangeCreate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: PowerRestored
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_PowerRestored_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_PowerRestored, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_PowerRestored_Init () {
    libTIBW_gt_PowerRestored = TriggerCreate("libTIBW_gt_PowerRestored_Func");
    TriggerEnable(libTIBW_gt_PowerRestored, false);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_PowerRestored, null, "PowerShortage", c_unitBehaviorChangeDestroy);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Training Started
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_TrainingStarted_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_Training, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_TrainingStarted_Init () {
    libTIBW_gt_TrainingStarted = TriggerCreate("libTIBW_gt_TrainingStarted_Func");
    TriggerEnable(libTIBW_gt_TrainingStarted, false);
    TriggerAddEventUnitTrainProgress(libTIBW_gt_TrainingStarted, null, c_unitProgressStageStart);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Training Completed
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_TrainingCompleted_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_UnitReady, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_TrainingCompleted_Init () {
    libTIBW_gt_TrainingCompleted = TriggerCreate("libTIBW_gt_TrainingCompleted_Func");
    TriggerEnable(libTIBW_gt_TrainingCompleted, false);
    TriggerAddEventUnitTrainProgress(libTIBW_gt_TrainingCompleted, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Training Canceled
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_TrainingCanceled_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Conditions
    if (testConds) {
        if (!(((UnitGetType(EventUnit()) == "NodConstructionYard") || (UnitGetType(EventUnit()) == "NodCrane")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_Cancelled, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_TrainingCanceled_Init () {
    libTIBW_gt_TrainingCanceled = TriggerCreate("libTIBW_gt_TrainingCanceled_Func");
    TriggerEnable(libTIBW_gt_TrainingCanceled, false);
    TriggerAddEventUnitArmMagazineProgress(libTIBW_gt_TrainingCanceled, null, c_unitProgressStageCancel);
}

//--------------------------------------------------------------------------------------------------
// Trigger: New Rally Point
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NewRallyPoint_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_NewRallyPointEstablished, UnitGetOwner(EventUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NewRallyPoint_Init () {
    libTIBW_gt_NewRallyPoint = TriggerCreate("libTIBW_gt_NewRallyPoint_Func");
    TriggerEnable(libTIBW_gt_NewRallyPoint, false);
    TriggerAddEventUnitAbility(libTIBW_gt_NewRallyPoint, null, AbilityCommand("Rally", 0), c_unitAbilStageComplete, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Ally Defeated
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_AllyDefeated_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    playergroup auto0E295CC3_g;
    int auto0E295CC3_var;

    // Actions
    if (!runActions) {
        return true;
    }

    auto0E295CC3_g = PlayerGroupAll();
    auto0E295CC3_var = -1;
    while (true) {
        auto0E295CC3_var = PlayerGroupNextPlayer(auto0E295CC3_g, auto0E295CC3_var);
        if (auto0E295CC3_var < 0) { break; }
        if ((PlayerGetAlliance(EventPlayer(), c_allianceIdVision, auto0E295CC3_var) == true)) {
            libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_AllyDefeated, UnitGetOwner(EventUnitCreatedUnit()));
        }
        else {
            libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_EnemyDefeated, UnitGetOwner(EventUnitCreatedUnit()));
        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_AllyDefeated_Init () {
    libTIBW_gt_AllyDefeated = TriggerCreate("libTIBW_gt_AllyDefeated_Func");
    TriggerEnable(libTIBW_gt_AllyDefeated, false);
    TriggerAddEventPlayerLeft(libTIBW_gt_AllyDefeated, c_playerAny, c_gameResultDefeat);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Unit Complete
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_UnitComplete_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_UnitReady, UnitGetOwner(EventUnitCreatedUnit()));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_UnitComplete_Init () {
    libTIBW_gt_UnitComplete = TriggerCreate("libTIBW_gt_UnitComplete_Func");
    TriggerEnable(libTIBW_gt_UnitComplete, false);
    TriggerAddEventUnitCreated(libTIBW_gt_UnitComplete, null, "NodWarFactoryTrain", null);
    TriggerAddEventUnitCreated(libTIBW_gt_UnitComplete, null, "NodRefineryTrain", null);
    TriggerAddEventUnitCreated(libTIBW_gt_UnitComplete, null, "NodConstructionYardTrain", null);
    TriggerAddEventUnitCreated(libTIBW_gt_UnitComplete, null, "NodAirTowerTrain", null);
    TriggerAddEventUnitCreated(libTIBW_gt_UnitComplete, null, "NodHandTrain", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Unit Attacked
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_UnitAttacked_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_announceType;
    unit lv_attacked;
    unit lv_attacker;
    int lv_player;
    playergroup lv_playerGroup;
    playergroup lv_allyGroup;

    // Automatic Variable Declarations
    playergroup auto05A58F73_g;
    int auto05A58F73_var;

    // Variable Initialization
    lv_attacked = EventUnit();
    lv_attacker = EventUnitTarget();
    lv_player = UnitGetOwner(lv_attacked);
    lv_playerGroup = PlayerGroupSingle(lv_player);
    lv_allyGroup = PlayerGroupAlliance(c_playerGroupAlly, lv_player);

    // Conditions
    if (testConds) {
        if (!((lv_player != UnitGetOwner(lv_attacker)))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    if ((UnitTypeTestAttribute(UnitGetType(lv_attacked), c_unitAttributeStructure) == true)) {
        libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_BaseUnderAttack, lv_player);
    }
    else {
        if ((UnitTypeTestFlag(UnitGetType(lv_attacked), c_unitFlagWorker) == true)) {
            libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_HarvesterUnderAttack, lv_player);
        }
        else {
            libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_UnitUnderAttack, lv_player);
        }
    }
    auto05A58F73_g = PlayerGroupAll();
    auto05A58F73_var = -1;
    while (true) {
        auto05A58F73_var = PlayerGroupNextPlayer(auto05A58F73_g, auto05A58F73_var);
        if (auto05A58F73_var < 0) { break; }
        if ((lv_player != auto05A58F73_var) && (PlayerGetAlliance(EventPlayer(), c_allianceIdVision, auto05A58F73_var) == true)) {
            libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_AllyUnderAttack, auto05A58F73_var);
        }

    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_UnitAttacked_Init () {
    libTIBW_gt_UnitAttacked = TriggerCreate("libTIBW_gt_UnitAttacked_Func");
    TriggerEnable(libTIBW_gt_UnitAttacked, false);
    TriggerAddEventUnitAttacked2(libTIBW_gt_UnitAttacked, null, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Unit Lost
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_UnitLost_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_player;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_player = UnitGetOwner(EventUnit());

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_PlayAnnounceSound(libTIBW_ge_NEVA_NEVA_UnitLost, lv_player);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_UnitLost_Init () {
    libTIBW_gt_UnitLost = TriggerCreate("libTIBW_gt_UnitLost_Func");
    TriggerEnable(libTIBW_gt_UnitLost, false);
    TriggerAddEventUnitDied(libTIBW_gt_UnitLost, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Capture Husk Canceled
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CaptureHuskCanceled_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    unit lv_target;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = EventUnit();
    lv_target = EventUnitTargetUnit();

    // Actions
    if (!runActions) {
        return true;
    }

    UnitAbilityRemove(lv_unit, "CNCCaptureHusk");
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CaptureHuskCanceled_Init () {
    libTIBW_gt_CaptureHuskCanceled = TriggerCreate("libTIBW_gt_CaptureHuskCanceled_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_CaptureHuskCanceled, null, AbilityCommand("CNCCaptureHusk", 0), c_unitAbilStageCancel, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Capture Husk Initiated
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CaptureHuskInitiated_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    unit lv_target;

    // Automatic Variable Declarations
    string autoAD11D6DA_val;

    // Variable Initialization
    lv_unit = EventUnit();
    lv_target = EventUnitTargetUnit();

    // Actions
    if (!runActions) {
        return true;
    }

    autoAD11D6DA_val = UnitGetType(lv_target);
    if (autoAD11D6DA_val == "NodAvatarWreckage") {
        if ((ValidatorExecute("IsPilot", lv_unit, lv_unit) == 0)) {
            UnitAbilityAdd(lv_unit, "CNCCaptureHusk");
            UnitIssueOrder(lv_unit, OrderTargetingUnit(AbilityCommand("CNCCaptureHusk", 0), lv_target), c_orderQueueReplace);
        }

    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CaptureHuskInitiated_Init () {
    libTIBW_gt_CaptureHuskInitiated = TriggerCreate("libTIBW_gt_CaptureHuskInitiated_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_CaptureHuskInitiated, null, AbilityCommand("move", 0), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: MoveCommandOverrideCancel
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_MoveCommandOverrideCancel_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    unit lv_target;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = EventUnit();
    lv_target = EventUnitTargetUnit();

    // Actions
    if (!runActions) {
        return true;
    }

    if ((UnitHasBehavior2(lv_unit, "NodAvatarPilot") == true)) {
        UnitBehaviorRemove(lv_unit, "NodAvatarPilot", 1);
    }

    if ((UnitHasBehavior2(lv_unit, "NodRedeemerPilot") == true)) {
        UnitBehaviorRemove(lv_unit, "NodRedeemerPilot", 1);
    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_MoveCommandOverrideCancel_Init () {
    libTIBW_gt_MoveCommandOverrideCancel = TriggerCreate("libTIBW_gt_MoveCommandOverrideCancel_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_MoveCommandOverrideCancel, null, AbilityCommand("move", 0), c_unitAbilStageCancel, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: MoveCommandOverrideComplete
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_MoveCommandOverrideComplete_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    unit lv_target;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = EventUnit();
    lv_target = EventUnitTargetUnit();

    // Actions
    if (!runActions) {
        return true;
    }

    if ((UnitHasBehavior2(lv_unit, "NodAvatarPilot") == true)) {
        UnitBehaviorRemove(lv_unit, "NodAvatarPilot", 1);
    }

    if ((UnitHasBehavior2(lv_unit, "NodRedeemerPilot") == true)) {
        UnitBehaviorRemove(lv_unit, "NodRedeemerPilot", 1);
    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_MoveCommandOverrideComplete_Init () {
    libTIBW_gt_MoveCommandOverrideComplete = TriggerCreate("libTIBW_gt_MoveCommandOverrideComplete_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_MoveCommandOverrideComplete, null, AbilityCommand("move", 0), c_unitAbilStageComplete, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Carry Vespene
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CarryVespene_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = EventUnit();

    // Conditions
    if (testConds) {
        if (!((UnitGetType(lv_unit) == "NodHarvester"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_ResetUnitCarriedMinerals(lv_unit);
    UnitBehaviorAdd(lv_unit, "CarryVespene1", lv_unit, 1);
    UnitBehaviorAdd(lv_unit, "CarryVespene2", lv_unit, 1);
    UnitBehaviorAdd(lv_unit, "CarryVespene3", lv_unit, 1);
    UnitBehaviorAdd(lv_unit, "CarryVespene4", lv_unit, 1);
    UnitBehaviorRemove(lv_unit, "CarryHarvestableVespeneGeyserGas", 1);
    UnitBehaviorRemove(lv_unit, "CarryHarvestableVespeneGeyserGasProtoss", 1);
    UnitBehaviorRemove(lv_unit, "CarryHarvestableVespeneGeyserGasZerg", 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CarryVespene_Init () {
    libTIBW_gt_CarryVespene = TriggerCreate("libTIBW_gt_CarryVespene_Func");
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_CarryVespene, null, "CarryHarvestableVespeneGeyserGas", c_unitBehaviorChangeCreate);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_CarryVespene, null, "CarryHarvestableVespeneGeyserGasProtoss", c_unitBehaviorChangeCreate);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_CarryVespene, null, "CarryHarvestableVespeneGeyserGasZerg", c_unitBehaviorChangeCreate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Harvest Vespene Rich
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_HarvestVespeneRich_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    unit lv_vespene;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = EventUnit();
    lv_vespene = EventUnitTargetUnit();

    // Conditions
    if (testConds) {
        if (!((UnitGetType(lv_unit) == "NodHarvester"))) {
            return false;
        }

        if (!(((UnitHasBehavior2(lv_vespene, "HarvestableRichVespeneGeyserGas") == true) || (UnitHasBehavior2(lv_vespene, "HarvestableRichVespeneGeyserGasProtoss") == true) || (UnitHasBehavior2(lv_vespene, "HarvestableRichVespeneGeyserGasZerg") == true)))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    DataTableSetUnit(true, libTIBW_gf__UnitDataName(libTIBW_ge__UnitDataType_Unit, lv_unit, 1), lv_vespene);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_HarvestVespeneRich_Init () {
    libTIBW_gt_HarvestVespeneRich = TriggerCreate("libTIBW_gt_HarvestVespeneRich_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_HarvestVespeneRich, null, null, c_abilHarvestStageHarvest, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Carry Vespene Rich
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CarryVespeneRich_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    unit lv_vespene;
    fixed lv_addition;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = EventUnit();

    // Conditions
    if (testConds) {
        if (!((UnitGetType(lv_unit) == "NodHarvester"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_vespene = DataTableGetUnit(true, libTIBW_gf__UnitDataName(libTIBW_ge__UnitDataType_Unit, lv_unit, 1));
    lv_addition = MinF(UnitGetPropertyFixed(lv_vespene, c_unitPropResources, c_unitPropCurrent), 20.0);
    UnitSetPropertyFixed(lv_unit, c_unitPropCarriedVespene, (UnitGetPropertyFixed(lv_unit, c_unitPropCarriedVespene, c_unitPropCurrent) + lv_addition));
    UnitSetPropertyFixed(lv_vespene, c_unitPropResources, (UnitGetPropertyFixed(lv_vespene, c_unitPropResources, c_unitPropCurrent) - lv_addition));
    libTIBW_gf_ResetUnitCarriedMinerals(lv_unit);
    UnitBehaviorAdd(lv_unit, "CarryTerrazine1", lv_unit, 1);
    UnitBehaviorAdd(lv_unit, "CarryTerrazine2", lv_unit, 1);
    UnitBehaviorAdd(lv_unit, "CarryTerrazine3", lv_unit, 1);
    UnitBehaviorAdd(lv_unit, "CarryTerrazine4", lv_unit, 1);
    UnitBehaviorRemove(lv_unit, "CarryHarvestableRichVespeneGeyserGas", 1);
    UnitBehaviorRemove(lv_unit, "CarryHarvestableRichVespeneGeyserGasProtoss", 1);
    UnitBehaviorRemove(lv_unit, "CarryHarvestableRichVespeneGeyserGasZerg", 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CarryVespeneRich_Init () {
    libTIBW_gt_CarryVespeneRich = TriggerCreate("libTIBW_gt_CarryVespeneRich_Func");
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_CarryVespeneRich, null, "CarryHarvestableRichVespeneGeyserGas", c_unitBehaviorChangeCreate);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_CarryVespeneRich, null, "CarryHarvestableRichVespeneGeyserGasProtoss", c_unitBehaviorChangeCreate);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_CarryVespeneRich, null, "CarryHarvestableRichVespeneGeyserGasZerg", c_unitBehaviorChangeCreate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Carry Minerals
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CarryMinerals_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    int lv_stage;

    // Automatic Variable Declarations
    int autoC66A8F65_val;

    // Variable Initialization
    lv_unit = EventUnit();

    // Conditions
    if (testConds) {
        if (!((UnitGetType(lv_unit) == "NodHarvester"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_ResetUnitCarriedVespene(lv_unit);
    lv_stage = libTIBW_gf_GetunitHarvestingStage(lv_unit);
    autoC66A8F65_val = lv_stage;
    if (autoC66A8F65_val == 0) {
        UnitBehaviorAdd(lv_unit, "CarryMinerals1", lv_unit, 1);
    }
    else if (autoC66A8F65_val == 1) {
        UnitBehaviorAdd(lv_unit, "CarryMinerals2", lv_unit, 1);
    }
    else if (autoC66A8F65_val == 2) {
        UnitBehaviorAdd(lv_unit, "CarryMinerals3", lv_unit, 1);
        UnitAbilityChangeLink(lv_unit, "CNCHarvest", (("CNCHarvest" + IntToString(UnitGetPropertyInt(lv_unit, c_unitPropCarriedMinerals, c_unitPropCurrent)))));
    }
    else if (autoC66A8F65_val == 3) {
        UnitBehaviorAdd(lv_unit, "CarryMinerals4", lv_unit, 1);
    }
    else {
    }
    UnitBehaviorRemove(lv_unit, "CarryMineralFieldMinerals", 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CarryMinerals_Init () {
    libTIBW_gt_CarryMinerals = TriggerCreate("libTIBW_gt_CarryMinerals_Func");
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_CarryMinerals, null, "CarryMineralFieldMinerals", c_unitBehaviorChangeCreate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Carry HY Minerals
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CarryHYMinerals_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    int lv_stage;

    // Automatic Variable Declarations
    int auto9739B9B5_val;

    // Variable Initialization
    lv_unit = EventUnit();

    // Conditions
    if (testConds) {
        if (!((UnitGetType(lv_unit) == "NodHarvester"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_ResetUnitCarriedVespene(lv_unit);
    lv_stage = libTIBW_gf_GetunitHarvestingStage(lv_unit);
    auto9739B9B5_val = lv_stage;
    if (auto9739B9B5_val == 0) {
        UnitBehaviorAdd(lv_unit, "CarryHighYieldMinerals1", lv_unit, 1);
    }
    else if (auto9739B9B5_val == 1) {
        UnitBehaviorAdd(lv_unit, "CarryHighYieldMinerals2", lv_unit, 1);
    }
    else if (auto9739B9B5_val == 2) {
        UnitBehaviorAdd(lv_unit, "CarryHighYieldMinerals3", lv_unit, 1);
        UnitAbilityChangeLink(lv_unit, "CNCHarvest", (("CNCHarvest" + IntToString(UnitGetPropertyInt(lv_unit, c_unitPropCarriedMinerals, c_unitPropCurrent)))));
    }
    else if (auto9739B9B5_val == 3) {
        UnitBehaviorAdd(lv_unit, "CarryHighYieldMinerals4", lv_unit, 1);
    }
    else {
    }
    UnitBehaviorRemove(lv_unit, "CarryHighYieldMineralFieldMinerals", 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CarryHYMinerals_Init () {
    libTIBW_gt_CarryHYMinerals = TriggerCreate("libTIBW_gt_CarryHYMinerals_Func");
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_CarryHYMinerals, null, "CarryHighYieldMineralFieldMinerals", c_unitBehaviorChangeCreate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Carry Tiberium Minerals 
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CarryTiberiumMinerals_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    int lv_stage;

    // Automatic Variable Declarations
    int auto215C0020_val;

    // Variable Initialization
    lv_unit = EventUnit();

    // Conditions
    if (testConds) {
        if (!((UnitGetType(lv_unit) == "NodHarvester"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_ResetUnitCarriedVespene(lv_unit);
    lv_stage = libTIBW_gf_GetunitHarvestingStage(lv_unit);
    auto215C0020_val = lv_stage;
    if (auto215C0020_val == 0) {
        UnitBehaviorAdd(lv_unit, "CarryTiberium1", lv_unit, 1);
    }
    else if (auto215C0020_val == 1) {
        UnitBehaviorAdd(lv_unit, "CarryTiberium2", lv_unit, 1);
    }
    else if (auto215C0020_val == 2) {
        UnitBehaviorAdd(lv_unit, "CarryTiberium3", lv_unit, 1);
        UnitAbilityChangeLink(lv_unit, "CNCHarvest", (("CNCHarvest" + IntToString(UnitGetPropertyInt(lv_unit, c_unitPropCarriedMinerals, c_unitPropCurrent)))));
    }
    else if (auto215C0020_val == 3) {
        UnitBehaviorAdd(lv_unit, "CarryTiberium4", lv_unit, 1);
    }
    else {
    }
    UnitBehaviorRemove(lv_unit, "CarryTiberiumFieldMinerals", 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CarryTiberiumMinerals_Init () {
    libTIBW_gt_CarryTiberiumMinerals = TriggerCreate("libTIBW_gt_CarryTiberiumMinerals_Func");
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_CarryTiberiumMinerals, null, "CarryTiberiumFieldMinerals", c_unitBehaviorChangeCreate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Dropoff
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Dropoff_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = EventUnit();

    // Conditions
    if (testConds) {
        if (!((UnitGetType(lv_unit) == "NodHarvester"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_ResetUnitCarriedMinerals(lv_unit);
    libTIBW_gf_ResetUnitCarriedVespene(lv_unit);
    libTIBW_gf_ResetUnitHarvestingState(lv_unit);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Dropoff_Init () {
    libTIBW_gt_Dropoff = TriggerCreate("libTIBW_gt_Dropoff_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_Dropoff, null, AbilityCommand("CNCHarvest", 1), c_abilHarvestStageDropOff, false);
    TriggerAddEventUnitAbility(libTIBW_gt_Dropoff, null, AbilityCommand("CNCHarvest15", 1), c_abilHarvestStageDropOff, false);
    TriggerAddEventUnitAbility(libTIBW_gt_Dropoff, null, AbilityCommand("CNCHarvest17", 1), c_abilHarvestStageDropOff, false);
    TriggerAddEventUnitAbility(libTIBW_gt_Dropoff, null, AbilityCommand("CNCHarvest19", 1), c_abilHarvestStageDropOff, false);
    TriggerAddEventUnitAbility(libTIBW_gt_Dropoff, null, AbilityCommand("CNCHarvest21", 1), c_abilHarvestStageDropOff, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Power Users Management
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_PowerUsersManagement_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    int auto6D83FF96_val;

    // Actions
    if (!runActions) {
        return true;
    }

    auto6D83FF96_val = EventUnitBehaviorChange();
    if (auto6D83FF96_val == c_unitBehaviorChangeActivate) {
        UnitGroupAdd(libTIBW_gv_powerUsers[UnitGetOwner(EventUnit())], EventUnit());
    }
    else if (auto6D83FF96_val == c_unitBehaviorChangeDeactivate) {
        UnitGroupRemove(libTIBW_gv_powerUsers[UnitGetOwner(EventUnit())], EventUnit());
    }
    else {
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_PowerUsersManagement_Init () {
    libTIBW_gt_PowerUsersManagement = TriggerCreate("libTIBW_gt_PowerUsersManagement_Func");
    TriggerEnable(libTIBW_gt_PowerUsersManagement, false);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_PowerUsersManagement, null, "CNCEnergyDrain5", c_unitBehaviorChangeAny);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_PowerUsersManagement, null, "CNCEnergyDrain10", c_unitBehaviorChangeAny);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_PowerUsersManagement, null, "CNCEnergyDrain15", c_unitBehaviorChangeAny);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_PowerUsersManagement, null, "CNCPowerGeneration015", c_unitBehaviorChangeAny);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_PowerUsersManagement, null, "CNCPowerGeneration045", c_unitBehaviorChangeAny);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_PowerUsersManagement, null, "NodProductionBoost", c_unitBehaviorChangeAny);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Power Dummy Init (Scion)
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_PowerDummyInitScion_Func (bool testConds, bool runActions) {
    // Variable Declarations
    playergroup lv_players;
    int lv_genetron_energy_panel_ui;
    int lv_genetron_energy_current_ui;
    int lv_genetron_energy_max_ui;
    int lv_genetron_energy_label_ui;

    // Automatic Variable Declarations
    playergroup auto4FE6C4DD_g;
    int auto4FE6C4DD_var;
    playergroup auto0CF0DF24_g;
    int auto0CF0DF24_var;
    playergroup auto0990109D_g;
    int auto0990109D_var;
    const int auto624CBD02_n = 16;
    int auto624CBD02_i;
    playergroup auto45E8F9C5_g;
    int auto45E8F9C5_var;

    // Variable Initialization
    lv_players = PlayerGroupEmpty();
    lv_genetron_energy_panel_ui = c_invalidDialogControlId;
    lv_genetron_energy_current_ui = c_invalidDialogControlId;
    lv_genetron_energy_max_ui = c_invalidDialogControlId;
    lv_genetron_energy_label_ui = c_invalidDialogControlId;

    // Actions
    if (!runActions) {
        return true;
    }

    auto4FE6C4DD_g = PlayerGroupAll();
    auto4FE6C4DD_var = -1;
    while (true) {
        auto4FE6C4DD_var = PlayerGroupNextPlayer(auto4FE6C4DD_g, auto4FE6C4DD_var);
        if (auto4FE6C4DD_var < 0) { break; }
        if ((TechTreeUnitCount(auto4FE6C4DD_var, "GenetronPowerSupplyDummy", c_techCountCompleteOnly) == 0)) {
            libNtve_gf_CreateUnitsWithDefaultFacing(1, "GenetronPowerSupplyDummy", 0, auto4FE6C4DD_var, Point(0.0, 0.0));
            libTIBW_gv_sCION_POWERDUMMIES[auto4FE6C4DD_var] = UnitLastCreated();
        }
        else {
            libTIBW_gv_sCION_POWERDUMMIES[auto4FE6C4DD_var] = UnitGroupUnit(UnitGroup("GenetronPowerSupplyDummy", auto4FE6C4DD_var, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0), 1);
        }
    }
    DialogControlHookupStandard(c_triggerControlTypePanel, "UIContainer/FullscreenUpperContainer/GenetronEnergyPanel");
    lv_genetron_energy_panel_ui = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeCountdownLabel, "UIContainer/FullscreenUpperContainer/GenetronEnergyPanel/EnergyCurrent");
    lv_genetron_energy_current_ui = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeCountdownLabel, "UIContainer/FullscreenUpperContainer/GenetronEnergyPanel/EnergyMax");
    lv_genetron_energy_max_ui = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeCountdownLabel, "UIContainer/FullscreenUpperContainer/GenetronEnergyPanel/EnergyLabel");
    lv_genetron_energy_label_ui = DialogControlLastCreated();
    auto0CF0DF24_g = PlayerGroupAll();
    auto0CF0DF24_var = -1;
    while (true) {
        auto0CF0DF24_var = PlayerGroupNextPlayer(auto0CF0DF24_g, auto0CF0DF24_var);
        if (auto0CF0DF24_var < 0) { break; }
        if ((PlayerType(auto0CF0DF24_var) == c_playerTypeUser)) {
            PlayerGroupAdd(lv_players, auto0CF0DF24_var);
        }

    }
    Wait(0.0625, c_timeGame);
    while (true) {
        auto0990109D_g = lv_players;
        auto0990109D_var = -1;
        while (true) {
            auto0990109D_var = PlayerGroupNextPlayer(auto0990109D_g, auto0990109D_var);
            if (auto0990109D_var < 0) { break; }
            if ((UnitGetPropertyFixed(libTIBW_gv_sCION_POWERDUMMIES[auto0990109D_var], c_unitPropEnergyMax, c_unitPropCurrent) > 0.0)) {
                DialogControlSetVisible(lv_genetron_energy_panel_ui, PlayerGroupSingle(auto0990109D_var), true);
            }
            else {
                DialogControlSetVisible(lv_genetron_energy_panel_ui, PlayerGroupSingle(auto0990109D_var), false);
            }
        }
        for (auto624CBD02_i = 1; auto624CBD02_i <= auto624CBD02_n; auto624CBD02_i += 1) {
            auto45E8F9C5_g = lv_players;
            auto45E8F9C5_var = -1;
            while (true) {
                auto45E8F9C5_var = PlayerGroupNextPlayer(auto45E8F9C5_g, auto45E8F9C5_var);
                if (auto45E8F9C5_var < 0) { break; }
                libNtve_gf_SetDialogItemCurrentValue(lv_genetron_energy_max_ui, UnitGetPropertyFixed(libTIBW_gv_sCION_POWERDUMMIES[auto45E8F9C5_var], c_unitPropEnergyMax, c_unitPropCurrent), PlayerGroupSingle(auto45E8F9C5_var));
                libNtve_gf_SetDialogItemCurrentValue(lv_genetron_energy_current_ui, UnitGetPropertyFixed(libTIBW_gv_sCION_POWERDUMMIES[auto45E8F9C5_var], c_unitPropEnergy, c_unitPropCurrent), PlayerGroupSingle(auto45E8F9C5_var));
            }
            Wait(0.0625, c_timeGame);
        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_PowerDummyInitScion_Init () {
    libTIBW_gt_PowerDummyInitScion = TriggerCreate("libTIBW_gt_PowerDummyInitScion_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Energy Calculation
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_EnergyCalculation_Func (bool testConds, bool runActions) {
    // Variable Declarations
    playergroup lv_players;
    unitgroup lv_units;
    unit lv_u;
    unit lv_powerDummy;
    fixed lv_balanceUpdate;
    fixed lv_oldBalance;
    fixed lv_newBalance;
    fixed lv_energyDrain;
    fixed lv_unitDrain;
    fixed lv_energyGeneration;
    int lv_p;
    text lv_tooltip;
    int lv_genetron_energy_panel_ui;
    int lv_genetron_energy_current_ui;
    int lv_genetron_energy_max_ui;
    int lv_genetron_energy_label_ui;

    // Automatic Variable Declarations
    playergroup auto03848070_g;
    unitgroup auto3976E74D_g;
    int auto3976E74D_u;

    // Variable Initialization
    lv_players = PlayerGroupAll();
    lv_units = UnitGroup(null, c_playerAny, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    lv_genetron_energy_panel_ui = c_invalidDialogControlId;
    lv_genetron_energy_current_ui = c_invalidDialogControlId;
    lv_genetron_energy_max_ui = c_invalidDialogControlId;
    lv_genetron_energy_label_ui = c_invalidDialogControlId;

    // Actions
    if (!runActions) {
        return true;
    }

    DialogControlHookupStandard(c_triggerControlTypePanel, "UIContainer/FullscreenUpperContainer/GenetronEnergyPanel");
    lv_genetron_energy_panel_ui = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeCountdownLabel, "UIContainer/FullscreenUpperContainer/GenetronEnergyPanel/EnergyCurrent");
    lv_genetron_energy_current_ui = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeCountdownLabel, "UIContainer/FullscreenUpperContainer/GenetronEnergyPanel/EnergyMax");
    lv_genetron_energy_max_ui = DialogControlLastCreated();
    DialogControlHookupStandard(c_triggerControlTypeCountdownLabel, "UIContainer/FullscreenUpperContainer/GenetronEnergyPanel/EnergyLabel");
    lv_genetron_energy_label_ui = DialogControlLastCreated();
    TriggerExecute(libTIBW_gt_PowerDummyInitScion, true, false);
    TriggerEnable(libTIBW_gt_PowerUsersManagement, true);
    Wait(1.0, c_timeGame);
    while (true) {
        Wait(0.25, c_timeGame);
        auto03848070_g = lv_players;
        lv_p = -1;
        while (true) {
            lv_p = PlayerGroupNextPlayer(auto03848070_g, lv_p);
            if (lv_p < 0) { break; }
            lv_powerDummy = libTIBW_gv_sCION_POWERDUMMIES[lv_p];
            if ((UnitGroupCount(libTIBW_gv_powerUsers[lv_p], c_unitCountAlive) == 0)) {
                if ((UnitHasBehavior2(lv_powerDummy, "PowerShortage") == true)) {
                    UnitBehaviorRemove(lv_powerDummy, "PowerShortage", 1);
                    continue;
                }

                continue;
            }

            lv_balanceUpdate = 0.0;
            lv_energyDrain = 0.0;
            lv_energyGeneration = 0.0;
            lv_oldBalance = UnitGetPropertyFixed(lv_powerDummy, c_unitPropEnergy, c_unitPropCurrent);
            auto3976E74D_g = libTIBW_gv_powerUsers[lv_p];
            auto3976E74D_u = UnitGroupCount(auto3976E74D_g, c_unitCountAll);
            for (;; auto3976E74D_u -= 1) {
                lv_u = UnitGroupUnitFromEnd(auto3976E74D_g, auto3976E74D_u);
                if (lv_u == null) { break; }
                if ((UnitIsAlive(lv_u) == false)) {
                    UnitGroupRemove(libTIBW_gv_powerUsers[lv_p], lv_u);
                }

                if ((UnitGetOwner(lv_u) != lv_p)) {
                    UnitGroupRemove(libTIBW_gv_powerUsers[lv_p], lv_u);
                    UnitGroupAdd(libTIBW_gv_powerUsers[UnitGetOwner(lv_u)], lv_u);
                }

                lv_unitDrain = 0.0;
                if ((UnitHasBehavior(lv_u, "CNCEnergyDrain5") == true) && (libTIBW_gv_pASSIVE_ENERGY_CONSUMPTION_ENABLED == true)) {
                    lv_unitDrain = 0.045;
                    lv_energyDrain = (lv_energyDrain + lv_unitDrain);
                }
                else if ((UnitHasBehavior(lv_u, "CNCEnergyDrain10") == true) && (libTIBW_gv_pASSIVE_ENERGY_CONSUMPTION_ENABLED == true)) {
                    lv_unitDrain = 0.09;
                    lv_energyDrain = (lv_energyDrain + lv_unitDrain);
                }
                else if ((UnitHasBehavior(lv_u, "CNCEnergyDrain15") == true) && (libTIBW_gv_pASSIVE_ENERGY_CONSUMPTION_ENABLED == true)) {
                    lv_unitDrain = 0.135;
                    lv_energyDrain = (lv_energyDrain + lv_unitDrain);
                }
                else if ((UnitHasBehavior(lv_u, "CNCPowerGeneration015") == true)) {
                    lv_energyGeneration = (lv_energyGeneration + 0.135);
                }
                else if ((UnitHasBehavior(lv_u, "CNCPowerGeneration045") == true)) {
                    lv_energyGeneration = (lv_energyGeneration + 0.405);
                }
                else if ((UnitHasBehavior(lv_u, "CNCPowerGeneration045") == true)) {
                    lv_energyGeneration = (lv_energyGeneration + 0.405);
                }
                if ((UnitHasBehavior2(lv_u, "NodProductionBoost") == true)) {
                    lv_energyDrain = (lv_energyDrain + 0.09);
                }

            }
            lv_balanceUpdate = (lv_energyGeneration - lv_energyDrain);
            lv_newBalance = (lv_oldBalance + lv_balanceUpdate);
            UnitSetPropertyFixed(lv_powerDummy, c_unitPropEnergy, lv_newBalance);
            libNtve_gf_SetDialogItemTooltip(lv_genetron_energy_label_ui, (StringExternal("Param/Value/lib_TIBW_C19FCF87") + (FixedToText((lv_energyGeneration * 4.0), 1) + (StringExternal("Param/Value/lib_TIBW_7EB49AF3") + FixedToText((lv_energyDrain * 4.0), 1)))), PlayerGroupSingle(lv_p));
            if ((libTIBW_gv_lOW_POWER_DEBUFF == true)) {
                if ((lv_newBalance < 0.0) && (UnitHasBehavior2(lv_powerDummy, "PowerShortage") == false)) {
                    UnitBehaviorAdd(lv_powerDummy, "PowerShortage", lv_powerDummy, 1);
                }
                else if ((lv_newBalance >= 0.0) && (UnitHasBehavior2(lv_powerDummy, "PowerShortage") == true)) {
                    UnitBehaviorRemove(lv_powerDummy, "PowerShortage", 1);
                }
            }

        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_EnergyCalculation_Init () {
    libTIBW_gt_EnergyCalculation = TriggerCreate("libTIBW_gt_EnergyCalculation_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: AIRSUPPORT CREATED
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_AIRSUPPORTCREATED_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airport;
    unit lv_slotUnit;
    string lv_slotUnitType;
    string lv_uD;
    string lv_uDTemp;
    int lv_slot;

    // Automatic Variable Declarations
    string auto3A63B6CB_userType;
    int auto3A63B6CB_i;
    int auto03165329_ae;
    const int auto03165329_ai = 1;

    // Variable Initialization
    lv_airport = EventUnitCreatedUnit();

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(lv_airport, "AirSupport") == true))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    auto3A63B6CB_userType = "Airports";
    auto3A63B6CB_i = 1;
    for ( ; auto3A63B6CB_i <= UserDataInstanceCount(auto3A63B6CB_userType) ; auto3A63B6CB_i += 1 ) {
        lv_uDTemp = UserDataInstance(auto3A63B6CB_userType, auto3A63B6CB_i);
        if ((UnitGetType(lv_airport) == UserDataGetUnit("Airports", lv_uDTemp, "Airport", 1))) {
            lv_uD = lv_uDTemp;
            break;
        }

    }
    if ((lv_uD == null)) {
        return true;
    }

    auto03165329_ae = UserDataGetInt("Airports", lv_uD, "Slots", 1);
    lv_slot = 1;
    for ( ; ( (auto03165329_ai >= 0 && lv_slot <= auto03165329_ae) || (auto03165329_ai < 0 && lv_slot >= auto03165329_ae) ) ; lv_slot += auto03165329_ai ) {
        lv_slotUnitType = UserDataGetUnit("Airports", lv_uD, "SlotUnit", lv_slot);
        if ((lv_slotUnitType == null)) {
            lv_slotUnitType = "DockDummy";
        }

        libNtve_gf_CreateUnitsWithDefaultFacing(1, lv_slotUnitType, c_unitCreateIgnorePlacement, UnitGetOwner(lv_airport), UnitGetPosition(lv_airport));
        lv_slotUnit = UnitLastCreated();
        UnitSetState(lv_slotUnit, c_unitStateInvulnerable, true);
        UnitSetState(lv_slotUnit, c_unitStateTargetable, false);
        UnitSetState(lv_slotUnit, c_unitStateSelectable, false);
        libTIBW_gf_AttachUnitModelToUnit(lv_slotUnit, lv_airport, ("Ref_Hardpoint 0" + IntToString(lv_slot)), 0.0, 0.0, 0.0, "SOp270");
        UnitSetCustomValue(lv_slotUnit, 1, UserDataGetFixed("Airports", lv_uD, "SlotsOffsetX", lv_slot));
        UnitSetCustomValue(lv_slotUnit, 2, UserDataGetFixed("Airports", lv_uD, "SlotsOffsetY", lv_slot));
        UnitSetCustomValue(lv_slotUnit, 3, UserDataGetFixed("Airports", lv_uD, "SlotsHeight", lv_slot));
        UnitSetCustomValue(lv_slotUnit, 4, UserDataGetFixed("Airports", lv_uD, "SlotsFacing", lv_slot));
        UnitSetCustomValue(lv_slotUnit, 5, lv_slot);
        UnitBehaviorAdd(lv_slotUnit, "SuicideWithCaster", lv_airport, 1);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_AIRSUPPORTCREATED_Init () {
    libTIBW_gt_AIRSUPPORTCREATED = TriggerCreate("libTIBW_gt_AIRSUPPORTCREATED_Func");
    TriggerAddEventUnitCreated(libTIBW_gt_AIRSUPPORTCREATED, null, null, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: AIRPOD CREATED
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_AIRPODCREATED_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airport;
    string lv_uD;
    string lv_uDTemp;

    // Automatic Variable Declarations
    string autoFDAE1AD7_userType;
    int autoFDAE1AD7_i;

    // Variable Initialization
    lv_airport = EventUnitCreatedUnit();

    // Conditions
    if (testConds) {
        if (!((UnitGetCustomValue(lv_airport, 5) == 0.0))) {
            return false;
        }

        if (!((UnitHasBehavior2(lv_airport, "AircraftAirportParkingAircraftTracking") == true))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    autoFDAE1AD7_userType = "Airports";
    autoFDAE1AD7_i = 1;
    for ( ; autoFDAE1AD7_i <= UserDataInstanceCount(autoFDAE1AD7_userType) ; autoFDAE1AD7_i += 1 ) {
        lv_uDTemp = UserDataInstance(autoFDAE1AD7_userType, autoFDAE1AD7_i);
        if ((UnitGetType(lv_airport) == UserDataGetUnit("Airports", lv_uDTemp, "Airport", 1))) {
            lv_uD = lv_uDTemp;
            break;
        }

    }
    if ((lv_uD == null)) {
        return true;
    }

    UnitSetCustomValue(lv_airport, 1, UserDataGetFixed("Airports", lv_uD, "SlotsOffsetX", 1));
    UnitSetCustomValue(lv_airport, 2, UserDataGetFixed("Airports", lv_uD, "SlotsOffsetY", 1));
    UnitSetCustomValue(lv_airport, 3, UserDataGetFixed("Airports", lv_uD, "SlotsHeight", 1));
    UnitSetCustomValue(lv_airport, 4, UserDataGetFixed("Airports", lv_uD, "SlotsFacing", 1));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_AIRPODCREATED_Init () {
    libTIBW_gt_AIRPODCREATED = TriggerCreate("libTIBW_gt_AIRPODCREATED_Func");
    TriggerAddEventUnitCreated(libTIBW_gt_AIRPODCREATED, null, null, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: AIRPORTS Map INIT
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_AIRPORTSMapINIT_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airport;
    unit lv_slotUnit;
    string lv_slotUnitType;
    string lv_uD;
    int lv_slot;

    // Automatic Variable Declarations
    string auto1447518F_userType;
    int auto1447518F_i;
    unitgroup auto69274B30_g;
    int auto69274B30_u;
    int auto7D208784_ae;
    const int auto7D208784_ai = 1;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    auto1447518F_userType = "Airports";
    auto1447518F_i = 1;
    for ( ; auto1447518F_i <= UserDataInstanceCount(auto1447518F_userType) ; auto1447518F_i += 1 ) {
        lv_uD = UserDataInstance(auto1447518F_userType, auto1447518F_i);
        auto69274B30_g = UnitGroup(UserDataGetUnit("Airports", lv_uD, "Airport", 1), c_playerAny, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
        auto69274B30_u = UnitGroupCount(auto69274B30_g, c_unitCountAll);
        for (;; auto69274B30_u -= 1) {
            lv_airport = UnitGroupUnitFromEnd(auto69274B30_g, auto69274B30_u);
            if (lv_airport == null) { break; }
            auto7D208784_ae = UserDataGetInt("Airports", lv_uD, "Slots", 1);
            lv_slot = 1;
            for ( ; ( (auto7D208784_ai >= 0 && lv_slot <= auto7D208784_ae) || (auto7D208784_ai < 0 && lv_slot >= auto7D208784_ae) ) ; lv_slot += auto7D208784_ai ) {
                lv_slotUnitType = UserDataGetUnit("Airports", lv_uD, "SlotUnit", lv_slot);
                if ((lv_slotUnitType == null)) {
                    lv_slotUnitType = "DockDummy";
                }

                libNtve_gf_CreateUnitsWithDefaultFacing(1, lv_slotUnitType, c_unitCreateIgnorePlacement, UnitGetOwner(lv_airport), UnitGetPosition(lv_airport));
                lv_slotUnit = UnitLastCreated();
                libTIBW_gf_AttachUnitModelToUnit(lv_slotUnit, lv_airport, ("Ref_Hardpoint 0" + IntToString(lv_slot)), 0.0, 0.0, 0.0, "SOp270");
                UnitSetCustomValue(lv_slotUnit, 1, UserDataGetFixed("Airports", lv_uD, "SlotsOffsetX", lv_slot));
                UnitSetCustomValue(lv_slotUnit, 2, UserDataGetFixed("Airports", lv_uD, "SlotsOffsetY", lv_slot));
                UnitSetCustomValue(lv_slotUnit, 3, UserDataGetFixed("Airports", lv_uD, "SlotsHeight", lv_slot));
                UnitSetCustomValue(lv_slotUnit, 4, UserDataGetFixed("Airports", lv_uD, "SlotsFacing", lv_slot));
                UnitBehaviorAdd(lv_slotUnit, "SuicideWithCaster", lv_airport, 1);
            }
        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_AIRPORTSMapINIT_Init () {
    libTIBW_gt_AIRPORTSMapINIT = TriggerCreate("libTIBW_gt_AIRPORTSMapINIT_Func");
    TriggerAddEventMapInit(libTIBW_gt_AIRPORTSMapINIT);
}

//--------------------------------------------------------------------------------------------------
// Trigger: MoveCommandOverrideExecute 2
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_MoveCommandOverrideExecute2_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airplane;
    unit lv_airport;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airplane = EventUnit();
    lv_airport = EventUnitTargetUnit();

    // Conditions
    if (testConds) {
        if (!((UnitAbilityExists(lv_airplane, "VS_ReturnToAirport") == true))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    if ((UnitHasBehavior2(lv_airport, "AirSupport") == true)) {
        libTIBW_gf_SearchForAirportandLockit(lv_airplane, lv_airport, 15, false);
    }
    else {
        if ((UnitHasBehavior2(lv_airport, "AircraftAirportParkingAircraftTracking") == true)) {
            libTIBW_gf_TargetAirportForLanding(lv_airplane, lv_airport);
        }

    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_MoveCommandOverrideExecute2_Init () {
    libTIBW_gt_MoveCommandOverrideExecute2 = TriggerCreate("libTIBW_gt_MoveCommandOverrideExecute2_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_MoveCommandOverrideExecute2, null, AbilityCommand("CNCAirplaneMove", 0), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: CREATED - Aircraft manufacturing completed
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CREATEDAircraftmanufacturingcompleted_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airport;
    unit lv_airplane;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airport = EventUnit();
    lv_airplane = EventUnitProgressUnit();

    // Conditions
    if (testConds) {
        if (!((UnitAbilityExists(lv_airplane, "VS_ReturnToAirport") == true))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    UnitIssueOrder(lv_airplane, Order(AbilityCommand("CNCReturnToTheAirport", 0)), c_orderQueueReplace);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CREATEDAircraftmanufacturingcompleted_Init () {
    libTIBW_gt_CREATEDAircraftmanufacturingcompleted = TriggerCreate("libTIBW_gt_CREATEDAircraftmanufacturingcompleted_Func");
    TriggerAddEventUnitTrainProgress(libTIBW_gt_CREATEDAircraftmanufacturingcompleted, null, c_unitProgressStageComplete);
    TriggerAddEventUnitConstructProgress(libTIBW_gt_CREATEDAircraftmanufacturingcompleted, null, c_unitProgressStageComplete);
}

//--------------------------------------------------------------------------------------------------
// Trigger: LANDING - Allied airfield landing
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_LANDINGAlliedairfieldlanding_Func (bool testConds, bool runActions) {
    int init_i;

    // Variable Declarations
    string lv_behavior;
    unit lv_airport;
    unit lv_airplane;
    point lv_landingpoint;
    point lv_lowerlandingpoint;
    point lv_upperlandingpoint;
    fixed lv_angledifference;
    fixed lv_turningtime;
    int lv_aircraftheading;
    string lv_airportcustomvaluestringtotal;
    string[5] lv_airportcustomvaluestringgroup;
    int lv_useslot;
    fixed lv_landingTime;
    string lv_dataTag;

    // Automatic Variable Declarations
    string autoDD2E61DE_val;

    // Variable Initialization
    lv_airplane = EventPlayerEffectUsedUnit(c_effectUnitCaster);
    lv_landingpoint = EventPlayerEffectUsedPoint(c_effectLocationTargetPoint);
    lv_airportcustomvaluestringtotal = "";
    for (init_i = 0; init_i <= 4; init_i += 1) {
        lv_airportcustomvaluestringgroup[init_i] = "";
    }
    lv_dataTag = ("TARGETAIRPORT" + IntToString(UnitGetTag(lv_airplane)));

    // Actions
    if (!runActions) {
        return true;
    }

    if ((DataTableValueExists(true, lv_dataTag) == false)) {
        libTIBW_gf_SearchForAirportandLockit(lv_airplane, null, 0, false);
        return true;
    }

    lv_airport = DataTableGetUnit(true, lv_dataTag);
    DataTableValueRemove(true, ("TARGETAIRPORT" + lv_dataTag));
    UnitBehaviorRemove(lv_airport, "LockedLandingPad", 1);
    if ((UnitHasBehavior2(lv_airport, "Docked") == true)) {
        libTIBW_gf_SearchForAirportandLockit(lv_airplane, lv_airport, 15, true);
        return true;
    }

    UnitBehaviorAdd(lv_airport, "Docked", lv_airplane, 1);
    UnitBehaviorAdd(lv_airplane, "AirportCurrentlyLanding", lv_airport, 1);
    lv_aircraftheading = FixedToInt(((-45.0 + UnitGetFacing(lv_airport)) + UnitGetCustomValue(lv_airport, 4)));
    UnitIssueOrder(lv_airplane, Order(AbilityCommand("ReloadingDummy", 0)), c_orderQueueAddToFront);
    UnitIssueOrder(lv_airplane, OrderTargetingPoint(AbilityCommand("CNCAirplaneMove", 0), lv_landingpoint), c_orderQueueAddToFront);
    Wait(0.5, c_timeGame);
    if (((UnitIsAlive(lv_airplane) == false) || (UnitIsAlive(lv_airport) == false))) {
        UnitBehaviorRemove(lv_airplane, "Airportcirclingprohibitedforaperiodoftime", 1);
        UnitBehaviorRemove(lv_airplane, "AirportCurrentlyLanding", 1);

    }
    else {
        UnitSetPosition(lv_airplane, lv_landingpoint, false);
        if ((UnitIsAlive(lv_airplane) == true) && (UnitIsAlive(lv_airport) == true)) {
            lv_angledifference = libTIBW_gf_Angledifferencebetweenunitandtargetpoint(lv_airplane, PointWithOffsetPolar(lv_landingpoint, 1.0, lv_aircraftheading));
            lv_turningtime = (lv_angledifference / UnitGetPropertyFixed(lv_airplane, c_unitPropTurnRate, c_unitPropCurrent));
            if ((lv_turningtime >= 1)) {
                lv_turningtime = 1.0;
            }

            UnitSetFacing(lv_airplane, lv_aircraftheading, lv_turningtime);
        }
        else {
            UnitBehaviorRemove(lv_airplane, "Airportcirclingprohibitedforaperiodoftime", 1);
            UnitBehaviorRemove(lv_airplane, "AirportCurrentlyLanding", 1);
            UnitBehaviorRemove(lv_airport, "Docked", 1);

        }
        if ((UnitIsAlive(lv_airplane) == true) && (UnitIsAlive(lv_airport) == true)) {
            UnitBehaviorAdd(lv_airplane, "AirportNousefortakeoff", lv_airplane, 1);
            autoDD2E61DE_val = UnitGetType(lv_airplane);
            if (autoDD2E61DE_val == "SovietBeaver") {
                lv_landingTime = 2.0;
            }
            else if (autoDD2E61DE_val == "ChinaH20StealthBomber") {
                lv_landingTime = 2.0;
            }
            else if (autoDD2E61DE_val == "AlliedCenturyBomber") {
                lv_landingTime = 1.6;
            }
            else {
                lv_landingTime = 0.75;
            }
            UnitSetHeight(lv_airplane, (UnitGetHeight(lv_airport) + UnitGetCustomValue(lv_airport, 3)), lv_landingTime);
            UnitBehaviorRemove(lv_airplane, "AirportCurrentlyLanding", 1);
            UnitBehaviorSetDuration(lv_airplane, "AirportNousefortakeoff", lv_landingTime);
            UnitBehaviorAdd(lv_airplane, "Airportlanded", lv_airplane, 1);
            UnitBehaviorAdd(lv_airplane, "Aircraftreversesurveillanceoftheairport", lv_airplane, 1);
            UnitCreateEffectUnit(lv_airport, "CNCTrackairporttoaircraft", lv_airplane);
            UnitBehaviorAdd(lv_airplane, "Notifyairportaftertakeofforexplosion", lv_airplane, 1);
            UnitBehaviorRemove(lv_airplane, "Airportslotassigned", 1);
            Wait(lv_landingTime, c_timeGame);
            UnitSetHeight(lv_airplane, (UnitGetHeight(lv_airport) + UnitGetCustomValue(lv_airport, 3)), 0.0);
        }
        else {
            UnitBehaviorRemove(lv_airplane, "AirportCurrentlyLanding", 1);
            UnitBehaviorRemove(lv_airplane, "Airportcirclingprohibitedforaperiodoftime", 1);
            UnitBehaviorRemove(lv_airport, "Docked", 1);

        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_LANDINGAlliedairfieldlanding_Init () {
    libTIBW_gt_LANDINGAlliedairfieldlanding = TriggerCreate("libTIBW_gt_LANDINGAlliedairfieldlanding_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_LANDINGAlliedairfieldlanding, c_playerAny, "DockedDummy");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Aircraft restoration slot
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Aircraftrestorationslot_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airport;
    unit lv_airplane;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airport = EventPlayerEffectUsedUnit(c_effectUnitTarget);
    lv_airplane = EventPlayerEffectUsedUnit(c_effectUnitCaster);

    // Actions
    if (!runActions) {
        return true;
    }

    UnitBehaviorRemove(lv_airport, "Docked", 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Aircraftrestorationslot_Init () {
    libTIBW_gt_Aircraftrestorationslot = TriggerCreate("libTIBW_gt_Aircraftrestorationslot_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_Aircraftrestorationslot, c_playerAny, "Vesteffectwhenaircraftdiesortakesoff");
}

//--------------------------------------------------------------------------------------------------
// Trigger: TAKEOFF - The effect of the plane after takeoff
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_TAKEOFFTheeffectoftheplaneaftertakeoff_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airport;
    unit lv_airplane;
    fixed lv_waitingtime;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airplane = EventPlayerEffectUsedUnit(c_effectUnitCaster);

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_Theplanetakesoff(lv_airplane);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_TAKEOFFTheeffectoftheplaneaftertakeoff_Init () {
    libTIBW_gt_TAKEOFFTheeffectoftheplaneaftertakeoff = TriggerCreate("libTIBW_gt_TAKEOFFTheeffectoftheplaneaftertakeoff_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_TAKEOFFTheeffectoftheplaneaftertakeoff, c_playerAny, "PlaneTakesOffC");
}

//--------------------------------------------------------------------------------------------------
// Trigger: TAKEOFF ATTACK
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_TAKEOFFATTACK_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airplane;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airplane = EventUnit();

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(lv_airplane, "Notifyairportaftertakeofforexplosion") == true))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    UnitIssueOrder(lv_airplane, Order(AbilityCommand("CNCAirportPlanetakingoff", 0)), c_orderQueueAddToFront);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_TAKEOFFATTACK_Init () {
    libTIBW_gt_TAKEOFFATTACK = TriggerCreate("libTIBW_gt_TAKEOFFATTACK_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_TAKEOFFATTACK, null, AbilityCommand("attack2", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libTIBW_gt_TAKEOFFATTACK, null, AbilityCommand("CNCAirplaneMove", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libTIBW_gt_TAKEOFFATTACK, null, AbilityCommand("CNCAirplaneMove", 1), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libTIBW_gt_TAKEOFFATTACK, null, AbilityCommand("CNCAirplaneMove", 3), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: NO AMMO - RETURN
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NOAMMORETURN_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airplane;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airplane = EventUnit();

    // Actions
    if (!runActions) {
        return true;
    }

    if ((UnitGetCustomValue(lv_airplane, 11) == 0.0)) {
        libTIBW_gf_SearchForAirportandLockit(lv_airplane, null, 0, false);
    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NOAMMORETURN_Init () {
    libTIBW_gt_NOAMMORETURN = TriggerCreate("libTIBW_gt_NOAMMORETURN_Func");
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_NOAMMORETURN, null, "NodVertigoLackOfAmmo", c_unitBehaviorChangeActivate);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_NOAMMORETURN, null, "NodBansheeLackOfAmmo", c_unitBehaviorChangeActivate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: ENABLE AUTO-RETURN
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ENABLEAUTORETURN_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airplane;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airplane = EventUnit();

    // Actions
    if (!runActions) {
        return true;
    }

    UnitSetCustomValue(lv_airplane, 11, 0.0);
    if ((ValidatorExecute("CasterHasEnergy22", lv_airplane, lv_airplane) == 0)) {
        libTIBW_gf_SearchForAirportandLockit(lv_airplane, null, 0, false);
    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ENABLEAUTORETURN_Init () {
    libTIBW_gt_ENABLEAUTORETURN = TriggerCreate("libTIBW_gt_ENABLEAUTORETURN_Func");
    TriggerAddEventUnitAbilityAutoCastChange(libTIBW_gt_ENABLEAUTORETURN, null, AbilityCommand("CNCReturnToTheAirport", 0), c_unitAbilAutoCastChangeOn, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: DISABLE AUTO-RETURN
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_DISABLEAUTORETURN_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airplane;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airplane = EventUnit();

    // Actions
    if (!runActions) {
        return true;
    }

    UnitSetCustomValue(lv_airplane, 11, 1.0);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_DISABLEAUTORETURN_Init () {
    libTIBW_gt_DISABLEAUTORETURN = TriggerCreate("libTIBW_gt_DISABLEAUTORETURN_Func");
    TriggerAddEventUnitAbilityAutoCastChange(libTIBW_gt_DISABLEAUTORETURN, null, AbilityCommand("CNCReturnToTheAirport", 0), c_unitAbilAutoCastChangeOff, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: DOCKED CANCELLED - remove lock
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_DOCKEDCANCELLEDremovelock_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airplane;
    unit lv_airport;
    string lv_dataTag;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airplane = EventUnit();
    lv_dataTag = ("TARGETAIRPORT" + IntToString(UnitGetTag(lv_airplane)));

    // Conditions
    if (testConds) {
        if (!((DataTableValueExists(true, lv_dataTag) == true))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_airport = DataTableGetUnit(true, lv_dataTag);
    DataTableValueRemove(true, ("TARGETAIRPORT" + lv_dataTag));
    UnitBehaviorRemove(lv_airport, "LockedLandingPad", 1);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_DOCKEDCANCELLEDremovelock_Init () {
    libTIBW_gt_DOCKEDCANCELLEDremovelock = TriggerCreate("libTIBW_gt_DOCKEDCANCELLEDremovelock_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_DOCKEDCANCELLEDremovelock, null, AbilityCommand("VS_ReturnToAirport", 0), c_unitAbilStageCancel, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: ABILITY - RETURN TO AIRPORT GLOBAL
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ABILITYRETURNTOAIRPORTGLOBAL_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_SearchForAirportandLockit(EventPlayerEffectUsedUnit(c_effectUnitCaster), null, 0, false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ABILITYRETURNTOAIRPORTGLOBAL_Init () {
    libTIBW_gt_ABILITYRETURNTOAIRPORTGLOBAL = TriggerCreate("libTIBW_gt_ABILITYRETURNTOAIRPORTGLOBAL_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_ABILITYRETURNTOAIRPORTGLOBAL, c_playerAny, "AirReturn");
}

//--------------------------------------------------------------------------------------------------
// Trigger: ABILITY - RETURN TO AIRPORT TARGET
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ABILITYRETURNTOAIRPORTTARGET_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_TargetAirportForLanding(EventPlayerEffectUsedUnit(c_effectUnitCaster), EventPlayerEffectUsedUnit(c_effectUnitTarget));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ABILITYRETURNTOAIRPORTTARGET_Init () {
    libTIBW_gt_ABILITYRETURNTOAIRPORTTARGET = TriggerCreate("libTIBW_gt_ABILITYRETURNTOAIRPORTTARGET_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_ABILITYRETURNTOAIRPORTTARGET, c_playerAny, "DockedDummy2");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Pioneer mobile reset cd
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Pioneermobileresetcd_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_attackingunit;
    fixed lv_angle;
    point lv_centerpoint;
    point lv_movetargetpoint;
    fixed lv_angledifference;
    fixed lv_timerequired;
    int lv_requirednumberoftimes;
    bool lv_isitleft;
    fixed lv_approximatearcdistance;

    // Automatic Variable Declarations
    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_attackingunit = EventUnit();
    lv_angledifference = libTIBW_gf_Angledifferencebetweenunitandtargetpoint(lv_attackingunit, EventUnitTargetPoint());
    if ((lv_angledifference > 45.0)) {
        UnitBehaviorAdd(lv_attackingunit, "VanguardCannotUseMovementSkills", lv_attackingunit, 1);
        UnitBehaviorSetDuration(lv_attackingunit, "VanguardCannotUseMovementSkills", 0.5);
    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Pioneermobileresetcd_Init () {
    libTIBW_gt_Pioneermobileresetcd = TriggerCreate("libTIBW_gt_Pioneermobileresetcd_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_Pioneermobileresetcd, null, AbilityCommand("CNCAirplaneMove", 0), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Vanguard Attack Surround
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_VanguardAttackSurround_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_attackingunit;
    unit lv_attackedunit;
    point lv_movetargetpoint;
    fixed lv_angle;
    point lv_centerpoint;
    int lv_numberofdelays;

    // Automatic Variable Declarations
    const int autoB2BFEA98_n = 80;
    int autoB2BFEA98_i;
    int auto93D5416E_n;
    int auto93D5416E_i;

    // Variable Initialization
    lv_numberofdelays = 80;

    // Conditions
    if (testConds) {
        if (!((UnitBehaviorCount(EventPlayerEffectUsedUnit(c_effectUnitCaster), "VanguardCannotUseMovementSkills") == 0))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_attackingunit = EventPlayerEffectUsedUnit(c_effectUnitCaster);
    lv_attackedunit = EventPlayerEffectUsedUnit(c_effectUnitTarget);
    lv_attackingunit = EventPlayerEffectUsedUnit(c_effectUnitCaster);
    lv_angle = AngleBetweenPoints(UnitGetPosition(lv_attackingunit), UnitGetPosition(lv_attackedunit));
    lv_centerpoint = PointWithOffsetPolar(UnitGetPosition(lv_attackingunit), 0.1, lv_angle);
    Wait(0.1, c_timeGame);
    for (autoB2BFEA98_i = 1; autoB2BFEA98_i <= autoB2BFEA98_n; autoB2BFEA98_i += 1) {
        if (((UnitIsAlive(lv_attackingunit) == true) && (UnitIsAlive(lv_attackedunit) == true) && (UnitBehaviorCount(lv_attackingunit, "DisablestopautoandattackinVanguardmovementcommand") == 0))) {
            lv_numberofdelays -= 1;
            lv_angle = AngleBetweenPoints(UnitGetPosition(lv_attackingunit), UnitGetPosition(lv_attackedunit));
            UnitBehaviorAdd(lv_attackingunit, "PioneerDisablesStoppingAutoCirclingA", lv_attackingunit, 1);
            UnitBehaviorSetDuration(lv_attackingunit, "PioneerDisablesStoppingAutoCirclingA", 0.125);
            lv_movetargetpoint = libTIBW_gf_SurroundAttackAcquisitionPoint(lv_attackingunit, UnitGetPosition(lv_attackedunit), 5.0);
            libTIBW_gf_Continuemovingtotargetpoint(lv_attackingunit, lv_movetargetpoint, 0.2);
            Wait(0.0625, c_timeGame);
        }
        else {
            if (((UnitIsAlive(lv_attackingunit) == true) && (UnitIsAlive(lv_attackedunit) == false) && (UnitBehaviorCount(lv_attackingunit, "DisablestopautoandattackinVanguardmovementcommand") == 0))) {
                lv_centerpoint = PointWithOffsetPolar(UnitGetPosition(lv_attackingunit), 6.0, lv_angle);
                lv_numberofdelays -= 3;
                auto93D5416E_n = lv_numberofdelays;
                for (auto93D5416E_i = 1; auto93D5416E_i <= auto93D5416E_n; auto93D5416E_i += 1) {
                    if ((UnitBehaviorCount(lv_attackingunit, "DisablestopautoandattackinVanguardmovementcommand") == 0)) {
                        libTIBW_gf_Cruiseoncewhendestroyingatarget(lv_attackingunit, lv_centerpoint);
                        Wait(0.0625, c_timeGame);
                    }
                    else {
                        break;
                    }
                }
                break;
            }
            else {
                UnitBehaviorRemove(lv_attackingunit, "PioneerDisablesStoppingAutoCirclingA", 1);
                break;
            }
        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_VanguardAttackSurround_Init () {
    libTIBW_gt_VanguardAttackSurround = TriggerCreate("libTIBW_gt_VanguardAttackSurround_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_VanguardAttackSurround, c_playerAny, "Vanguardsurroundingvesteffect");
}

//--------------------------------------------------------------------------------------------------
// Trigger: CIRCLE - Allied fighter planes automatically circle when stopped
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_CIRCLEAlliedfighterplanesautomaticallycirclewhenstopped_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_attackingunit;
    fixed lv_angle;
    point lv_centerpoint;
    point lv_movetargetpoint;

    // Automatic Variable Declarations
    // Variable Initialization

    // Conditions
    if (testConds) {
        if (!(((UnitBehaviorCount(EventPlayerEffectUsedUnit(c_effectUnitCaster), "PioneerDisablesStoppingAutoCirclingA") == 0) && (UnitBehaviorCount(EventPlayerEffectUsedUnit(c_effectUnitCaster), "DisablestopautoandattackinVanguardmovementcommand") == 0)))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_attackingunit = EventPlayerEffectUsedUnit(c_effectUnitCaster);
    lv_angle = (UnitGetFacing(lv_attackingunit) - 150.0);
    lv_centerpoint = PointWithOffsetPolar(UnitGetPosition(lv_attackingunit), 0.1, lv_angle);
    while (true) {
        if (((UnitIsAlive(lv_attackingunit) == true) && (UnitBehaviorCount(lv_attackingunit, "PioneerDisablesStoppingAutoCirclingA") == 0) && (UnitBehaviorCount(lv_attackingunit, "DisablestopautoandattackinVanguardmovementcommand") == 0) && (UnitBehaviorCount(lv_attackingunit, "StopautocirclingdisabledinPeacekeeperbomberattackcommand") == 0) && (UnitOrderCount(lv_attackingunit) == 0))) {
            libTIBW_gf_OnecruisewhilestationaryAlliedfighteraircraft(lv_attackingunit, lv_centerpoint);
            Wait(0.0625, c_timeGame);
        }
        else {
            break;
        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_CIRCLEAlliedfighterplanesautomaticallycirclewhenstopped_Init () {
    libTIBW_gt_CIRCLEAlliedfighterplanesautomaticallycirclewhenstopped = TriggerCreate("libTIBW_gt_CIRCLEAlliedfighterplanesautomaticallycirclewhenstopped_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_CIRCLEAlliedfighterplanesautomaticallycirclewhenstopped, c_playerAny, "Thehoveringvesteffectwhenthevanguardisstopped");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Maintenance bee height adjustment
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Maintenancebeeheightadjustment_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    UnitSetHeight(EventPlayerEffectUsedUnit(c_effectUnitCaster), (UnitGetHeight(EventPlayerEffectUsedUnitImpact()) + 0.6), 1.0);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Maintenancebeeheightadjustment_Init () {
    libTIBW_gt_Maintenancebeeheightadjustment = TriggerCreate("libTIBW_gt_Maintenancebeeheightadjustment_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_Maintenancebeeheightadjustment, c_playerAny, "CNCMaintenanceDroneRepair");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Maintenance bee height restored
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Maintenancebeeheightrestored_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    UnitSetHeight(EventPlayerEffectUsedUnitImpact(), 3.75, 1.5);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Maintenancebeeheightrestored_Init () {
    libTIBW_gt_Maintenancebeeheightrestored = TriggerCreate("libTIBW_gt_Maintenancebeeheightrestored_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_Maintenancebeeheightrestored, c_playerAny, "CNCRepairDroneHeightRestore");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Salvage Refund
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_SalvageRefund_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    int lv_player;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_unit = EventPlayerEffectUsedUnitLaunch();
    lv_player = UnitGetOwner(lv_unit);

    // Actions
    if (!runActions) {
        return true;
    }

    PlayerModifyPropertyInt(lv_player, c_playerPropMinerals, c_playerPropOperSetTo, (PlayerGetPropertyInt(lv_player, c_playerPropMinerals) + CeilingI((CatalogFieldValueGetAsInt(c_gameCatalogUnit, UnitGetType(lv_unit), "CostResource[" + IntToString(0) + "]", lv_player) * 0.75))));
    PlayerModifyPropertyInt(lv_player, c_playerPropVespene, c_playerPropOperSetTo, (PlayerGetPropertyInt(lv_player, c_playerPropVespene) + CeilingI((CatalogFieldValueGetAsInt(c_gameCatalogUnit, UnitGetType(lv_unit), "CostResource[" + IntToString(1) + "]", lv_player) * 0.75))));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_SalvageRefund_Init () {
    libTIBW_gt_SalvageRefund = TriggerCreate("libTIBW_gt_SalvageRefund_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_SalvageRefund, c_playerAny, "CNCSalvage");
}

//--------------------------------------------------------------------------------------------------
// Trigger: NodConstructionDiscard
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NodConstructionDiscard_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_unit;
    string lv_type;
    string lv_behaviorConstructed;
    string lv_behaviorConstruction;
    string lv_validator;
    string lv_queueValidator;
    string lv_queue;
    int lv_p;
    string lv_abilcmdString;

    // Automatic Variable Declarations
    abilcmd auto75490453_val;
    int autoEF5F97B6_ae;
    int autoEF5F97B6_var;

    // Variable Initialization
    lv_unit = EventUnit();
    lv_queue = "";
    lv_p = UnitGetOwner(lv_unit);
    lv_abilcmdString = "";

    // Actions
    if (!runActions) {
        return true;
    }

    auto75490453_val = EventUnitAbility();
    if (auto75490453_val == AbilityCommand("NodConstructionDiscardPrimary", 0)) {
        lv_queue = "Primary";
    }
    else if (auto75490453_val == AbilityCommand("NodConstructionDiscardSupport", 0)) {
        lv_queue = "Support";
    }
    else {
    }
    lv_queueValidator = (("NodConstruction" + lv_queue + "NotOccupied"));
    autoEF5F97B6_ae = CatalogFieldValueCount(c_gameCatalogAbil, "NodConstructionYardPlace", "InfoArray", c_playerAny);
    autoEF5F97B6_var = 0;
    for ( ; autoEF5F97B6_var <= autoEF5F97B6_ae; autoEF5F97B6_var += 1 ) {
        lv_type = (CatalogFieldValueGet(c_gameCatalogAbil, "NodConstructionYardPlace", "InfoArray[" + IntToString(autoEF5F97B6_var) + "].Unit", c_playerAny));
        lv_abilcmdString = ("Build" + IntToString((autoEF5F97B6_var + 1)));
        if ((lv_type != null)) {
            lv_validator = (("Build" + (lv_type)));
            lv_validator = (CatalogFieldValueGet(c_gameCatalogValidator, lv_validator, "CombineArray[" + IntToString(0) + "]", c_playerAny));
            if ((lv_validator == lv_queueValidator)) {
                lv_behaviorConstructed = (((lv_type) + "ConstructionCompleted"));
                lv_behaviorConstruction = (((lv_type) + "ConstructionInProgress"));
                if (((UnitHasBehavior2(lv_unit, lv_behaviorConstructed) == true) || (UnitHasBehavior2(lv_unit, lv_behaviorConstruction) == true))) {
                    UnitAbilityAddChargeUsed(lv_unit, "NodConstructionYardPlace", lv_abilcmdString, (1.0 - UnitAbilityGetChargeUsed(lv_unit, "NodConstructionYardPlace", lv_abilcmdString)));
                    PlayerModifyPropertyInt(lv_p, c_playerPropMinerals, c_playerPropOperSetTo, (PlayerGetPropertyInt(lv_p, c_playerPropMinerals) + CatalogFieldValueGetAsInt(c_gameCatalogUnit, lv_type, "CostResource[" + IntToString(0) + "]", c_playerAny)));
                    PlayerModifyPropertyInt(lv_p, c_playerPropVespene, c_playerPropOperSetTo, (PlayerGetPropertyInt(lv_p, c_playerPropVespene) + CatalogFieldValueGetAsInt(c_gameCatalogUnit, lv_type, "CostResource[" + IntToString(1) + "]", c_playerAny)));
                    UnitBehaviorRemove(lv_unit, lv_behaviorConstructed, 1);
                    UnitBehaviorRemove(lv_unit, lv_behaviorConstruction, 1);
                }

            }

        }

    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NodConstructionDiscard_Init () {
    libTIBW_gt_NodConstructionDiscard = TriggerCreate("libTIBW_gt_NodConstructionDiscard_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_NodConstructionDiscard, null, AbilityCommand("NodConstructionDiscardPrimary", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libTIBW_gt_NodConstructionDiscard, null, AbilityCommand("NodConstructionDiscardSupport", 0), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Construction Option selected
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ConstructionOptionselected_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_p;
    abilcmd lv_abilcmd;
    string lv_abil;
    int lv_index;
    unit lv_unit;
    string lv_type;
    int lv_owner;
    string lv_validator;
    string lv_effect;
    fixed lv_time;
    string lv_abilcmdString;
    string lv_behavior;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_p = EventPlayer();
    lv_abilcmd = EventTargetModeAbilCmd();
    lv_abil = AbilityCommandGetAbility(lv_abilcmd);
    lv_index = AbilityCommandGetCommand(lv_abilcmd);
    lv_owner = EventPlayer();
    lv_abilcmdString = ("Build" + IntToString((lv_index + 1)));

    // Conditions
    if (testConds) {
        if (!((lv_abil == "NodConstructionYardBuild"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    UISetTargetingOrder(PlayerGroupSingle(lv_p), UnitSubgroupSelected(lv_p), null, true);
    lv_unit = UnitGroupUnit(UnitSubgroupSelected(lv_p), 1);
    lv_type = (CatalogFieldValueGet(c_gameCatalogAbil, "NodConstructionYardPlace", "InfoArray[" + IntToString(lv_index) + "].Unit", lv_owner));
    lv_owner = UnitGetOwner(lv_unit);
    lv_validator = (("Build" + (lv_type)));
    if ((ValidatorExecute(lv_validator, lv_unit, lv_unit) == 0)) {
        lv_time = libNtve_gf_CatalogFieldValueGetAsReal(c_gameCatalogAbil, "NodConstructionYardBuild", "InfoArray[" + IntToString(lv_index) + "].Time", c_playerAny);
        UnitAbilityAddChargeRegenRemaining(lv_unit, "NodConstructionYardPlace", lv_abilcmdString, (lv_time - UnitAbilityGetChargeRegen(lv_unit, "NodConstructionYardPlace", lv_abilcmdString)));
        UnitAbilityAddChargeUsed(lv_unit, "NodConstructionYardPlace", lv_abilcmdString, (1.0 - UnitAbilityGetChargeUsed(lv_unit, "NodConstructionYardPlace", lv_abilcmdString)));
        lv_behavior = (((lv_type) + "ConstructionInProgress"));
        UnitBehaviorAdd(lv_unit, lv_behavior, lv_unit, 1);
        UnitBehaviorSetDuration(lv_unit, lv_behavior, lv_time);
        PlayerModifyPropertyInt(lv_owner, c_playerPropMinerals, c_playerPropOperSetTo, (PlayerGetPropertyInt(lv_owner, c_playerPropMinerals) - CatalogFieldValueGetAsInt(c_gameCatalogUnit, lv_type, "CostResource[" + IntToString(0) + "]", c_playerAny)));
        PlayerModifyPropertyInt(lv_owner, c_playerPropVespene, c_playerPropOperSetTo, (PlayerGetPropertyInt(lv_owner, c_playerPropVespene) - CatalogFieldValueGetAsInt(c_gameCatalogUnit, lv_type, "CostResource[" + IntToString(1) + "]", c_playerAny)));
    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ConstructionOptionselected_Init () {
    libTIBW_gt_ConstructionOptionselected = TriggerCreate("libTIBW_gt_ConstructionOptionselected_Func");
    TriggerAddEventTargetModeUpdate(libTIBW_gt_ConstructionOptionselected, c_playerAny, null, c_targetModeStateOn);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Shadow Glide
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ShadowGlide_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airplane;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airplane = EventUnit();

    // Conditions
    if (testConds) {
        if (!((UnitAbilityExists(lv_airplane, "CNCAirplaneMove") == false))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    Wait(0.2, c_timeGame);
    UnitAbilityAdd(lv_airplane, "CNCAirplaneMove");
    UnitAbilityAdd(lv_airplane, "attack2");
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ShadowGlide_Init () {
    libTIBW_gt_ShadowGlide = TriggerCreate("libTIBW_gt_ShadowGlide_Func");
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_ShadowGlide, null, "VanguardIsCircling", c_unitBehaviorChangeIncrease);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Shadow Landing
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ShadowLanding_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airplane;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airplane = EventUnit();

    // Conditions
    if (testConds) {
        if (!((UnitAbilityExists(lv_airplane, "CNCAirplaneMove") == false))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    Wait(0.05, c_timeGame);
    UnitAbilityRemove(lv_airplane, "CNCAirplaneMove");
    UnitAbilityRemove(lv_airplane, "attack2");
    UnitAbilityAdd(lv_airplane, "move");
    UnitAbilityAdd(lv_airplane, "attack");
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ShadowLanding_Init () {
    libTIBW_gt_ShadowLanding = TriggerCreate("libTIBW_gt_ShadowLanding_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_ShadowLanding, null, AbilityCommand("NodShadowLand", 0), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: NodDecoyArmyTargeting
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NodDecoyArmyTargeting_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_player;
    unitgroup lv_units;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_player = UnitGetOwner(EventUnit());
    lv_units = UnitGroupEmpty();

    // Actions
    if (!runActions) {
        return true;
    }

    UnitBehaviorAdd(EventUnit(), "NodDecoyArmyTargeting", EventUnit(), 1);
    libNtve_gf_CreateUnitsWithDefaultFacing(1, "NodDecoyArmyMarker", 0, UnitGetOwner(EventUnit()), EventUnitTargetPoint());
    UnitGroupAdd(libTIBW_gv_markTarget[EventPlayer()], UnitLastCreated());
    UnitGroupAdd(libTIBW_gv_decoyCaster[EventPlayer()], EventUnit());
    UISetTargetingOrder(PlayerGroupSingle(EventPlayer()), libTIBW_gv_decoyCaster[EventPlayer()], OrderTargetingPoint(AbilityCommand("NodDecoyArmyExecute", 0), EventUnitTargetPoint()), true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NodDecoyArmyTargeting_Init () {
    libTIBW_gt_NodDecoyArmyTargeting = TriggerCreate("libTIBW_gt_NodDecoyArmyTargeting_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_NodDecoyArmyTargeting, null, AbilityCommand("NodDecoyArmyTargeting", 0), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: NodDecoyArmyExecute
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NodDecoyArmyExecute_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_player;
    unit lv_mark;
    unit lv_caster;

    // Automatic Variable Declarations
    unitgroup auto7BF4AF6D_g;
    int auto7BF4AF6D_u;
    unit auto7BF4AF6D_var;

    // Variable Initialization
    lv_player = UnitGetOwner(EventUnit());
    lv_mark = UnitGroupUnit(libTIBW_gv_markTarget[EventPlayer()], 1);
    lv_caster = UnitGroupUnit(libTIBW_gv_decoyCaster[EventPlayer()], 1);

    // Actions
    if (!runActions) {
        return true;
    }

    auto7BF4AF6D_g = UnitGroup(null, lv_player, RegionCircle(UnitGetPosition(lv_mark), 2.4), UnitFilter(0, 0, (1 << c_targetFilterAir) | (1 << c_targetFilterStructure) | (1 << c_targetFilterMissile) | (1 << c_targetFilterItem) | (1 << c_targetFilterUncommandable), (1 << (c_targetFilterStasis - 32)) | (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32)) | (1 << (c_targetFilterSummoned - 32))), 0);
    auto7BF4AF6D_u = UnitGroupCount(auto7BF4AF6D_g, c_unitCountAll);
    for (;; auto7BF4AF6D_u -= 1) {
        auto7BF4AF6D_var = UnitGroupUnitFromEnd(auto7BF4AF6D_g, auto7BF4AF6D_u);
        if (auto7BF4AF6D_var == null) { break; }
        if ((auto7BF4AF6D_var != lv_mark)) {
            libNtve_gf_CreateUnitsWithDefaultFacing(1, UnitGetType(auto7BF4AF6D_var), 0, lv_player, EventUnitTargetPoint());
            UnitBehaviorAdd(UnitLastCreated(), "NodDecoyBehavior", UnitLastCreated(), 1);
            UnitBehaviorAdd(UnitLastCreated(), "NodDecoyTimedLife", UnitLastCreated(), 1);
        }

    }
    UnitRemove(lv_mark);
    UnitBehaviorRemove(lv_caster, "NodDecoyArmyTargeting", 1);
    UnitGroupRemove(libTIBW_gv_markTarget[EventPlayer()], lv_mark);
    UnitGroupRemove(libTIBW_gv_decoyCaster[EventPlayer()], lv_caster);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NodDecoyArmyExecute_Init () {
    libTIBW_gt_NodDecoyArmyExecute = TriggerCreate("libTIBW_gt_NodDecoyArmyExecute_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_NodDecoyArmyExecute, null, AbilityCommand("NodDecoyArmyExecute", 0), c_unitAbilStageComplete, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: NodDecoyArmyExecute Cancel
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NodDecoyArmyExecuteCancel_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_mark;
    unit lv_caster;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_mark = UnitGroupUnit(libTIBW_gv_markTarget[EventPlayer()], 1);
    lv_caster = UnitGroupUnit(libTIBW_gv_decoyCaster[EventPlayer()], 1);

    // Actions
    if (!runActions) {
        return true;
    }

    UnitRemove(lv_mark);
    UnitBehaviorRemove(lv_caster, "NodDecoyArmyTargeting", 1);
    UnitGroupRemove(libTIBW_gv_markTarget[EventPlayer()], lv_mark);
    UnitGroupRemove(libTIBW_gv_decoyCaster[EventPlayer()], lv_caster);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NodDecoyArmyExecuteCancel_Init () {
    libTIBW_gt_NodDecoyArmyExecuteCancel = TriggerCreate("libTIBW_gt_NodDecoyArmyExecuteCancel_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_NodDecoyArmyExecuteCancel, null, AbilityCommand("NodDecoyArmyExecute", 0), c_unitAbilStageComplete, false);
    TriggerAddEventTargetModeUpdate(libTIBW_gt_NodDecoyArmyExecuteCancel, c_playerAny, AbilityCommand("NodDecoyArmyExecute", 0), c_targetModeStateOff);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Pushing
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Pushing_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_caster;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_caster = EventUnit();

    // Conditions
    if (testConds) {
        if (!(((UnitGetType(lv_caster) == "NodReckoner") || (UnitGetType(lv_caster) == "NodScorpionTank")))) {
            return false;
        }

        if (!((UnitHasBehavior2(lv_caster, "NodDozerBlades") == true))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    UnitCreateEffectUnit(lv_caster, "NodDozerBladesEnableIO", lv_caster);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Pushing_Init () {
    libTIBW_gt_Pushing = TriggerCreate("libTIBW_gt_Pushing_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_Pushing, null, AbilityCommand("move", 0), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Pushing End
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_PushingEnd_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_caster;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_caster = EventUnit();

    // Conditions
    if (testConds) {
        if (!(((UnitGetType(lv_caster) == "NodReckonerPushing") || (UnitGetType(lv_caster) == "NodScorpionTankPushing")))) {
            return false;
        }

        if (!((UnitHasBehavior2(lv_caster, "NodDozerBlades") == true))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    UnitCreateEffectUnit(lv_caster, "NodDozerBladesDisableIO", lv_caster);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_PushingEnd_Init () {
    libTIBW_gt_PushingEnd = TriggerCreate("libTIBW_gt_PushingEnd_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_PushingEnd, null, AbilityCommand("move", 0), c_unitAbilStageComplete, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Hub Build
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_HubBuild_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_caster;
    unit lv_target;
    int lv_player;
    point lv_targetPosition;
    point lv_casterPosition;
    unit lv_cable;
    fixed lv_length;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_caster = EventUnit();
    lv_target = EventUnitCreatedUnit();
    lv_player = UnitGetOwner(lv_caster);
    lv_targetPosition = UnitGetPosition(lv_target);
    lv_casterPosition = UnitGetPosition(lv_caster);
    lv_length = DistanceBetweenPoints(lv_targetPosition, lv_casterPosition);

    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_UnitCreateFacingPoint(1, "NodTurretsHubCable", c_unitCreateIgnorePlacement, lv_player, MidPoint(lv_targetPosition, lv_casterPosition), lv_targetPosition);
    lv_cable = UnitLastCreated();
    UnitSetScale(lv_cable, 80.0, (55.0 * (lv_length / 5.0)), 80.0);
    UnitBehaviorAdd(lv_target, "NodTurretsHubSuicideWithCaster", lv_caster, 1);
    UnitBehaviorAdd(lv_target, "KillsToCaster", lv_caster, 1);
    UnitBehaviorAdd(lv_cable, "NodTurretsHubSuicideWithCaster", lv_caster, 1);
    UnitCreateEffectUnit(lv_caster, "NodTurretsHubTurretsTrackerATU", lv_target);
    UnitCreateEffectUnit(lv_caster, "NodTurretsHubCasterTrackerATU", lv_target);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_HubBuild_Init () {
    libTIBW_gt_HubBuild = TriggerCreate("libTIBW_gt_HubBuild_Func");
    TriggerAddEventUnitCreated(libTIBW_gt_HubBuild, null, "NodTurretsHubBuild", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: NodTurretReconstructSet
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NodTurretReconstructSet_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_turret;
    string lv_type;
    unit lv_caster;
    unit lv_newTurret;

    // Automatic Variable Declarations
    string auto97E4E457_val;

    // Variable Initialization
    lv_turret = EventUnit();
    lv_type = UnitGetType(lv_turret);

    // Conditions
    if (testConds) {
        if (!(((lv_type == "NodLaserTurret") || (lv_type == "NodMissileTurret") || (lv_type == "NodShredderTurret")))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    lv_caster = UnitGroupUnit(UnitGetTrackedUnitGroup(lv_turret, "NodTurretsHubCasterTracker"), 1);
    if ((UnitIsAlive(lv_caster) == true)) {
        auto97E4E457_val = lv_type;
        if (auto97E4E457_val == "NodLaserTurret") {
            UnitCreate(1, "NodLaserTurretReconstruct", c_unitCreateIgnorePlacement, UnitGetOwner(lv_turret), UnitGetPosition(lv_turret), 270.0);
        }
        else if (auto97E4E457_val == "NodMissileTurret") {
            UnitCreate(1, "NodMissileTurretReconstruct", c_unitCreateIgnorePlacement, UnitGetOwner(lv_turret), UnitGetPosition(lv_turret), 270.0);
        }
        else if (auto97E4E457_val == "NodShredderTurret") {
            UnitCreate(1, "NodShredderTurretReconstruct", c_unitCreateIgnorePlacement, UnitGetOwner(lv_turret), UnitGetPosition(lv_turret), 270.0);
        }
        else {
        }
        lv_newTurret = UnitLastCreated();
        UnitBehaviorAdd(lv_newTurret, "NodTurretsHubSuicideWithCaster", lv_caster, 1);
        UnitBehaviorAdd(lv_newTurret, "KillsToCaster", lv_caster, 1);
        UnitCreateEffectUnit(lv_caster, "NodTurretsHubTurretsTrackerATU", lv_newTurret);
        UnitCreateEffectUnit(lv_caster, "NodTurretsHubCasterTrackerATU", lv_newTurret);
    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NodTurretReconstructSet_Init () {
    libTIBW_gt_NodTurretReconstructSet = TriggerCreate("libTIBW_gt_NodTurretReconstructSet_Func");
    TriggerAddEventUnitDied(libTIBW_gt_NodTurretReconstructSet, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: NodBeamCannon DistantAttack Delay
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NodBeamCannonDistantAttackDelay_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_caster;
    unit lv_target;
    int lv_player;
    point lv_targetPosition;
    point lv_reflectorPosition;
    unit lv_reflector;
    unit lv_venom;
    unit lv_beam;
    unitgroup lv_vENOMS_temp;
    unitgroup lv_vENOMS_NearTarget;
    unitgroup lv_d;
    unitgroup lv_a;
    unitgroup lv_b;
    unitgroup lv_vENOMS_All;
    unitgroup lv_beamsAttackingTarget;
    unitgroup lv_path;
    bool lv_found;

    // Automatic Variable Declarations
    unitgroup auto1F0C466B_g;
    int auto1F0C466B_u;
    unitgroup auto3B650F33_g;
    int auto3B650F33_u;
    unitgroup autoFBE23D82_g;
    int autoFBE23D82_u;
    unitgroup auto2CDB22FD_g;
    int auto2CDB22FD_u;
    unitgroup auto7447E9A4_g;
    int auto7447E9A4_u;
    unitgroup auto4096B377_g;
    int auto4096B377_u;
    unitgroup autoDE9DBA81_g;
    int autoDE9DBA81_u;
    int autoA8530F85_ae;
    int autoA8530F85_var;
    int auto8BEC13BF_ae;
    int auto8BEC13BF_var;

    // Variable Initialization
    lv_caster = EventPlayerEffectUsedUnit(c_effectUnitCaster);
    lv_target = EventPlayerEffectUsedUnit(c_effectUnitTarget);
    lv_player = EventPlayerEffectUsedUnitOwner(c_effectPlayerOrigin);
    lv_targetPosition = UnitGetPosition(lv_target);
    lv_reflectorPosition = UnitGetPosition(lv_caster);
    lv_reflector = lv_caster;
    lv_vENOMS_temp = UnitGroupEmpty();
    lv_vENOMS_NearTarget = UnitGroupEmpty();
    lv_d = UnitGroupEmpty();
    lv_a = UnitGroupEmpty();
    lv_b = UnitGroupEmpty();
    lv_vENOMS_All = UnitGroupEmpty();
    lv_beamsAttackingTarget = UnitGroupEmpty();
    lv_path = UnitGroupEmpty();

    // Actions
    if (!runActions) {
        return true;
    }

    auto1F0C466B_g = UnitGroup("NodBeamCannon", lv_player, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    auto1F0C466B_u = UnitGroupCount(auto1F0C466B_g, c_unitCountAll);
    for (;; auto1F0C466B_u -= 1) {
        lv_beam = UnitGroupUnitFromEnd(auto1F0C466B_g, auto1F0C466B_u);
        if (lv_beam == null) { break; }
        lv_path = UnitGetTrackedUnitGroup(lv_beam, "NodBeamCannonPathTracker");
        if ((OrderGetTargetUnit(UnitOrder(lv_beam, 0)) == lv_target) && (UnitGroupCount(lv_path, c_unitCountAlive) > 0) && (UnitGroupCount(UnitGetTrackedUnitGroup(UnitGroupUnit(lv_path, UnitGroupCount(lv_path, c_unitCountAlive)), "NodBeamCannonCasterTracker"), c_unitCountAlive) < 10)) {
            UnitGroupAdd(lv_b, UnitGroupUnit(lv_path, UnitGroupCount(lv_path, c_unitCountAlive)));
            auto3B650F33_g = lv_path;
            auto3B650F33_u = UnitGroupCount(auto3B650F33_g, c_unitCountAll);
            for (;; auto3B650F33_u -= 1) {
                lv_venom = UnitGroupUnitFromEnd(auto3B650F33_g, auto3B650F33_u);
                if (lv_venom == null) { break; }
                UnitGroupAdd(lv_vENOMS_All, lv_venom);
                UnitGroupAdd(lv_a, lv_venom);
            }
        }

    }
    lv_path = UnitGroupEmpty();
    autoFBE23D82_g = UnitGroup("NodVenom", lv_player, RegionEntireMap(), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    autoFBE23D82_u = UnitGroupCount(autoFBE23D82_g, c_unitCountAll);
    for (;; autoFBE23D82_u -= 1) {
        lv_venom = UnitGroupUnitFromEnd(autoFBE23D82_g, autoFBE23D82_u);
        if (lv_venom == null) { break; }
        UnitGroupAdd(lv_vENOMS_All, lv_venom);
    }
    auto2CDB22FD_g = lv_vENOMS_All;
    auto2CDB22FD_u = UnitGroupCount(auto2CDB22FD_g, c_unitCountAll);
    for (;; auto2CDB22FD_u -= 1) {
        lv_venom = UnitGroupUnitFromEnd(auto2CDB22FD_g, auto2CDB22FD_u);
        if (lv_venom == null) { break; }
        if ((DistanceBetweenPoints(lv_targetPosition, UnitGetPosition(lv_venom)) < 11.0)) {
            UnitGroupAdd(lv_vENOMS_NearTarget, lv_venom);
        }

    }
    do {
        lv_vENOMS_temp = UnitGroupEmpty();
        auto7447E9A4_g = lv_vENOMS_All;
        auto7447E9A4_u = UnitGroupCount(auto7447E9A4_g, c_unitCountAll);
        for (;; auto7447E9A4_u -= 1) {
            lv_venom = UnitGroupUnitFromEnd(auto7447E9A4_g, auto7447E9A4_u);
            if (lv_venom == null) { break; }
            if ((DistanceBetweenPoints(lv_reflectorPosition, UnitGetPosition(lv_venom)) < 11.0)) {
                UnitGroupAdd(lv_vENOMS_temp, lv_venom);
            }

        }
        if ((UnitGroupCount(lv_vENOMS_temp, c_unitCountAlive) == 0)) {
            if ((UnitGroupCount(lv_path, c_unitCountAlive) > 1)) {
                UnitGroupRemove(lv_path, lv_reflector);
                lv_reflector = UnitGroupUnit(lv_path, UnitGroupCount(lv_path, c_unitCountAlive));
            }
            else {
                break;
            }
        }
        else {
            lv_d = UnitGroupEmpty();
            auto4096B377_g = lv_vENOMS_temp;
            auto4096B377_u = UnitGroupCount(auto4096B377_g, c_unitCountAll);
            for (;; auto4096B377_u -= 1) {
                lv_venom = UnitGroupUnitFromEnd(auto4096B377_g, auto4096B377_u);
                if (lv_venom == null) { break; }
                if ((UnitGroupHasUnit(lv_vENOMS_NearTarget, lv_venom) == true)) {
                    UnitGroupAdd(lv_d, lv_venom);
                }

            }
            if ((UnitGroupCount(lv_d, c_unitCountAlive) > 0)) {
                while ((UnitGroupCount(lv_d, c_unitCountAlive) > 1)) {
                    UnitGroupRemove(lv_d, UnitGroupClosestToPoint(lv_d, UnitGetPosition(lv_target)));
                }
                lv_reflector = UnitGroupUnit(lv_d, 1);
            }
            else {
                lv_reflector = UnitGroupClosestToPoint(lv_vENOMS_temp, UnitGetPosition(lv_target));
            }
            lv_reflectorPosition = UnitGetPosition(lv_reflector);
            UnitGroupAdd(lv_path, lv_reflector);
            UnitGroupRemove(lv_vENOMS_All, lv_reflector);
        }
        if ((DistanceBetweenPoints(lv_targetPosition, lv_reflectorPosition) <= 11.0)) {
            lv_found = true;
        }

    }while ((DistanceBetweenPoints(lv_targetPosition, lv_reflectorPosition) > 11.0));
    if ((lv_found == true) && (UnitGroupCount(lv_path, c_unitCountAlive) > 0)) {
        autoDE9DBA81_g = lv_path;
        autoDE9DBA81_u = UnitGroupCount(autoDE9DBA81_g, c_unitCountAll);
        for (;; autoDE9DBA81_u -= 1) {
            lv_venom = UnitGroupUnitFromEnd(autoDE9DBA81_g, autoDE9DBA81_u);
            if (lv_venom == null) { break; }
            UnitCreateEffectUnit(lv_caster, "NodBeamCannonCasterTrackerATU", lv_venom);
            UnitCreateEffectUnit(lv_caster, "NodBeamCannonPathTrackerATU", lv_venom);
        }
        UnitCreateEffectUnit(lv_caster, "NodBeamCannonReflectorTrackerATU", UnitGroupUnit(lv_path, 1));
        autoA8530F85_ae = UnitGroupCount(lv_path, c_unitCountAlive);
        autoA8530F85_var = 2;
        for ( ; autoA8530F85_var <= autoA8530F85_ae; autoA8530F85_var += 1 ) {
            lv_venom = UnitGroupUnit(lv_path, autoA8530F85_var);
            UnitCreateEffectUnit(UnitGroupUnit(lv_path, (autoA8530F85_var - 1)), "NodBeamCannonReflectorTrackerATU", lv_venom);
        }
        UnitCreateEffectUnit(lv_caster, "NodBeamCannonTargetTrackerATU", UnitGroupUnit(lv_path, 1));
        auto8BEC13BF_ae = (UnitGroupCount(lv_path, c_unitCountAlive) - 1);
        auto8BEC13BF_var = 1;
        for ( ; auto8BEC13BF_var <= auto8BEC13BF_ae; auto8BEC13BF_var += 1 ) {
            lv_venom = UnitGroupUnit(lv_path, auto8BEC13BF_var);
            UnitCreateEffectUnit(lv_venom, "NodBeamCannonTargetTrackerATU", UnitGroupUnit(lv_path, (auto8BEC13BF_var + 1)));
            if ((UnitGroupHasUnit(lv_a, lv_venom) == false)) {
                UnitIssueOrder(lv_venom, Order(AbilityCommand("stop", 0)), c_orderQueueAddToFront);
                UnitIssueOrder(lv_venom, OrderTargetingUnit(AbilityCommand("NodBeamCannonDistantAttackStage2", 0), UnitGroupUnit(lv_path, (auto8BEC13BF_var + 1))), c_orderQueueAddToFront);
            }

        }
        lv_venom = UnitGroupUnit(lv_path, UnitGroupCount(lv_path, c_unitCountAlive));
        if ((UnitGroupHasUnit(lv_b, lv_venom) == false)) {
            UnitIssueOrder(lv_venom, Order(AbilityCommand("stop", 0)), c_orderQueueAddToFront);
            UnitBehaviorAdd(lv_venom, "KillsToCaster", lv_caster, 1);
            UnitBehaviorAdd(lv_caster, "NodBeamCannonIsPrimary", lv_caster, 1);
            UnitIssueOrder(lv_venom, OrderTargetingUnit(AbilityCommand("NodBeamCannonDistantAttackStage3", 0), lv_target), c_orderQueueAddToFront);
        }

    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NodBeamCannonDistantAttackDelay_Init () {
    libTIBW_gt_NodBeamCannonDistantAttackDelay = TriggerCreate("libTIBW_gt_NodBeamCannonDistantAttackDelay_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_NodBeamCannonDistantAttackDelay, c_playerAny, "NodBeamCannonDistantAttackDelay");
}

//--------------------------------------------------------------------------------------------------
// Trigger: NodBeamCannon Weapon Delay
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NodBeamCannonWeaponDelay_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_caster;
    unit lv_target;
    int lv_player;
    unit lv_tank;
    unit lv_primaryTank;
    unit lv_focus;
    unit lv_focusIter;
    unitgroup lv_tanks;

    // Automatic Variable Declarations
    unitgroup auto04F4429C_g;
    int auto04F4429C_u;
    unitgroup auto557B50DF_g;
    int auto557B50DF_u;
    unitgroup auto3A59EBB8_g;
    int auto3A59EBB8_u;

    // Variable Initialization
    lv_caster = EventPlayerEffectUsedUnit(c_effectUnitCaster);
    lv_target = EventPlayerEffectUsedUnit(c_effectUnitTarget);
    lv_player = EventPlayerEffectUsedUnitOwner(c_effectPlayerOrigin);
    lv_tanks = UnitGroupEmpty();

    // Conditions
    if (testConds) {
        if (!((UnitGetType(lv_caster) == "NodBeamCannon"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    auto04F4429C_g = UnitGroup("NodBeamCannonFocus", lv_player, RegionCircle(UnitGetPosition(lv_target), 16.0), UnitFilter(0, 0, 0, (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    auto04F4429C_u = UnitGroupCount(auto04F4429C_g, c_unitCountAll);
    for (;; auto04F4429C_u -= 1) {
        lv_focusIter = UnitGroupUnitFromEnd(auto04F4429C_g, auto04F4429C_u);
        if (lv_focusIter == null) { break; }
        if ((OrderGetTargetUnit(UnitOrder(lv_focusIter, 0)) == lv_target)) {
            lv_focus = lv_focusIter;
        }

    }
    auto557B50DF_g = UnitGroup("NodBeamCannon", lv_player, RegionCircle(UnitGetPosition(lv_target), 16.0), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    auto557B50DF_u = UnitGroupCount(auto557B50DF_g, c_unitCountAll);
    for (;; auto557B50DF_u -= 1) {
        lv_tank = UnitGroupUnitFromEnd(auto557B50DF_g, auto557B50DF_u);
        if (lv_tank == null) { break; }
        if ((OrderGetTargetUnit(UnitOrder(lv_tank, 0)) == lv_target) && (UnitHasBehavior2(lv_tank, "NodBeamCannonIsDistantAttacking") == false) && (lv_tank != lv_caster)) {
            UnitGroupAdd(lv_tanks, lv_tank);
        }

    }
    if ((UnitGroupCount(lv_tanks, c_unitCountAlive) == 0)) {
        return true;
    }

    if ((lv_focus == null)) {
        lv_primaryTank = UnitGroupUnit(lv_tanks, 1);
        UnitGroupAdd(lv_tanks, lv_caster);
        libNtve_gf_UnitCreateFacingPoint(1, "NodBeamCannonFocus", 0, lv_player, MidPoint(UnitGroupCenterOfGroup(lv_tanks), UnitGetPosition(lv_target)), UnitGetPosition(lv_target));
        lv_focus = UnitLastCreated();
        UnitBehaviorAdd(lv_focus, "KillsToCaster", lv_primaryTank, 1);
        UnitBehaviorAdd(lv_primaryTank, "NodBeamCannonIsPrimary", lv_primaryTank, 1);
        UnitIssueOrder(lv_focus, OrderTargetingUnit(AbilityCommand("attack", 0), lv_target), c_orderQueueReplace);
        auto3A59EBB8_g = lv_tanks;
        auto3A59EBB8_u = UnitGroupCount(auto3A59EBB8_g, c_unitCountAll);
        for (;; auto3A59EBB8_u -= 1) {
            lv_tank = UnitGroupUnitFromEnd(auto3A59EBB8_g, auto3A59EBB8_u);
            if (lv_tank == null) { break; }
            UnitCreateEffectUnit(lv_tank, "NodBeamCannonFocusTrackerATU", lv_focus);
            UnitCreateEffectUnit(lv_tank, "NodBeamCannonCasterTrackerATU", lv_focus);
        }
        while ((UnitIsAlive(lv_focus) == true)) {
            Wait(0.06, c_timeGame);
            UnitSetPosition(lv_focus, MidPoint(UnitGroupCenterOfGroup(UnitGetTrackedUnitGroup(lv_focus, "NodBeamCannonCasterTracker")), UnitGetPosition(lv_target)), true);
        }
    }
    else {
        UnitGroupAdd(lv_tanks, lv_caster);
        UnitSetPosition(lv_focus, MidPoint(UnitGroupCenterOfGroup(lv_tanks), UnitGetPosition(lv_target)), false);
        UnitCreateEffectUnit(lv_caster, "NodBeamCannonFocusTrackerATU", lv_focus);
        UnitCreateEffectUnit(lv_caster, "NodBeamCannonCasterTrackerATU", lv_focus);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NodBeamCannonWeaponDelay_Init () {
    libTIBW_gt_NodBeamCannonWeaponDelay = TriggerCreate("libTIBW_gt_NodBeamCannonWeaponDelay_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_NodBeamCannonWeaponDelay, c_playerAny, "NodBeamCannonWeaponDamageDelay");
}

//--------------------------------------------------------------------------------------------------
// Trigger: SeedTiberium
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_SeedTiberium_Func (bool testConds, bool runActions) {
    // Variable Declarations
    point lv_p;
    fixed lv_cx;
    fixed lv_cy;
    int lv_r1;
    int lv_r2;
    int lv_r3;
    int lv_r4;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_p = EventPlayerEffectUsedPoint(c_effectLocationTargetPoint);
    lv_cx = Floor(PointGetX(lv_p));
    lv_cy = (Floor(PointGetY(lv_p)) + 0.5);
    lv_r1 = RandomInt(1, 3);
    lv_r2 = RandomInt(1, 3);
    lv_r3 = RandomInt(1, 3);
    lv_r4 = RandomInt(1, 3);

    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf_TiberiumSpawn(Point((lv_cx + 1), lv_cy), 5);
    libTIBW_gf_TiberiumSpawn(Point((lv_cx - 1), lv_cy), 5);
    libTIBW_gf_TiberiumSpawn(Point(lv_cx, (lv_cy + 1)), 5);
    libTIBW_gf_TiberiumSpawn(Point(lv_cx, (lv_cy - 1)), 5);
    libTIBW_gf_TiberiumSpawn(Point(lv_cx, lv_cy), 10);
    if ((lv_r1 == 1)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx + 1), (lv_cy + 1)), 5);
    }
    else if ((lv_r1 == 2)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx + 1), (lv_cy + 2)), 5);
    }
    else if ((lv_r1 == 3)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx + 2), (lv_cy + 1)), 5);
    }
    if ((lv_r2 == 1)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx - 1), (lv_cy + 1)), 5);
    }
    else if ((lv_r2 == 2)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx - 1), (lv_cy + 2)), 5);
    }
    else if ((lv_r2 == 3)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx - 2), (lv_cy + 1)), 5);
    }
    if ((lv_r3 == 1)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx - 1), (lv_cy - 1)), 5);
    }
    else if ((lv_r3 == 2)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx - 1), (lv_cy - 2)), 5);
    }
    else if ((lv_r3 == 3)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx - 2), (lv_cy - 1)), 5);
    }
    if ((lv_r4 == 1)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx + 1), (lv_cy - 1)), 5);
    }
    else if ((lv_r4 == 2)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx + 1), (lv_cy - 2)), 5);
    }
    else if ((lv_r4 == 3)) {
        libTIBW_gf_TiberiumSpawn(Point((lv_cx + 2), (lv_cy - 1)), 5);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_SeedTiberium_Init () {
    libTIBW_gt_SeedTiberium = TriggerCreate("libTIBW_gt_SeedTiberium_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_SeedTiberium, c_playerAny, "NodSeedTiberiumImpact");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Nuke
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Nuke_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    MinimapPing(PlayerGroupAll(), EventPlayerEffectUsedPoint(c_effectLocationTargetPoint), 10.0, Color(100.00, 0.00, 0.00));
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Nuke_Init () {
    libTIBW_gt_Nuke = TriggerCreate("libTIBW_gt_Nuke_Func");
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_Nuke, 1, "NodInvertWarheadAttackAB");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Attach Disruption Pods
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_AttachDisruptionPods_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_pod;
    string lv_behavior;
    unit lv_target;

    // Automatic Variable Declarations
    unitgroup autoC6D70788_g;
    int autoC6D70788_u;
    unit autoC6D70788_var;

    // Variable Initialization
    lv_behavior = EventUnitBehavior();
    lv_target = EventUnit();

    // Actions
    if (!runActions) {
        return true;
    }

    autoC6D70788_g = UnitGroup("NodDisruptionPod", c_playerAny, RegionCircle(UnitGetPosition(lv_target), 5.0), UnitFilter(0, 0, (1 << c_targetFilterMissile), (1 << (c_targetFilterDead - 32)) | (1 << (c_targetFilterHidden - 32))), 0);
    autoC6D70788_u = UnitGroupCount(autoC6D70788_g, c_unitCountAll);
    for (;; autoC6D70788_u -= 1) {
        autoC6D70788_var = UnitGroupUnitFromEnd(autoC6D70788_g, autoC6D70788_u);
        if (autoC6D70788_var == null) { break; }
        lv_pod = autoC6D70788_var;
        if ((UnitHasBehavior2(lv_pod, "NodDisruptionPodAttached") == true)) {
            continue;
        }

        libTIBW_gf_AttachUnitModelToUnit(lv_pod, lv_target, "Ref_Overhead", 0.0, 0.0, 0.0, "");
        break;
    }
    while ((UnitHasBehavior2(lv_target, lv_behavior) == true) && (UnitIsAlive(lv_target) == true)) {
        UnitBehaviorAdd(lv_pod, "NodDisruptionPodAttached", lv_pod, 1);
        UnitSetPosition(lv_pod, UnitGetPosition(lv_target), false);
        Wait(0.0625, c_timeGame);
    }
    UnitKill(lv_pod);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_AttachDisruptionPods_Init () {
    libTIBW_gt_AttachDisruptionPods = TriggerCreate("libTIBW_gt_AttachDisruptionPods_Func");
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_AttachDisruptionPods, null, "NodDisruptionPodAttachedEnemy", c_unitBehaviorChangeCreate);
    TriggerAddEventUnitBehaviorChange(libTIBW_gt_AttachDisruptionPods, null, "NodDisruptionPodAttachedAlly", c_unitBehaviorChangeCreate);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Vertigo Abilities Takeoff
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_VertigoAbilitiesTakeoff_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_airplane;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_airplane = EventUnit();

    // Conditions
    if (testConds) {
        if (!((UnitHasBehavior2(lv_airplane, "Notifyairportaftertakeofforexplosion") == true))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    UnitIssueOrder(lv_airplane, Order(AbilityCommand("CNCAirportPlanetakingoff", 0)), c_orderQueueAddToFront);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_VertigoAbilitiesTakeoff_Init () {
    libTIBW_gt_VertigoAbilitiesTakeoff = TriggerCreate("libTIBW_gt_VertigoAbilitiesTakeoff_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_VertigoAbilitiesTakeoff, null, AbilityCommand("NodDisruptionPod", 0), c_unitAbilStageExecute, false);
    TriggerAddEventUnitAbility(libTIBW_gt_VertigoAbilitiesTakeoff, null, AbilityCommand("NodRevenantBomb", 0), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Mine Drop
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_MineDrop_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Conditions
    if (testConds) {
        if (!((UnitGetType(EventUnitCreatedUnit()) == "NodMine"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    if ((PointPathingPassable(UnitGetPosition(EventUnitCreatedUnit())) == false)) {
        UnitKill(EventUnitCreatedUnit());
    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_MineDrop_Init () {
    libTIBW_gt_MineDrop = TriggerCreate("libTIBW_gt_MineDrop_Func");
    TriggerAddEventUnitCreated(libTIBW_gt_MineDrop, null, "NodMineDrop", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Signature Generator
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_SignatureGenerator_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_signature;
    unit lv_unit;
    fixed lv_dx;
    fixed lv_dy;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_signature = EventUnitCreatedUnit();
    lv_unit = EventUnit();
    lv_dx = (PointGetX(UnitGetPosition(lv_signature)) - PointGetX(UnitGetPosition(lv_unit)));
    lv_dy = (PointGetY(UnitGetPosition(lv_signature)) - PointGetY(UnitGetPosition(lv_unit)));

    // Actions
    if (!runActions) {
        return true;
    }

    while ((UnitIsAlive(lv_unit) == true) && (UnitIsAlive(lv_signature) == true)) {
        UnitIssueOrder(lv_signature, OrderTargetingPoint(AbilityCommand("move", 0), Point((PointGetX(UnitGetPosition(lv_unit)) + lv_dx), (PointGetY(UnitGetPosition(lv_unit)) + lv_dy))), c_orderQueueReplace);
        Wait(0.2, c_timeGame);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_SignatureGenerator_Init () {
    libTIBW_gt_SignatureGenerator = TriggerCreate("libTIBW_gt_SignatureGenerator_Func");
    TriggerAddEventUnitCreated(libTIBW_gt_SignatureGenerator, null, "NodSignatureGenerator", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Reckoner Siege
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ReckonerSiege_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    UnitAbilityChangeLink(EventUnit(), "NodReckonerTransport", "NodReckonerSiegedTransport");
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ReckonerSiege_Init () {
    libTIBW_gt_ReckonerSiege = TriggerCreate("libTIBW_gt_ReckonerSiege_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_ReckonerSiege, null, AbilityCommand("NodReckonerUnpack", 0), c_unitAbilStageComplete, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: ScrinProdigyTeleportUnits Execute
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ScrinProdigyTeleportUnitsExecute_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_player;
    unitgroup lv_units;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_player = UnitGetOwner(EventUnit());
    lv_units = UnitGroupEmpty();

    // Actions
    if (!runActions) {
        return true;
    }

    UnitBehaviorAdd(EventUnit(), "ScrinProdigyTeleportUnitsTargeting", EventUnit(), 1);
    libTIBW_gv_masterMindTeleportMarkPoints[EventPlayer()] = EventUnitTargetPoint();
    UnitGroupAdd(libTIBW_gv_masterMindTeleportCaster[EventPlayer()], EventUnit());
    UISetTargetingOrder(PlayerGroupSingle(EventPlayer()), libTIBW_gv_masterMindTeleportCaster[EventPlayer()], OrderTargetingPoint(AbilityCommand("ScrinProdigyTeleportUnitsTargeting", 0), EventUnitTargetPoint()), true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ScrinProdigyTeleportUnitsExecute_Init () {
    libTIBW_gt_ScrinProdigyTeleportUnitsExecute = TriggerCreate("libTIBW_gt_ScrinProdigyTeleportUnitsExecute_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_ScrinProdigyTeleportUnitsExecute, null, AbilityCommand("ScrinProdigyTeleportUnits", 0), c_unitAbilStageExecute, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: ScrinProdigyTeleportUnitsTargeting Execute
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ScrinProdigyTeleportUnitsTargetingExecute_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_player;
    unit lv_mark;
    unit lv_caster;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_player = UnitGetOwner(EventUnit());
    lv_mark = UnitGroupUnit(libTIBW_gv_masterMindTeleportMarkTarget[EventPlayer()], 1);
    lv_caster = UnitGroupUnit(libTIBW_gv_masterMindTeleportCaster[EventPlayer()], 1);

    // Actions
    if (!runActions) {
        return true;
    }

    libNtve_gf_CreateUnitsWithDefaultFacing(1, "ScrinProdigyTeleportUnitsCoverUnit", 0, UnitGetOwner(EventUnit()), libTIBW_gv_masterMindTeleportMarkPoints[EventPlayer()]);
    lv_mark = UnitLastCreated();
    UnitIssueOrder(lv_mark, OrderTargetingPoint(AbilityCommand("ScrinProdigyTeleportUnitsExecute", 0), EventUnitTargetPoint()), c_orderQueueReplace);
    UnitBehaviorRemove(lv_caster, "ScrinProdigyTeleportUnitsTargeting", 1);
    UnitGroupRemove(libTIBW_gv_masterMindTeleportCaster[EventPlayer()], lv_caster);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ScrinProdigyTeleportUnitsTargetingExecute_Init () {
    libTIBW_gt_ScrinProdigyTeleportUnitsTargetingExecute = TriggerCreate("libTIBW_gt_ScrinProdigyTeleportUnitsTargetingExecute_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_ScrinProdigyTeleportUnitsTargetingExecute, null, AbilityCommand("ScrinProdigyTeleportUnitsTargeting", 0), c_unitAbilStageComplete, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: ScrinProdigyTeleportUnitsTargeting Cancel
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_ScrinProdigyTeleportUnitsTargetingCancel_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_mark;
    unit lv_caster;

    // Automatic Variable Declarations
    // Variable Initialization
    lv_mark = UnitGroupUnit(libTIBW_gv_masterMindTeleportMarkTarget[EventPlayer()], 1);
    lv_caster = UnitGroupUnit(libTIBW_gv_masterMindTeleportCaster[EventPlayer()], 1);

    // Actions
    if (!runActions) {
        return true;
    }

    UnitRemove(lv_mark);
    UnitBehaviorRemove(lv_caster, "ScrinProdigyTeleportUnitsTargeting", 1);
    UnitGroupRemove(libTIBW_gv_masterMindTeleportMarkTarget[EventPlayer()], lv_mark);
    UnitGroupRemove(libTIBW_gv_masterMindTeleportCaster[EventPlayer()], lv_caster);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_ScrinProdigyTeleportUnitsTargetingCancel_Init () {
    libTIBW_gt_ScrinProdigyTeleportUnitsTargetingCancel = TriggerCreate("libTIBW_gt_ScrinProdigyTeleportUnitsTargetingCancel_Func");
    TriggerAddEventUnitAbility(libTIBW_gt_ScrinProdigyTeleportUnitsTargetingCancel, null, AbilityCommand("ScrinProdigyTeleportUnitsTargeting", 0), c_unitAbilStageComplete, false);
    TriggerAddEventTargetModeUpdate(libTIBW_gt_ScrinProdigyTeleportUnitsTargetingCancel, c_playerAny, AbilityCommand("ScrinProdigyTeleportUnitsTargeting", 0), c_targetModeStateOff);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Mechapede Segments Spawn
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_MechapedeSegmentsSpawn_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_caster;
    unit lv_target;
    int lv_player;
    unitgroup lv_segments;
    unit lv_lastSegment;
    unit lv_turretUnit;
    string lv_turretType;
    int lv_segmentsCount;

    // Automatic Variable Declarations
    string auto2FF3A59B_val;

    // Variable Initialization
    lv_caster = EventUnit();
    lv_target = EventUnitCreatedUnit();
    lv_player = UnitGetOwner(lv_caster);
    lv_segments = UnitGetTrackedUnitGroup(lv_caster, "ScrinMechapedeSegmentsTracker");
    lv_segmentsCount = UnitGroupCount(lv_segments, c_unitCountAlive);

    // Actions
    if (!runActions) {
        return true;
    }

    if ((lv_segmentsCount > 0)) {
        lv_lastSegment = UnitGroupUnit(lv_segments, lv_segmentsCount);
    }
    else {
        lv_lastSegment = lv_caster;
    }
    UnitSetPosition(lv_target, PointWithOffsetPolar(UnitGetPosition(lv_lastSegment), -0.75, UnitGetFacing(lv_lastSegment)), false);
    UnitSetFacing(lv_target, UnitGetFacing(lv_lastSegment), 0.0);
    UnitBehaviorAdd(lv_target, "ScrinMechapedeSegmentSuicideWithCaster", lv_caster, 1);
    UnitBehaviorAdd(lv_target, "KillsToCaster", lv_caster, 1);
    UnitBehaviorAdd(lv_target, "SuicideWithCaster", lv_lastSegment, 1);
    UnitCreateEffectUnit(lv_caster, "ScrinMechapedeSegmentsTrackerATU", lv_target);
    UnitCreateEffectUnit(lv_caster, "ScrinMechapedeHeadTrackerATU", lv_target);
    auto2FF3A59B_val = UnitGetType(lv_target);
    if (auto2FF3A59B_val == "ScrinMechapedeDiscSegment") {
        lv_turretType = "ScrinMechapedeDiscSegmentTurret";
        UnitBehaviorAdd(lv_caster, "ScrinMechapedeEquippedWithDiscSegment", lv_target, 1);
    }
    else if (auto2FF3A59B_val == "ScrinMechapedeDisintegratorSegment") {
        lv_turretType = "ScrinMechapedeDisintegratorSegmentTurret";
        UnitBehaviorAdd(lv_caster, "ScrinMechapedeEquippedWithDisintegratorSegment", lv_target, 1);
    }
    else if (auto2FF3A59B_val == "ScrinMechapedeShardSegment") {
        lv_turretType = "ScrinMechapedeShardSegmentTurret";
        UnitBehaviorAdd(lv_caster, "ScrinMechapedeEquippedWithShardSegment", lv_target, 1);
    }
    else if (auto2FF3A59B_val == "ScrinMechapedeToxinSegment") {
        lv_turretType = "ScrinMechapedeToxinSegmentTurret";
        UnitBehaviorAdd(lv_caster, "ScrinMechapedeEquippedWithToxinSegment", lv_target, 1);
    }
    else {
    }
    UnitCreate(1, lv_turretType, 0, lv_player, UnitGetPosition(lv_target), 0.0);
    lv_turretUnit = UnitLastCreated();
    UnitCreateEffectUnit(lv_turretUnit, "ScrinMechapedeSegmentTurretTrackerATU", lv_target);
    UnitBehaviorAdd(lv_turretUnit, "KillsToCaster", lv_caster, 1);
    UnitBehaviorAdd(lv_turretUnit, "SuicideWithCaster", lv_target, 1);
    libTIBW_gf_AttachUnitModelToUnit(lv_turretUnit, lv_target, "Ref_Attacher", 0.0, 0.0, 0.0, "");
    while ((UnitIsAlive(lv_lastSegment) == true) && (UnitIsAlive(lv_target) == true)) {
        if ((DistanceBetweenPoints(UnitGetPosition(lv_target), UnitGetPosition(lv_lastSegment)) > 1)) {
            UnitSetPosition(lv_target, PointWithOffsetPolar(UnitGetPosition(lv_lastSegment), -0.75, UnitGetFacing(lv_lastSegment)), false);
        }

        UnitSetPosition(lv_turretUnit, UnitGetPosition(lv_target), false);
        UnitSetFacing(lv_turretUnit, UnitGetFacing(lv_target), 0.0);
        UnitIssueOrder(lv_target, OrderTargetingUnit(AbilityCommand("ScrinMehapedeSegmentMove", 0), lv_lastSegment), c_orderQueueReplace);
        Wait(0.0625, c_timeGame);
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_MechapedeSegmentsSpawn_Init () {
    libTIBW_gt_MechapedeSegmentsSpawn = TriggerCreate("libTIBW_gt_MechapedeSegmentsSpawn_Func");
    TriggerAddEventUnitCreated(libTIBW_gt_MechapedeSegmentsSpawn, null, "ScrinMechapedeHangar", null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Borrowed bomber custom return trajectory
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_Borrowedbombercustomreturntrajectory_Func (bool testConds, bool runActions) {
    // Variable Declarations
    int lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
    int lv_diyInit;
    unit lv_airPlane;
    point lv_airStrikePoint;
    fixed lv_airStrikeAngle;
    int lv_porNNumber;
    int lv_times;
    int lv_negativeRandom;
    fixed lv_unitSpeed;
    fixed lv_temp;

    // Automatic Variable Declarations
    int auto97AF4E93_ae;
    const int auto97AF4E93_ai = 1;

    // Variable Initialization
    lv_diyInit = 1;
    lv_airPlane = EventPlayerEffectUsedUnit(c_effectUnitCaster);
    lv_airStrikePoint = EventPlayerEffectUsedPoint(c_effectLocationTargetPoint);
    lv_airStrikeAngle = UnitGetFacing(lv_airPlane);
    lv_porNNumber = 1;
    lv_temp = 0.75;

    // Actions
    if (!runActions) {
        return true;
    }

    lv_unitSpeed = UnitGetPropertyFixed(lv_airPlane, c_unitPropMovementSpeed, c_unitPropCurrent);
    lv_negativeRandom = RandomInt(0, 1);
    if ((lv_negativeRandom == 1)) {
        lv_porNNumber = -1;
    }

    while ((lv_times <= 2)) {
        if ((lv_times == 0)) {
            UnitIssueOrder(lv_airPlane, OrderTargetingPoint(AbilityCommand("move", 0), PointWithOffsetPolar(UnitGetPosition(lv_airPlane), (lv_diyInit * (lv_temp * lv_unitSpeed)), lv_airStrikeAngle)), c_orderQueueReplace);
            lv_airStrikeAngle += (lv_porNNumber * 112.5);
        }
        else {
            UnitIssueOrder(lv_airPlane, OrderTargetingPoint(AbilityCommand("move", 0), PointWithOffsetPolar(UnitGetPosition(lv_airPlane), ((0.76 * lv_diyInit) * (lv_temp * lv_unitSpeed)), lv_airStrikeAngle)), c_orderQueueReplace);
            lv_airStrikeAngle += (lv_porNNumber * 45.0);
        }
        Wait((lv_temp * lv_diyInit), c_timeGame);
        lv_times += 1;
    }
    auto97AF4E93_ae = (libTIBW_gv_platformMaxCountRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel - 1);
    lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = 0;
    for ( ; ( (auto97AF4E93_ai >= 0 && lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel <= auto97AF4E93_ae) || (auto97AF4E93_ai < 0 && lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel >= auto97AF4E93_ae) ) ; lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel += auto97AF4E93_ai ) {
        if ((UnitGroupHasUnit(libTIBW_gv_bomberPFUnitsGroupRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel[lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel], lv_airPlane) == true)) {
            UnitIssueOrder(lv_airPlane, OrderTargetingPoint(AbilityCommand("VertigoLand", 0), UnitGetPosition(UnitGroupUnit(libTIBW_gv_bomberPFUnitsGroupRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel[lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel], 1))), c_orderQueueReplace);
            break;
        }

    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_Borrowedbombercustomreturntrajectory_Init () {
    libTIBW_gt_Borrowedbombercustomreturntrajectory = TriggerCreate("libTIBW_gt_Borrowedbombercustomreturntrajectory_Func");
    TriggerEnable(libTIBW_gt_Borrowedbombercustomreturntrajectory, false);
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_Borrowedbombercustomreturntrajectory, c_playerAny, "CABALVertigoBombEA");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Borrowed bomber creation bindingStarchain Test
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_BorrowedbombercreationbindingStarchainTest_Func (bool testConds, bool runActions) {
    // Variable Declarations
    unit lv_bomber;
    unit lv_platformRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
    int lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;

    // Automatic Variable Declarations
    int autoA5C0725A_ae;
    const int autoA5C0725A_ai = 1;

    // Variable Initialization
    lv_bomber = EventPlayerEffectUsedUnit(c_effectUnitTarget);
    lv_platformRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = EventPlayerEffectUsedUnit(c_effectUnitCaster);

    // Actions
    if (!runActions) {
        return true;
    }

    UnitGroupAdd(libTIBW_gv_bomberFighterTempGroup, lv_bomber);
    if ((UnitGroupHasUnit(libTIBW_gv_bomberPlatformTempGroup, lv_platformRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel) == false)) {
        UnitGroupAdd(libTIBW_gv_bomberPlatformTempGroup, lv_platformRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel);
        UnitGroupAdd(libTIBW_gv_bomberPFUnitsGroupRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel[libTIBW_gv_platformNowCountRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel], lv_platformRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel);
        UnitGroupAdd(libTIBW_gv_bomberPFUnitsGroupRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel[libTIBW_gv_platformNowCountRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel], lv_bomber);
        libTIBW_gv_platformNowCountRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel += 1;
    }
    else {
        autoA5C0725A_ae = (libTIBW_gv_platformMaxCountRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel - 1);
        lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = 0;
        for ( ; ( (autoA5C0725A_ai >= 0 && lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel <= autoA5C0725A_ae) || (autoA5C0725A_ai < 0 && lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel >= autoA5C0725A_ae) ) ; lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel += autoA5C0725A_ai ) {
            if ((UnitGroupHasUnit(libTIBW_gv_bomberPFUnitsGroupRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel[lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel], lv_platformRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel) == true)) {
                UnitGroupClear(libTIBW_gv_bomberPFUnitsGroupRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel[lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel]);
                UnitGroupAdd(libTIBW_gv_bomberPFUnitsGroupRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel[lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel], lv_platformRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel);
                UnitGroupAdd(libTIBW_gv_bomberPFUnitsGroupRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel[lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel], lv_bomber);
                break;
            }

        }
    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_BorrowedbombercreationbindingStarchainTest_Init () {
    libTIBW_gt_BorrowedbombercreationbindingStarchainTest = TriggerCreate("libTIBW_gt_BorrowedbombercreationbindingStarchainTest_Func");
    TriggerEnable(libTIBW_gt_BorrowedbombercreationbindingStarchainTest, false);
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_BorrowedbombercreationbindingStarchainTest, c_playerAny, "VertigoCreate");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Launch airstrikeStarchain Test
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_LaunchairstrikeStarchainTest_Func (bool testConds, bool runActions) {
    // Variable Declarations
    fixed lv_range;
    region lv_areaRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;
    int lv_defaultIntRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel;

    // Automatic Variable Declarations
    unitgroup autoBA573FEE_g;
    int autoBA573FEE_u;
    unit autoBA573FEE_var;

    // Variable Initialization

    // Actions
    if (!runActions) {
        return true;
    }

    lv_range = 8.0;
    lv_areaRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = RegionCircle(EventPlayerEffectUsedPoint(c_effectLocationTargetPoint), lv_range);
    libTIBW_gv_aOEStrikeCasterTemp = EventPlayerEffectUsedUnit(c_effectUnitCaster);
    SoundPlayForPlayer(SoundLink("Vertigo_Attack", -1), c_maxPlayers, PlayerGroupAll(), 100.0, 0.0);
    autoBA573FEE_g = libTIBW_gv_bomberFighterTempGroup;
    autoBA573FEE_u = UnitGroupCount(autoBA573FEE_g, c_unitCountAll);
    for (;; autoBA573FEE_u -= 1) {
        autoBA573FEE_var = UnitGroupUnitFromEnd(autoBA573FEE_g, autoBA573FEE_u);
        if (autoBA573FEE_var == null) { break; }
        if ((UnitGetType(autoBA573FEE_var) == "CABALVertigoLanded") && (UnitGetOwner(autoBA573FEE_var) == EventPlayer())) {
            UnitIssueOrder(autoBA573FEE_var, Order(AbilityCommand("Vertigotakeoff", 0)), c_orderQueueReplace);
            libTIBW_gv_bomberUsable -= 1;
            Wait(0.125, c_timeGame);
            libTIBW_gf_NodAirRaid(autoBA573FEE_var, lv_areaRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel);
        }

    }
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_LaunchairstrikeStarchainTest_Init () {
    libTIBW_gt_LaunchairstrikeStarchainTest = TriggerCreate("libTIBW_gt_LaunchairstrikeStarchainTest_Func");
    TriggerEnable(libTIBW_gt_LaunchairstrikeStarchainTest, false);
    TriggerAddEventPlayerEffectUsed(libTIBW_gt_LaunchairstrikeStarchainTest, c_playerAny, "VertigoAttackSet");
}

//--------------------------------------------------------------------------------------------------
// Trigger: Nod Top PanelStarchain Test
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_NodTopPanelStarchainTest_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerEnable(TriggerGetCurrent(), false);
    libNtve_gf_CreateUnitsWithDefaultFacing(1, "NodCaster", c_unitCreateIgnorePlacement, 1, Point(3.0, 3.0));
    libTIBW_gv_nODCaster = UnitLastCreated();
    DialogCreate((76 * 2), (76 * 9), c_anchorRight, 0, -100, true);
    DialogSetImageVisible(DialogLastCreated(), false);
    libTIBW_gv_nODCommandPanelDialog = DialogLastCreated();
    DialogControlCreateFromTemplate(libTIBW_gv_nODCommandPanelDialog, c_triggerControlTypeCommandPanel, "NodTopPanel/SoACommandPanelTemplateNOD");
    libTIBW_gv_nODCommandPanl = DialogControlLastCreated();
    libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(libTIBW_gv_nODCaster), PlayerGroupAll());
    DialogSetVisible(libTIBW_gv_nODCommandPanelDialog, PlayerGroupAll(), true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_NodTopPanelStarchainTest_Init () {
    libTIBW_gt_NodTopPanelStarchainTest = TriggerCreate("libTIBW_gt_NodTopPanelStarchainTest_Func");
}

//--------------------------------------------------------------------------------------------------
// Trigger: MCV Deploy PanelStarchain Test
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_MCVDeployPanelStarchainTest_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    TriggerEnable(TriggerGetCurrent(), false);
    libNtve_gf_CreateUnitsWithDefaultFacing(1, "CABALCrawlerDeployCaster", c_unitCreateIgnorePlacement, 1, Point(3.0, 3.0));
    libTIBW_gv_mCVCasterRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = UnitLastCreated();
    DialogCreate(900, 400, c_anchorTop, 0, 0, true);
    libTIBW_gv_mCVPanel = DialogLastCreated();
    DialogControlCreateFromTemplate(libTIBW_gv_mCVPanel, c_triggerControlTypeCommandPanel, "DeployMCVPanel/MCVDeployPanelTemplate");
    libTIBW_gv_mCVDeploymentPanelRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel = DialogControlLastCreated();
    DialogControlSetPosition(libTIBW_gv_mCVDeploymentPanelRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel, PlayerGroupAll(), c_anchorTop, -70, 30);
    libNtve_gf_SetDialogItemUnitGroup(DialogControlLastCreated(), libNtve_gf_ConvertUnitToUnitGroup(libTIBW_gv_mCVCasterRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel), PlayerGroupAll());
    libNtve_gf_CreateDialogItemLabel(DialogLastCreated(), 300, 50, c_anchorBottom, 30, 30, StringExternal("Param/Value/lib_TIBW_991E0E3C"), ColorWithAlpha(0,0,0,0), true, 2.0);
    DialogSetVisible(libTIBW_gv_mCVPanel, PlayerGroupAll(), true);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_MCVDeployPanelStarchainTest_Init () {
    libTIBW_gt_MCVDeployPanelStarchainTest = TriggerCreate("libTIBW_gt_MCVDeployPanelStarchainTest_Func");
    TriggerEnable(libTIBW_gt_MCVDeployPanelStarchainTest, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Deployment detectionStarchain Test
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_DeploymentdetectionStarchainTest_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Conditions
    if (testConds) {
        if (!((UnitGetType(EventUnit()) == "CABALCrawlerDeployCaster"))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    DialogSetVisible(libTIBW_gv_mCVPanel, PlayerGroupAll(), false);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_DeploymentdetectionStarchainTest_Init () {
    libTIBW_gt_DeploymentdetectionStarchainTest = TriggerCreate("libTIBW_gt_DeploymentdetectionStarchainTest_Func");
    TriggerEnable(libTIBW_gt_DeploymentdetectionStarchainTest, false);
    TriggerAddEventUnitAbility(libTIBW_gt_DeploymentdetectionStarchainTest, null, null, c_unitAbilStageAll, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: Disable other MCVsStarchain Test
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_DisableotherMCVsStarchainTest_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Conditions
    if (testConds) {
        if (!((UnitGetOwner(EventUnit()) == 1))) {
            return false;
        }
    }

    // Actions
    if (!runActions) {
        return true;
    }

    if ((UnitGetType(EventUnit()) == "CABALOffenseCrawler")) {
        TechTreeAbilityAllow(1, AbilityCommand("DeployMCVDefense", 0), false);
        TechTreeAbilityAllow(1, AbilityCommand("DeployMCVSupport", 0), false);
    }

    if ((UnitGetType(EventUnit()) == "CABALDefenseCrawler")) {
        TechTreeAbilityAllow(1, AbilityCommand("DeployMCVOffense", 0), false);
        TechTreeAbilityAllow(1, AbilityCommand("DeployMCVSupport", 0), false);
    }

    if ((UnitGetType(EventUnit()) == "CABALSupportCrawler")) {
        TechTreeAbilityAllow(1, AbilityCommand("DeployMCVDefense", 0), false);
        TechTreeAbilityAllow(1, AbilityCommand("DeployMCVOffense", 0), false);
    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_DisableotherMCVsStarchainTest_Init () {
    libTIBW_gt_DisableotherMCVsStarchainTest = TriggerCreate("libTIBW_gt_DisableotherMCVsStarchainTest_Func");
    TriggerEnable(libTIBW_gt_DisableotherMCVsStarchainTest, false);
    TriggerAddEventUnitRegion(libTIBW_gt_DisableotherMCVsStarchainTest, null, RegionEntireMap(), true);
}

//--------------------------------------------------------------------------------------------------
// Trigger: MCV redeployStarchain Test
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt_MCVredeployStarchainTest_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    if ((UnitGetType(EventUnit()) == "CABALOffenseCrawler")) {
        UIDisplayMessage(PlayerGroupAll(), c_messageAreaSubtitle, StringExternal("Param/Value/lib_TIBW_C33C01A4"));
        Wait(0.5, c_timeGame);
        DialogSetVisible(libTIBW_gv_mCVPanel, PlayerGroupAll(), true);
    }

    if ((UnitGetType(EventUnit()) == "CABALDefenseCrawler")) {
        UIDisplayMessage(PlayerGroupAll(), c_messageAreaSubtitle, StringExternal("Param/Value/lib_TIBW_06F7264C"));
        Wait(0.5, c_timeGame);
        DialogSetVisible(libTIBW_gv_mCVPanel, PlayerGroupAll(), true);
    }

    if ((UnitGetType(EventUnit()) == "CABALSupportCrawler")) {
        UIDisplayMessage(PlayerGroupAll(), c_messageAreaSubtitle, StringExternal("Param/Value/lib_TIBW_75FED3F4"));
        Wait(0.5, c_timeGame);
        DialogSetVisible(libTIBW_gv_mCVPanel, PlayerGroupAll(), true);
    }

    if ((UnitGetType(EventUnit()) == "CABALDefenseCrawlerDeployed")) {
        UIDisplayMessage(PlayerGroupAll(), c_messageAreaSubtitle, StringExternal("Param/Value/lib_TIBW_4337F561"));
        Wait(0.5, c_timeGame);
        DialogSetVisible(libTIBW_gv_mCVPanel, PlayerGroupAll(), true);
    }

    if ((UnitGetType(EventUnit()) == "CABALOffenseCrawlerDeployed")) {
        UIDisplayMessage(PlayerGroupAll(), c_messageAreaSubtitle, StringExternal("Param/Value/lib_TIBW_B653B3CD"));
        Wait(0.5, c_timeGame);
        DialogSetVisible(libTIBW_gv_mCVPanel, PlayerGroupAll(), true);
    }

    if ((UnitGetType(EventUnit()) == "CABALSupportCrawlerDeployed")) {
        UIDisplayMessage(PlayerGroupAll(), c_messageAreaSubtitle, StringExternal("Param/Value/lib_TIBW_1A61AA67"));
        Wait(0.5, c_timeGame);
        DialogSetVisible(libTIBW_gv_mCVPanel, PlayerGroupAll(), true);
    }

    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt_MCVredeployStarchainTest_Init () {
    libTIBW_gt_MCVredeployStarchainTest = TriggerCreate("libTIBW_gt_MCVredeployStarchainTest_Func");
    TriggerEnable(libTIBW_gt_MCVredeployStarchainTest, false);
    TriggerAddEventUnitDied(libTIBW_gt_MCVredeployStarchainTest, null);
}

//--------------------------------------------------------------------------------------------------
// Trigger: _Nod Drop PodStarchain Test
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt__NodDropPodStarchainTest_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf__NodDropPod(libTIBW_gv_cNC_TP_DropPod_LocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel, libTIBW_gv_cNC_TP_DropPod_Units, libTIBW_gv_playerIntegerRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt__NodDropPodStarchainTest_Init () {
    libTIBW_gt__NodDropPodStarchainTest = TriggerCreate("libTIBW_gt__NodDropPodStarchainTest_Func");
    TriggerEnable(libTIBW_gt__NodDropPodStarchainTest, false);
}

//--------------------------------------------------------------------------------------------------
// Trigger: _GDI Drop Pod
//--------------------------------------------------------------------------------------------------
bool libTIBW_gt__GDIDropPod_Func (bool testConds, bool runActions) {
    // Automatic Variable Declarations
    // Actions
    if (!runActions) {
        return true;
    }

    libTIBW_gf__GDIDropPod(libTIBW_gv_cNC_TP_DropPod_LocationRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel, libTIBW_gv_cNC_TP_DropPod_Units, libTIBW_gv_playerIntegerRoyalGuardExperienceGainingUnitGroupReturnedworkunitgroupPickedupweaponsetWeaponPickupUnitGroupStarChargeLevel);
    return true;
}

//--------------------------------------------------------------------------------------------------
void libTIBW_gt__GDIDropPod_Init () {
    libTIBW_gt__GDIDropPod = TriggerCreate("libTIBW_gt__GDIDropPod_Func");
    TriggerEnable(libTIBW_gt__GDIDropPod, false);
}

void libTIBW_InitTriggers () {
    libTIBW_gt_WatchUnitCreation_Init();
    libTIBW_gt_WatchUnitOwner_Init();
    libTIBW_gt_WatchUnitDeath_Init();
    libTIBW_gt_WatchUnitBehaviors_Init();
    libTIBW_gt_RecalculateBeacons_Init();
    libTIBW_gt_InitBeaconsButton_Init();
    libTIBW_gt_BeaconsButtonUsed_Init();
    libTIBW_gt_ProductionUI_Init();
    libTIBW_gt_DisguiseUsed_Init();
    libTIBW_gt_CamouflagedUnitcreated_Init();
    libTIBW_gt_AlliedSpyDisguse_Init();
    libTIBW_gt_Unitupgradespecialeffects_Init();
    libTIBW_gt_Unitsgainexperiencebyrisingstars_Init();
    libTIBW_gt_Initialattributesettingsforalliedplayers_Init();
    libTIBW_gt_Charging_Init();
    libTIBW_gt_Playercommanderrepairpanelsettings_Init();
    libTIBW_gt_AlliedRepairPanelSettings_Init();
    libTIBW_gt_ChaowupanelUIproduction_Init();
    libTIBW_gt_TimeandSpaceTeleportationSticky_Init();
    libTIBW_gt_Clearthecoverafterteleportation_Init();
    libTIBW_gt_Clearthecoveraftertheteleportationiscancelled_Init();
    libTIBW_gt_GAMESTART_Init();
    libTIBW_gt_GAMESTARTCheckNod_Init();
    libTIBW_gt_NodunitCreated_Init();
    libTIBW_gt_GAMESTARTNod_Init();
    libTIBW_gt_CNCStructureSalvageRefund_Init();
    libTIBW_gt_ConstructionStarted_Init();
    libTIBW_gt_ConstructionCompleted_Init();
    libTIBW_gt_ConstructionCanceled_Init();
    libTIBW_gt_NewConstructionOptions_Init();
    libTIBW_gt_NewConstructionOptionsUnitDeployed_Init();
    libTIBW_gt_Repairing_Init();
    libTIBW_gt_LowPower_Init();
    libTIBW_gt_PowerRestored_Init();
    libTIBW_gt_TrainingStarted_Init();
    libTIBW_gt_TrainingCompleted_Init();
    libTIBW_gt_TrainingCanceled_Init();
    libTIBW_gt_NewRallyPoint_Init();
    libTIBW_gt_AllyDefeated_Init();
    libTIBW_gt_UnitComplete_Init();
    libTIBW_gt_UnitAttacked_Init();
    libTIBW_gt_UnitLost_Init();
    libTIBW_gt_CaptureHuskCanceled_Init();
    libTIBW_gt_CaptureHuskInitiated_Init();
    libTIBW_gt_MoveCommandOverrideCancel_Init();
    libTIBW_gt_MoveCommandOverrideComplete_Init();
    libTIBW_gt_CarryVespene_Init();
    libTIBW_gt_HarvestVespeneRich_Init();
    libTIBW_gt_CarryVespeneRich_Init();
    libTIBW_gt_CarryMinerals_Init();
    libTIBW_gt_CarryHYMinerals_Init();
    libTIBW_gt_CarryTiberiumMinerals_Init();
    libTIBW_gt_Dropoff_Init();
    libTIBW_gt_PowerUsersManagement_Init();
    libTIBW_gt_PowerDummyInitScion_Init();
    libTIBW_gt_EnergyCalculation_Init();
    libTIBW_gt_AIRSUPPORTCREATED_Init();
    libTIBW_gt_AIRPODCREATED_Init();
    libTIBW_gt_AIRPORTSMapINIT_Init();
    libTIBW_gt_MoveCommandOverrideExecute2_Init();
    libTIBW_gt_CREATEDAircraftmanufacturingcompleted_Init();
    libTIBW_gt_LANDINGAlliedairfieldlanding_Init();
    libTIBW_gt_Aircraftrestorationslot_Init();
    libTIBW_gt_TAKEOFFTheeffectoftheplaneaftertakeoff_Init();
    libTIBW_gt_TAKEOFFATTACK_Init();
    libTIBW_gt_NOAMMORETURN_Init();
    libTIBW_gt_ENABLEAUTORETURN_Init();
    libTIBW_gt_DISABLEAUTORETURN_Init();
    libTIBW_gt_DOCKEDCANCELLEDremovelock_Init();
    libTIBW_gt_ABILITYRETURNTOAIRPORTGLOBAL_Init();
    libTIBW_gt_ABILITYRETURNTOAIRPORTTARGET_Init();
    libTIBW_gt_Pioneermobileresetcd_Init();
    libTIBW_gt_VanguardAttackSurround_Init();
    libTIBW_gt_CIRCLEAlliedfighterplanesautomaticallycirclewhenstopped_Init();
    libTIBW_gt_Maintenancebeeheightadjustment_Init();
    libTIBW_gt_Maintenancebeeheightrestored_Init();
    libTIBW_gt_SalvageRefund_Init();
    libTIBW_gt_NodConstructionDiscard_Init();
    libTIBW_gt_ConstructionOptionselected_Init();
    libTIBW_gt_ShadowGlide_Init();
    libTIBW_gt_ShadowLanding_Init();
    libTIBW_gt_NodDecoyArmyTargeting_Init();
    libTIBW_gt_NodDecoyArmyExecute_Init();
    libTIBW_gt_NodDecoyArmyExecuteCancel_Init();
    libTIBW_gt_Pushing_Init();
    libTIBW_gt_PushingEnd_Init();
    libTIBW_gt_HubBuild_Init();
    libTIBW_gt_NodTurretReconstructSet_Init();
    libTIBW_gt_NodBeamCannonDistantAttackDelay_Init();
    libTIBW_gt_NodBeamCannonWeaponDelay_Init();
    libTIBW_gt_SeedTiberium_Init();
    libTIBW_gt_Nuke_Init();
    libTIBW_gt_AttachDisruptionPods_Init();
    libTIBW_gt_VertigoAbilitiesTakeoff_Init();
    libTIBW_gt_MineDrop_Init();
    libTIBW_gt_SignatureGenerator_Init();
    libTIBW_gt_ReckonerSiege_Init();
    libTIBW_gt_ScrinProdigyTeleportUnitsExecute_Init();
    libTIBW_gt_ScrinProdigyTeleportUnitsTargetingExecute_Init();
    libTIBW_gt_ScrinProdigyTeleportUnitsTargetingCancel_Init();
    libTIBW_gt_MechapedeSegmentsSpawn_Init();
    libTIBW_gt_Borrowedbombercustomreturntrajectory_Init();
    libTIBW_gt_BorrowedbombercreationbindingStarchainTest_Init();
    libTIBW_gt_LaunchairstrikeStarchainTest_Init();
    libTIBW_gt_NodTopPanelStarchainTest_Init();
    libTIBW_gt_MCVDeployPanelStarchainTest_Init();
    libTIBW_gt_DeploymentdetectionStarchainTest_Init();
    libTIBW_gt_DisableotherMCVsStarchainTest_Init();
    libTIBW_gt_MCVredeployStarchainTest_Init();
    libTIBW_gt__NodDropPodStarchainTest_Init();
    libTIBW_gt__GDIDropPod_Init();
}

//--------------------------------------------------------------------------------------------------
// Library Initialization
//--------------------------------------------------------------------------------------------------
bool libTIBW_InitLib_completed = false;

void libTIBW_InitLib () {
    if (libTIBW_InitLib_completed) {
        return;
    }

    libTIBW_InitLib_completed = true;

    libTIBW_InitLibraries();
    libTIBW_InitVariables();
    libTIBW_InitTriggers();
}

