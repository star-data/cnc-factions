<Catalog>
    <CUnit id="AlliedChronoSphere" parent="AlliedStructure">
        <Facing value="49.9987"/>
        <Attributes index="Heroic" value="1"/>
        <LifeStart value="2000"/>
        <LifeMax value="2000"/>
        <Sight value="6"/>
        <!--Food value="-6"/-->
        <CostCategory value="Army"/>
        <CostResource index="Minerals" value="3000"/>
        <RepairTime value="50"/>
        <AbilArray Link="attack"/>
<!--        <AbilArray Link="AlliedChronosphereActivation"/>-->
        <AbilArray Link="AlliedChronosphereTargeting"/>
        <BehaviorArray Link="RAMovementSpeedAndArmor20Percent4822"/>
        <BehaviorArray Link="RAMovementSpeedAndArmor20Percent48222"/>
        <BehaviorArray Link="PowerUserQueue"/>
        <BehaviorArray Link="Alliedforcesbuildsmallenergycircle"/>
        <BehaviorArray Link="Lowpower22"/>
        <BehaviorArray Link="RASufficientpower"/>
        <AbilArray Link="AlliedChronoSphere_Actor"/>
        <CardLayouts index="0">
            <LayoutButtons Face="Stop" Type="AbilCmd" AbilCmd="stop,Stop" Row="0" Column="1"/>
            <LayoutButtons Face="AttackBuilding" Type="AbilCmd" AbilCmd="attack,Execute" Row="0" Column="4"/>
            <LayoutButtons Face="IronCurtain3" Type="AbilCmd" AbilCmd="AlliedChronosphereTargeting,Execute" Row="0" Column="0"/>
        </CardLayouts>
        <Radius value="3"/>
        <SeparationRadius value="3"/>
        <Footprint value="Footprint4x4Contour"/>
        <DeadFootprint value="Footprint4x4Contour"/>
        <PlacementFootprint value="Footprint4x4"/>
        <ScoreMake value="12500"/>
        <ScoreKill value="2500"/>
        <SubgroupPriority value="3"/>
        <MinimapRadius value="2"/>
    </CUnit>
    <CUnit id="AlliedOldChronosphere" parent="AlliedStructure">
        <Facing value="49.9987"/>
        <Attributes index="Heroic" value="1"/>
        <LifeStart value="5000"/>
        <LifeMax value="5000"/>
        <Sight value="6"/>
        <!--Food value="-6"/-->
        <CostCategory value="Army"/>
        <CostResource index="Minerals" value="3000"/>
        <RepairTime value="50"/>
        <AbilArray Link="attack"/>
<!--        <AbilArray Link="ScannerSweep"/>-->
<!--        <AbilArray Link="AlliedChronosphereActivation"/>-->
        <AbilArray Link="AlliedChronosphereTargeting"/>
        <BehaviorArray Link="RAMovementSpeedAndArmor20Percent4822"/>
        <BehaviorArray Link="RAMovementSpeedAndArmor20Percent48222"/>
        <BehaviorArray Link="PowerUserQueue"/>
        <BehaviorArray Link="Alliedforcesbuildsmallenergycircle"/>
        <CardLayouts index="0">
            <LayoutButtons Face="Stop" Type="AbilCmd" AbilCmd="stop,Stop" Row="0" Column="1"/>
            <LayoutButtons Face="AttackBuilding" Type="AbilCmd" AbilCmd="attack,Execute" Row="0" Column="4"/>
<!--            <LayoutButtons Face="Scan" Type="AbilCmd" AbilCmd="ScannerSweep,Execute" Row="2" Column="1"/>-->
            <LayoutButtons Face="IronCurtain3" Type="AbilCmd" AbilCmd="AlliedChronosphereTargeting,Execute" Row="0" Column="0"/>
<!--            <LayoutButtons Face="IronCurtain3" Type="AbilCmd" AbilCmd="AlliedChronosphereActivation,Execute" Row="0" Column="1"/>-->
        </CardLayouts>
        <Radius value="3"/>
        <SeparationRadius value="3"/>
        <Footprint value="Footprint4x4Contour"/>
        <DeadFootprint value="Footprint4x4Contour"/>
        <PlacementFootprint value="Footprint4x4"/>
        <ScoreMake value="12500"/>
        <ScoreKill value="2500"/>
        <SubgroupPriority value="3"/>
        <MinimapRadius value="2"/>
        <EditorCategories value="ObjectType:Structure,ObjectFamily:RA2"/>
    </CUnit>

    <CAbilEffectTarget id="AlliedChronosphereTargeting">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="RATimeAndSpaceTeleportationTestNullEffect"/>
        <Cost>
            <Charge Link="Abil/NovaNuclearStrike"/>
            <!--      todo      <Cooldown Link="chaoshikong" TimeStart="180" TimeUse="180"/>-->
            <Cooldown Link="chaoshikong" TimeStart="5" TimeUse="5"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <Marker Link="Abil/NovaNuclearStrike"/>
        <AlertArray index="Cast" value="CalldownLaunch"/>
        <CursorEffect value="RATeleportToSearchForOwnUnits"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="IronCurtain3" Requirements="SuperWeaponRe22"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel3"/>
<!--        <PrepEffect value="ChronoSprer"/>-->
    </CAbilEffectTarget>
<!--    <CAbilEffectTarget id="AlliedChronosphereActivation">-->
<!--        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>-->
<!--        <Effect index="0" value="ChronoSprer"/>-->
<!--        <Cost>-->
<!--            <Charge Link="Abil/NovaNuclearStrike"/>-->
<!--            &lt;!&ndash;           todo <Cooldown Link="chaoshikong" TimeUse="120"/>&ndash;&gt;-->
<!--            <Cooldown Link="chaoshikong" TimeUse="5"/>-->
<!--        </Cost>-->
<!--        <Range value="500"/>-->
<!--        <Arc value="360"/>-->
<!--        <Marker Link="Abil/NovaNuclearStrike"/>-->
<!--        <AlertArray index="Cast" value="CalldownLaunch"/>-->
<!--        <CursorEffect value="RATeleportToSearchForOwnUnits"/>-->
<!--        <CmdButtonArray index="Execute" DefaultButtonFace="IronCurtain3" Requirements="SuperWeaponRe22"/>-->
<!--        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel3"/>-->
<!--        <PrepEffect value="ChronoSprer"/>-->
<!--    </CAbilEffectTarget>-->
    <CAbilEffectTarget id="AlliedChronoSphere_Actor">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="RATheTeleportationEffectStarts"/>
        <Cost>
            <Charge Link="Abil/NovaNuclearStrike"/>
            <!--     todo       <Cooldown Link="chaoshikong" TimeUse="120"/>-->
            <Cooldown Link="chaoshikong" TimeUse="5"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <Marker Link="Abil/NovaNuclearStrike"/>
        <AlertArray index="Cast" value="CalldownLaunch"/>
        <CursorEffect value="RATeleportToSearchForOwnUnits"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="IronCurtain3" Requirements="SuperWeaponRe22"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel32"/>
    </CAbilEffectTarget>



    <CModel id="AlliedOldChronosphere" parent="Building" Race="Terran">
        <Model value="Assets\models\Allied\AuChronoRA2.m3"/>
        <Occlusion value="Show"/>
        <Radius value="3.000000"/>
        <RadiusLoose value="0.000000"/>
        <ScaleMax value="0.850000,0.850000,0.850000"/>
        <ScaleMin value="0.850000,0.850000,0.850000"/>
        <SelectionLayer value="2"/>
        <SelectionRadius value="2.000000"/>
        <ShadowRadius value="3.000000"/>
        <SquibTypeDefault value="Metal"/>
    </CModel>
    <CActorUnit id="AlliedOldChronosphere" parent="TerranBuilding" unitName="AlliedOldChronosphere">
        <On Terms="Abil.*.PawnTarget" Send="AnimPlay"/>
        <On Terms="Behavior.RAMovementSpeedAndArmor20Percent48222.Off" Send="AnimBracketStart Attack1 Stand,Work,Start Stand,Work Stand,Work,End"/>
        <On Terms="Abil.AlliedChronosphereTargeting.SourceFinishStart" Send="AnimBracketStop Attack1"/>
        <On Terms="Behavior.RAMovementSpeedAndArmor20Percent4822.Off" Send="PlayUnitSound Board"/>
        <On Terms="Behavior.RAMovementSpeedAndArmor20Percent48222.Off" Send="Create RAChronoTeleportationReadySoundEffect"/>
        <Scale value="0.950000"/>
        <DeathArray index="Normal" ModelLink="TerranBuildingDeath" SoundLink="Bunker_Explode"/>
        <DeathActorModel value="UnitDeathModelPersistent"/>
        <DeathActorModelLow value="UnitDeathModelPersistent"/>
        <PlacementSound value="Terran_BuildingPlacement2"/>
        <PortraitModel value="StaticPortrait9"/>
        <AbilSoundArray AbilCmd="AlliedChronosphereTargeting,Execute" Sound="Odin_NukeExplode22222"/>
        <BarOffset value="120"/>
        <BarWidth value="160"/>
        <GroupIcon>
            <Image value="Assets\icons\Allied\wireframe-of-the-second-generation-hypertime-teleportation-device.dds"/>
        </GroupIcon>
        <HeroIcon value="Assets\icons\Allied\second-generation-hypertime-teleportation-device-icon.dds"/>
        <LifeArmorIcon value="Assets\Textures\btn-upgrade-terran-buildingarmor.dds"/>
        <NameOffset value="150"/>
        <SoundArray index="Birth" value="AlliedChronoSphere_Actor_Birth"/>
        <SoundArray index="Ready" value="AlliedChronoSphere_Actor_Birth"/>
        <SoundArray index="Help" value="GhostAcademy_Help"/>
        <SoundArray index="What" value="AlliedChronoSphere_Actor_Birth"/>
        <SoundArray index="Yes" value="GhostAcademy_Yes"/>
        <SoundArray index="Attack" value="GhostAcademy_Attack"/>
        <SoundArray index="Pissed" value="GhostAcademy_Pissed"/>
        <SoundArray index="Movement" value="GhostAcademy_Movement"/>
        <SoundArray index="Turning" value="GhostAcademy_Turning"/>
        <SoundArray index="Board" value="AlliedChronoSphere_Actor_Board"/>
        <SoundArray index="Construction" value="AlliedChronoSphere_Actor_Birth"/>
        <SoundArray index="Click" value="AlliedChronoSphere_Actor_Birth"/>
        <SoundArray index="ClickError" value="GhostAcademy_ClickError"/>
        <SoundArray index="Highlight" value="GhostAcademy_Highlight"/>
        <UnitFlags index="ShowBlobShadow" value="0"/>
        <UnitIcon value="Assets\icons\Allied\second-generation-hypertime-teleportation-device-icon.dds"/>
        <Wireframe>
            <Image value="Assets\icons\Allied\wireframe-of-the-second-generation-hypertime-teleportation-device.dds"/>
        </Wireframe>
        <Model value="AlliedOldChronosphere"/>
        <HighlightTooltip value="Unit/Name/AlliedChronosphereActivation"/>
    </CActorUnit>

<!--    <CValidatorUnitType id="IsNotHellionTank2344">-->
<!--        <ResultFailed value="CantLoadThatUnit"/>-->
<!--        <Value value="KerriganChar"/>-->
<!--        <Find value="0"/>-->
<!--    </CValidatorUnitType>-->

<!--    <CEffectEnumArea id="RATeleportToSearchForZombieUnits">-->
<!--        <LaunchLocation Value="CasterPoint"/>-->
<!--        <ImpactLocation Value="CasterPoint"/>-->
<!--        <SearchFilters value="-;Self,Player,Ally,Neutral,Air,Mechanical,Structure,Heroic,Dead,Invulnerable,MapBoss,HeroUnit"/>-->
<!--        <AreaArray Radius="3.5" Effect="RATimeAndSpaceInstantKill"/>-->
<!--    </CEffectEnumArea>-->
    <CEffectEnumArea id="RATimeTeleportationSearchForZombieUnitsInTheWholeMapIsStill">
        <LaunchLocation Value="CasterPoint"/>
        <ImpactLocation Value="CasterPoint"/>
        <SearchFilters value="-;Self,Player,Ally,Neutral,Dead"/>
        <AreaArray Radius="500" Effect="herrschertenpotAB22"/>
        <Chance value="0"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="herrschertenpotAB22">
        <Behavior value="herrschertenpotlocked22"/>
        <Chance value="0"/>
    </CEffectApplyBehavior>
    <CBehaviorBuff id="herrschertenpotlocked22">
        <InfoIcon value="Assets\Textures\btn-ability-protoss-hardenedshields-color.dds"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <TimeScaleSource Value="Global"/>
        <Duration value="3"/>
        <Modification TimeScale="0.01">
            <ModifyFlags index="DisableAbils" value="1"/>
            <ModifyFlags index="DisableWeapons" value="1"/>
            <ModifyFlags index="Reveal" value="1"/>
            <ModifyFlags index="Detected" value="1"/>
            <ModifyFlags index="SuppressMoving" value="1"/>
            <ModifyFlags index="SuppressTurning" value="1"/>
            <StateFlags index="Silence" value="1"/>
            <StateFlags index="SuppressAttack" value="1"/>
        </Modification>
    </CBehaviorBuff>

    <CEffectSet id="ChronoSprer">
        <EditorCategories value="Race:Terran"/>
        <TargetLocationType value="Unknown"/>
        <EffectArray value="Auchrono2"/>
    </CEffectSet>
    <CEffectCreatePersistent id="RATheTeleportationEffectStarts">
        <InitialEffect value="RATimeAndSpaceTeleportationSearchRangeEffectCollection"/>
        <PeriodCount value="1"/>
        <PeriodicPeriodArray value="0.1"/>
        <RevealRadius value="6"/>
        <RevealFlags index="Unfog" value="1"/>
    </CEffectCreatePersistent>
    <CEffectSet id="RATimeAndSpaceTeleportationSearchRangeEffectCollection">
        <EffectArray value="ChronoSprer"/>
        <EffectArray value="RATeleportToSearchForOwnUnits"/>
<!--        <EffectArray value="RATeleportToSearchForZombieUnits"/>-->
        <EffectArray value="RATimeTeleportationSearchForZombieUnitsInTheWholeMapIsStill"/>
        <TargetLocationType value="Unknown"/>
    </CEffectSet>
    <CEffectEnumArea id="RATeleportToSearchForOwnUnits">
        <LaunchLocation Value="TargetPoint"/>
        <ImpactLocation Value="CasterPoint"/>
        <SearchFilters value="Ground;Neutral,Air,Structure"/>
        <AreaArray Radius="3.5" Effect="AlliedChronoSTemp"/>
    </CEffectEnumArea>
    <CEffectTeleport id="AlliedChronoSTemp">
        <PlacementAround Effect="RATeleportToSearchForOwnUnits"/>
        <TargetLocation Effect="RATeleportToSearchForOwnUnits" Value="TargetPoint"/>
        <PlacementRange value="10"/>
        <SourceLocation Effect="RATeleportToSearchForOwnUnits" Value="CasterPoint"/>
        <TeleportFlags index="TestFog" value="0"/>
        <TeleportEffect value="RAApplyInvincibilityWithin7SecondsAfterTeleportation"/>
<!--        <ValidatorArray value="IsNotHellionTank2344"/>-->
    </CEffectTeleport>
    <CEffectCreateUnit id="Auchrono2">
        <WhichLocation Value="TargetPoint"/>
        <SpawnUnit value="AlliedChronoTeleportationCoverUnit"/>
    </CEffectCreateUnit>
    <CEffectEnumArea id="Auchrono3">
        <SearchFilters value="-;Self,Ally,Neutral,Enemy,Air,Structure"/>
        <AreaArray Radius="3.5" Effect="RATeleportationApplicationBehavior"/>
    </CEffectEnumArea>
    <CEffectApplyBehavior id="RATeleportationApplicationBehavior">
        <Behavior value="VoidShade222"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="RAApplyInvincibilityWithin7SecondsAfterTeleportation">
        <Behavior value="xianfeng42"/>
        <Chance value="0"/>
    </CEffectApplyBehavior>


    <CBehaviorBuff id="RAMovementSpeedAndArmor20Percent6" parent="TimedLife">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Duration value="70"/>
        <BuffFlags index="Countdown" value="0"/>
    </CBehaviorBuff>
    <CUnit id="AlliedChronoTeleportationCoverUnit">
        <Race value="Allied"/>
        <FlagArray index="Undetectable" value="1"/>
        <FlagArray index="Invulnerable" value="1"/>
        <FlagArray index="ClearRallyOnTargetLost" value="0"/>
        <Sight value="4"/>
        <AbilArray Link="AlliedChronoSphere_Actor"/>
        <BehaviorArray Link="Chronopear1"/>
        <BehaviorArray Link="RAMovementSpeedAndArmor20Percent6"/>
        <CardLayouts>
            <LayoutButtons Face="IronCurtain3" Type="AbilCmd" AbilCmd="AlliedChronoSphere_Actor,Execute" Row="0" Column="0"/>
            <LayoutButtons Face="Cancel32" Type="AbilCmd" AbilCmd="AlliedChronoSphere_Actor,Cancel" Row="2" Column="4"/>
        </CardLayouts>
        <EditorCategories value="ObjectType:Other,ObjectFamily:Melee"/>
    </CUnit>
    <CActorUnit id="AlliedChronoTeleportationCoverUnit" parent="GenericUnitStandard" unitName="AlliedChronoTeleportationCoverUnit">
        <Scale value="0.650000"/>
        <HighlightTooltip value="Unit/Name/Bogus"/>
        <On Terms="ActorCreation" Send="AnimBracketStart Brith Stand"/>
    </CActorUnit>
    <CModel id="AlliedChronoTeleportationCoverUnit" Race="Neutral">
        <Model value="Assets\Effects\Protoss\TimeBomb\TimeBomb.m3"/>
        <EditorCategories value="Race:Neutral"/>
        <Flags index="TeenSafe" value="1"/>
        <SelectionRadius value="1.000000"/>
        <ShadowRadius value="0.000000"/>
    </CModel>



    <CBehaviorBuff id="Chronopear1">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Period value="1"/>
        <InitialEffect value="Auchrono3"/>
        <PeriodicEffect value="Auchrono3"/>
    </CBehaviorBuff>

    <CBehaviorBuff id="xianfeng42">
        <InfoIcon value="Assets\icons\发动超时空传送.dds"/>
        <DisplayDuration index="Self" value="1"/>
        <Duration value="5"/>
        <InitialEffect value="RARemoveTheBehaviorOfBeingUnableToMoveAndAttackDuringTheTeleportationAfterTimeSpaceTeleportation"/>
        <Modification MoveSpeedBonus="1">
            <StateFlags index="Cloak" value="1"/>
            <StateFlags index="UnitAttrOnMapBoss" value="1"/>
            <VitalRegenArray index="Life" value="1000"/>
            <BehaviorLinkDisableArray value="ZHybridPsionicShockwaveHeightAndStun"/>
        </Modification>
        <DamageResponse ModifyFraction="0.05">
            <Chance value="1"/>
        </DamageResponse>
    </CBehaviorBuff>
    <CEffectSet id="RATimeAndSpaceTeleportationTestNullEffect">
        <TargetLocationType value="Point"/>
        <EffectArray value="RATimeAndSpaceTeleportationTestEmptyEffectStarts"/>
        <EffectArray value="SuperWeapon120ScooldownAB22"/>
        <EffectArray value="SuperWeapon120ScooldownAB222"/>
    </CEffectSet>
    <CEffectRemoveBehavior id="RARemoveTheBehaviorOfBeingUnableToMoveAndAttackDuringTheTeleportationAfterTimeSpaceTeleportation">
        <BehaviorLink value="VoidShade222"/>
    </CEffectRemoveBehavior>
    <CBehaviorBuff id="VoidShade222">
        <InfoIcon value="Assets\Textures\btn-ability-stetmann-banelingmanashield.dds"/>
        <Duration value="1.1"/>
        <Modification>
            <StateFlags index="Cloak" value="1"/>
        </Modification>
        <DamageResponse ModifyFraction="0.001">
            <Chance value="1"/>
        </DamageResponse>
    </CBehaviorBuff>


    <CEffectApplyBehavior id="SuperWeapon120ScooldownAB22">
        <WhichUnit Value="Caster"/>
        <Behavior value="RAMovementSpeedAndArmor20Percent4822"/>
    </CEffectApplyBehavior>
    <CEffectApplyBehavior id="SuperWeapon120ScooldownAB222">
        <WhichUnit Value="Caster"/>
        <Behavior value="RAMovementSpeedAndArmor20Percent48222"/>
    </CEffectApplyBehavior>
    <CBehaviorBuff id="RAMovementSpeedAndArmor20Percent4822">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <BuffFlags index="DisableWhileUnderConstruction" value="1"/>
        <Duration value="180"/>
        <InfoFlags index="Hidden" value="1"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="RAMovementSpeedAndArmor20Percent48222">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <BuffFlags index="DisableWhileUnderConstruction" value="1"/>
        <Duration value="170"/>
        <InfoFlags index="Hidden" value="1"/>
    </CBehaviorBuff>

    <CEffectSet id="RATimeAndSpaceTeleportationTestEmptyEffectStarts">
        <TargetLocationType value="Unknown"/>
    </CEffectSet>

    <CBehaviorBuff id="ZHybridPsionicShockwaveHeightAndStun">
        <Alignment value="Negative"/>
        <InfoIcon value="Assets\Textures\btn-ability-protoss-blink.dds"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Duration value="0.875"/>
        <Period value="0.5"/>
        <PeriodCount value="1"/>
        <InitialEffect value="ZHybridPsionicShockwaveRaise"/>
        <PeriodicEffect value="ZHybridPsionicShockwaveLower"/>
        <FinalEffect value="ZHybridPsionicShockwaveSpellDamage"/>
        <Modification>
            <StateFlags index="Stun" value="1"/>
        </Modification>
        <BehaviorCategories index="Stun" value="1"/>
    </CBehaviorBuff>


    <CEffectModifyUnit id="ZHybridPsionicShockwaveRaise">
        <EditorCategories value="Race:Protoss"/>
        <Height value="1.75"/>
        <HeightTime value="0.375"/>
    </CEffectModifyUnit>
    <CEffectModifyUnit id="ZHybridPsionicShockwaveLower">
        <EditorCategories value="Race:Protoss"/>
        <Height value="-1.75"/>
        <HeightTime value="0.25"/>
    </CEffectModifyUnit>
    <CEffectDamage id="ZHybridPsionicShockwaveSpellDamage">
        <Amount value="20"/>
    </CEffectDamage>



</Catalog>