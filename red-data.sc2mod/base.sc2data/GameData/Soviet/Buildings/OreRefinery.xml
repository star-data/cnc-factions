<Catalog>
    <CAbilTrain id="SovietOreRefineryTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <DataCollection value="BarracksTrain"/>
        <Range value="5"/>
        <InfoArray index="Train1" Time="34"><Button DefaultButtonFace="SovietOreMiner"/><Unit value="SovietOreMiner"/></InfoArray>
        <InfoArray index="Train2" Time="15"><Button DefaultButtonFace="SovietMCV"/><Unit value="SovietMCV"/></InfoArray>
    </CAbilTrain>

    <CUnit id="SovietOreRefinery" parent="SovietStructure">
        <FlagArray index="PreventReveal" value="1"/>
        <ResourceDropOff index="Minerals" value="1"/>
        <ResourceDropOff index="Vespene" value="1"/>
        <ResourceDropOff index="Terrazine" value="1"/>
        <ResourceDropOff index="Custom" value="1"/>
        <LifeStart value="1500"/>
        <LifeMax value="1500"/>
        <Sight value="8"/>
        <CostResource index="Minerals" value="400"/>
        <RepairTime value="66.6667"/>
        <AttackTargetPriority value="20"/>
        <KillXP value="20"/>
        <AbilArray Link="Rally"/>
        <AbilArray Link="SovietOreRefineryTrain"/>
        <AbilArray Link="RATechnologyCenterResearch4"/>
        <AbilArray Link="RA3TechLevel"/>
        <BehaviorArray Link="JurefinerycreateMiner3"/>
        <BehaviorArray Link="PowerUserQueue"/>
        <BehaviorArray Link="PowerSource2"/>
        <BehaviorArray Link="RefineryB"/>
        <CardLayouts index="0">
            <LayoutButtons  AbilCmd="SovietOreRefineryTrain,Train1"  Type="AbilCmd" Row="0" Column="0" Face="SovietOreMiner"/>
            <LayoutButtons  AbilCmd="SovietOreRefineryTrain,Train2"  Type="AbilCmd" Row="0" Column="1" Face="SovietMCV"/>
            <LayoutButtons Face="Rally" Type="AbilCmd" AbilCmd="Rally,Rally1" Row="1" Column="4"/>

<!--            <LayoutButtons Face="RAMinerUpgradeCollectionVolume" Type="AbilCmd" AbilCmd="RATechnologyCenterResearch4,Research21" Row="1" Column="0"/>-->
<!--            <LayoutButtons Face="RAMinerUpgradeMiningSpeed1" Type="AbilCmd" AbilCmd="RATechnologyCenterResearch4,Research22" Row="1" Column="1"/>-->
<!--            <LayoutButtons Face="RAUpgradeCollectionCapacity" Type="AbilCmd" AbilCmd="RATechnologyCenterResearch4,Research26" Row="1" Column="2"/>-->
        </CardLayouts>
        <Radius value="1.25"/>
        <SeparationRadius value="1.25"/>
        <Footprint value="Footprint5x5DropOff"/>
        <PlacementFootprint value="Footprint5x5DropOff"/>
        <SubgroupPriority value="10"/>
        <MinimapRadius value="2"/>
    </CUnit>
    <CActorUnit id="SovietOreRefinery" parent="SovietBuilding" unitName="SovietOreRefinery" icon="Refinery">
        <StatusHarvesterData Text="UI/HarvesterCountMinerals" SearchFilters="HarvestableResource;Ally,Enemy" SearchRadius="8"/>
        <On Terms="UnitDeathCustomize; ModelVariation 1" Send="DeathCustomize Variation2"/>
        <On Terms="UnitConstruction.SovietOreRefinery.Start" Send="AnimPlay 111 Build PlayForever,NonLooping -1.000000 -1.000000 0.887500 AsTimeScale"/>
        <On Terms="UnitConstruction.SovietOreRefinery.Finish" Send="AnimClear 111"/>
        <On Terms="UnitConstruction.SovietOreRefinery.Cancel" Send="AnimClear 111"/>
        <Scale value="0.770000"/>
        <DeathArray index="Normal" ModelLink="TerranLargeBuildingDeath" SoundLink="Terran_ExplosionLarge" VoiceLink="InfestedDominionHousing3DeathVoice"/>
        <DeathActorModel value="UnitDeathModelPersistent"/>
        <DeathActorModelLow value="UnitDeathModelPersistent"/>
        <BarOffset value="190"/>
        <BarWidth value="200"/>
        <HighlightTooltip value="Unit/Name/SURefinery"/>
        <NameOffset value="130"/>
        <SoundArray index="Birth" value="SovietOreRefinery_Birth"/>
        <SoundArray index="Ready" value="SovietOreRefinery_Ready"/>
        <SoundArray index="What" value="SovietOreRefinery_Ready"/>
        <SoundArray index="Board" value="SovietOreMiner_What"/>
        <SoundArray index="Construction" value="SovietOreRefinery_Ready"/>
        <SoundArray index="Click" value="SovietOreRefinery_Ready"/>
        <StatusBarFlags index="Energy" value="0"/>
        <StatusBarFlags index="Cargo" value="0"/>
        <UnitFlags index="ShowBlobShadow" value="0"/>
        <PlacementSound value="Terran_BuildingPlacement2"/>
    </CActorUnit>
    <CActorModel id="EngineeringBay22232" parent="ModelConstruction" unitName="EngineeringBay2">
        <On Terms="UnitConstruction.SovietOreRefinery.Start" Send="Create"/>
        <On Terms="ActorCreation" Send="AnimBracketStart 111 {} Birth,Stand {} ContentNonLooping,ContentPlayOnce,OpeningPlayForever,Instant"/>
        <On Terms="UnitConstruction.SovietOreRefinery.Finish" Send="AnimBracketStop 111"/>
        <On Terms="UnitConstruction.SovietOreRefinery.Cancel" Send="AnimBracketStop 111"/>
        <Model value="EngineeringBay23232"/>
    </CActorModel>
    <CBehaviorBuff id="RefineryB">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Duration value="1"/>
        <FinalEffect value="RefineryRBSet"/>
        <BuffFlags index="DisableWhileUnderConstruction" value="1"/>
        <InfoFlags index="Hidden" value="1"/>
    </CBehaviorBuff>
    <CBehaviorBuff id="JurefinerycreateMiner3">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Requirements value="HaveMediumAirframes2254232"/>
        <BuffFlags index="DisableWhileUnderConstruction" value="1"/>
        <Duration value="0.5"/>
        <ExpireEffect value="JurefinerycreateMiner4"/>
        <InfoFlags index="Hidden" value="1"/>
    </CBehaviorBuff>
    <CButton id="BuildTankTrap22422">
        <Icon value="Assets\icons\Soviet\soviet-minecart-construction-icon.dds"/>
    </CButton>
    <CButton id="Sukantanche">
        <Icon value="Assets\icons\Soviet\sputnik-exploration-vehicle-build-icon.dds"/>
    </CButton>
    <CButton id="RAUpgradeCollectionCapacity">
        <Icon value="Assets\icons\Soviet\soviet-mining-trucks-switch-back-to-mining-mode.dds"/>
    </CButton>
    <CEffectRemoveBehavior id="RefineryRB">
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="JurefinerycreateMiner2"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RefineryRB4">
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="JurefinerycreateMiner"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RefineryRB2">
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="JurefinerycreateMiner4"/>
    </CEffectRemoveBehavior>
    <CEffectRemoveBehavior id="RefineryRB3">
        <WhichUnit Value="Caster"/>
        <BehaviorLink value="JurefinerycreateMiner3"/>
    </CEffectRemoveBehavior>
    <CEffectSet id="RefineryRBSet">
        <EffectArray value="RefineryRB4"/>
        <EffectArray value="RefineryRB3"/>
        <EffectArray value="RefineryRB2"/>
        <EffectArray value="RefineryRB"/>
    </CEffectSet>
    <CEffectCreateUnit id="JurefinerycreateMiner4">
        <EditorCategories value="Race:Terran"/>
        <SpawnUnit value="SovietHarvester"/>
    </CEffectCreateUnit>

    <CModel id="EngineeringBay23232" parent="EngineeringBayBase">
        <Model value="assets\buildings\soviet\Refinery_BuildSupport.m3"/>
        <AnimSpeed value="0.812500"/>
        <ScaleMax value="0.800000,0.800000,0.800000"/>
        <ScaleMin value="0.800000,0.800000,0.800000"/>
        <SelectionRadius value="1.500000"/>
    </CModel>
    <CModel id="SovietOreRefinery" parent="Building">
        <Model value="assets\buildings\soviet\Refinery.m3"/>
        <EditorCategories value="Race:Terran"/>
        <Flags index="AutoUnload" value="1"/>
        <Radius value="1.200000"/>
        <SelectionRadius value="2.000000"/>
        <ShadowRadius value="1.250000"/>
        <SelectionLayer value="2"/>
    </CModel>
    <CSound id="SovietOreRefinery_Ready" parent="TerranAck_Void">
        <AssetArray File="Assets\sounds\soviet-mine_selecta.ogg" FacialGroup=""/>
        <Flags index="NeedsUpdate" value="1"/>
        <Flags index="NeedsTTS" value="1"/>
        <Volume value="-1.000000,-1.000000"/>
    </CSound>
    <CUpgrade id="UnknownUpgrade36">
        <EffectArray Reference="Abil,SCVHarvest2,ResourceAmountBonus[Minerals]" Value="5"/>
        <EffectArray Reference="Abil,RATechnologyCenterResearch4,InfoArray[Research21].Resource[Minerals]" Value="200"/>
        <EffectArray Reference="Effect,RACollectionAmountDisplay,Amount" Value="5"/>
        <EffectArray Reference="Abil,RATechnologyCenterResearch4,InfoArray[Research21].Time" Value="2.000000"/>
        <MaxLevel value="10"/>
    </CUpgrade>
    <CUpgrade id="UnknownUpgrade37">
        <EffectArray Operation="Set" Reference="Unit,DumpTruck2,StationaryTurningRate" Value="1440.000000"/>
        <EffectArray Operation="Set" Reference="Unit,DumpTruck2,TurningRate" Value="1440.000000"/>
        <EffectArray Operation="Multiply" Reference="Unit,DumpTruck2,LifeStart" Value="5"/>
        <EffectArray Reference="Unit,DumpTruck2,LifeArmor" Value="19"/>
        <EffectArray Reference="Unit,DumpTruck2,LifeArmorLevel" Value="10"/>
        <EffectArray Operation="Multiply" Reference="Unit,DumpTruck2,LifeMax" Value="5"/>
        <EffectArray Operation="Set" Reference="Abil,SCVHarvest2,ResourceTimeMultiplier[Custom]" Value="0"/>
        <EffectArray Operation="Set" Reference="Abil,SCVHarvest2,ResourceTimeMultiplier[Minerals]" Value="0"/>
        <EffectArray Operation="Set" Reference="Abil,SCVHarvest2,ResourceTimeMultiplier[Terrazine]" Value="0"/>
        <EffectArray Operation="Set" Reference="Abil,SCVHarvest2,ResourceTimeMultiplier[Vespene]" Value="0"/>
    </CUpgrade>
</Catalog>